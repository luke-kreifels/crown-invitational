(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function s(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(u){if(u.ep)return;u.ep=!0;const f=s(u);fetch(u.href,f)}})();var Rc={exports:{}},$s={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bg;function hS(){if(Bg)return $s;Bg=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(r,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var m in u)m!=="key"&&(f[m]=u[m])}else f=u;return u=f.ref,{$$typeof:l,type:r,key:h,ref:u!==void 0?u:null,props:f}}return $s.Fragment=n,$s.jsx=s,$s.jsxs=s,$s}var Ug;function dS(){return Ug||(Ug=1,Rc.exports=hS()),Rc.exports}var x=dS(),Nc={exports:{}},ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig;function mS(){if(Ig)return ne;Ig=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),E=Symbol.iterator;function A(v){return v===null||typeof v!="object"?null:(v=E&&v[E]||v["@@iterator"],typeof v=="function"?v:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,W={};function K(v,z,X){this.props=v,this.context=z,this.refs=W,this.updater=X||L}K.prototype.isReactComponent={},K.prototype.setState=function(v,z){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,z,"setState")},K.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function Ue(){}Ue.prototype=K.prototype;function Ie(v,z,X){this.props=v,this.context=z,this.refs=W,this.updater=X||L}var j=Ie.prototype=new Ue;j.constructor=Ie,H(j,K.prototype),j.isPureReactComponent=!0;var pe=Array.isArray,le={H:null,A:null,T:null,S:null},ft=Object.prototype.hasOwnProperty;function I(v,z,X,V,k,oe){return X=oe.ref,{$$typeof:l,type:v,key:z,ref:X!==void 0?X:null,props:oe}}function on(v,z){return I(v.type,z,void 0,void 0,void 0,v.props)}function Q(v){return typeof v=="object"&&v!==null&&v.$$typeof===l}function J(v){var z={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(X){return z[X]})}var Dt=/\/+/g;function Ot(v,z){return typeof v=="object"&&v!==null&&v.key!=null?J(""+v.key):z.toString(36)}function pt(){}function he(v){switch(v.status){case"fulfilled":return v.value;case"rejected":throw v.reason;default:switch(typeof v.status=="string"?v.then(pt,pt):(v.status="pending",v.then(function(z){v.status==="pending"&&(v.status="fulfilled",v.value=z)},function(z){v.status==="pending"&&(v.status="rejected",v.reason=z)})),v.status){case"fulfilled":return v.value;case"rejected":throw v.reason}}throw v}function Ee(v,z,X,V,k){var oe=typeof v;(oe==="undefined"||oe==="boolean")&&(v=null);var te=!1;if(v===null)te=!0;else switch(oe){case"bigint":case"string":case"number":te=!0;break;case"object":switch(v.$$typeof){case l:case n:te=!0;break;case S:return te=v._init,Ee(te(v._payload),z,X,V,k)}}if(te)return k=k(v),te=V===""?"."+Ot(v,0):V,pe(k)?(X="",te!=null&&(X=te.replace(Dt,"$&/")+"/"),Ee(k,z,X,"",function(Me){return Me})):k!=null&&(Q(k)&&(k=on(k,X+(k.key==null||v&&v.key===k.key?"":(""+k.key).replace(Dt,"$&/")+"/")+te)),z.push(k)),1;te=0;var We=V===""?".":V+":";if(pe(v))for(var me=0;me<v.length;me++)V=v[me],oe=We+Ot(V,me),te+=Ee(V,z,X,oe,k);else if(me=A(v),typeof me=="function")for(v=me.call(v),me=0;!(V=v.next()).done;)V=V.value,oe=We+Ot(V,me++),te+=Ee(V,z,X,oe,k);else if(oe==="object"){if(typeof v.then=="function")return Ee(he(v),z,X,V,k);throw z=String(v),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return te}function U(v,z,X){if(v==null)return v;var V=[],k=0;return Ee(v,V,"","",function(oe){return z.call(X,oe,k++)}),V}function $(v){if(v._status===-1){var z=v._result;z=z(),z.then(function(X){(v._status===0||v._status===-1)&&(v._status=1,v._result=X)},function(X){(v._status===0||v._status===-1)&&(v._status=2,v._result=X)}),v._status===-1&&(v._status=0,v._result=z)}if(v._status===1)return v._result.default;throw v._result}var F=typeof reportError=="function"?reportError:function(v){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof v=="object"&&v!==null&&typeof v.message=="string"?String(v.message):String(v),error:v});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",v);return}console.error(v)};function ve(){}return ne.Children={map:U,forEach:function(v,z,X){U(v,function(){z.apply(this,arguments)},X)},count:function(v){var z=0;return U(v,function(){z++}),z},toArray:function(v){return U(v,function(z){return z})||[]},only:function(v){if(!Q(v))throw Error("React.Children.only expected to receive a single React element child.");return v}},ne.Component=K,ne.Fragment=s,ne.Profiler=u,ne.PureComponent=Ie,ne.StrictMode=r,ne.Suspense=_,ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,ne.act=function(){throw Error("act(...) is not supported in production builds of React.")},ne.cache=function(v){return function(){return v.apply(null,arguments)}},ne.cloneElement=function(v,z,X){if(v==null)throw Error("The argument must be a React element, but you passed "+v+".");var V=H({},v.props),k=v.key,oe=void 0;if(z!=null)for(te in z.ref!==void 0&&(oe=void 0),z.key!==void 0&&(k=""+z.key),z)!ft.call(z,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&z.ref===void 0||(V[te]=z[te]);var te=arguments.length-2;if(te===1)V.children=X;else if(1<te){for(var We=Array(te),me=0;me<te;me++)We[me]=arguments[me+2];V.children=We}return I(v.type,k,void 0,void 0,oe,V)},ne.createContext=function(v){return v={$$typeof:h,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null},v.Provider=v,v.Consumer={$$typeof:f,_context:v},v},ne.createElement=function(v,z,X){var V,k={},oe=null;if(z!=null)for(V in z.key!==void 0&&(oe=""+z.key),z)ft.call(z,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(k[V]=z[V]);var te=arguments.length-2;if(te===1)k.children=X;else if(1<te){for(var We=Array(te),me=0;me<te;me++)We[me]=arguments[me+2];k.children=We}if(v&&v.defaultProps)for(V in te=v.defaultProps,te)k[V]===void 0&&(k[V]=te[V]);return I(v,oe,void 0,void 0,null,k)},ne.createRef=function(){return{current:null}},ne.forwardRef=function(v){return{$$typeof:m,render:v}},ne.isValidElement=Q,ne.lazy=function(v){return{$$typeof:S,_payload:{_status:-1,_result:v},_init:$}},ne.memo=function(v,z){return{$$typeof:g,type:v,compare:z===void 0?null:z}},ne.startTransition=function(v){var z=le.T,X={};le.T=X;try{var V=v(),k=le.S;k!==null&&k(X,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(ve,F)}catch(oe){F(oe)}finally{le.T=z}},ne.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},ne.use=function(v){return le.H.use(v)},ne.useActionState=function(v,z,X){return le.H.useActionState(v,z,X)},ne.useCallback=function(v,z){return le.H.useCallback(v,z)},ne.useContext=function(v){return le.H.useContext(v)},ne.useDebugValue=function(){},ne.useDeferredValue=function(v,z){return le.H.useDeferredValue(v,z)},ne.useEffect=function(v,z){return le.H.useEffect(v,z)},ne.useId=function(){return le.H.useId()},ne.useImperativeHandle=function(v,z,X){return le.H.useImperativeHandle(v,z,X)},ne.useInsertionEffect=function(v,z){return le.H.useInsertionEffect(v,z)},ne.useLayoutEffect=function(v,z){return le.H.useLayoutEffect(v,z)},ne.useMemo=function(v,z){return le.H.useMemo(v,z)},ne.useOptimistic=function(v,z){return le.H.useOptimistic(v,z)},ne.useReducer=function(v,z,X){return le.H.useReducer(v,z,X)},ne.useRef=function(v){return le.H.useRef(v)},ne.useState=function(v){return le.H.useState(v)},ne.useSyncExternalStore=function(v,z,X){return le.H.useSyncExternalStore(v,z,X)},ne.useTransition=function(){return le.H.useTransition()},ne.version="19.0.0",ne}var Hg;function df(){return Hg||(Hg=1,Nc.exports=mS()),Nc.exports}var Pt=df(),Dc={exports:{}},ea={},Oc={exports:{}},Mc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg;function gS(){return kg||(kg=1,function(l){function n(U,$){var F=U.length;U.push($);e:for(;0<F;){var ve=F-1>>>1,v=U[ve];if(0<u(v,$))U[ve]=$,U[F]=v,F=ve;else break e}}function s(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var $=U[0],F=U.pop();if(F!==$){U[0]=F;e:for(var ve=0,v=U.length,z=v>>>1;ve<z;){var X=2*(ve+1)-1,V=U[X],k=X+1,oe=U[k];if(0>u(V,F))k<v&&0>u(oe,V)?(U[ve]=oe,U[k]=F,ve=k):(U[ve]=V,U[X]=F,ve=X);else if(k<v&&0>u(oe,F))U[ve]=oe,U[k]=F,ve=k;else break e}}return $}function u(U,$){var F=U.sortIndex-$.sortIndex;return F!==0?F:U.id-$.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();l.unstable_now=function(){return h.now()-m}}var _=[],g=[],S=1,E=null,A=3,L=!1,H=!1,W=!1,K=typeof setTimeout=="function"?setTimeout:null,Ue=typeof clearTimeout=="function"?clearTimeout:null,Ie=typeof setImmediate<"u"?setImmediate:null;function j(U){for(var $=s(g);$!==null;){if($.callback===null)r(g);else if($.startTime<=U)r(g),$.sortIndex=$.expirationTime,n(_,$);else break;$=s(g)}}function pe(U){if(W=!1,j(U),!H)if(s(_)!==null)H=!0,he();else{var $=s(g);$!==null&&Ee(pe,$.startTime-U)}}var le=!1,ft=-1,I=5,on=-1;function Q(){return!(l.unstable_now()-on<I)}function J(){if(le){var U=l.unstable_now();on=U;var $=!0;try{e:{H=!1,W&&(W=!1,Ue(ft),ft=-1),L=!0;var F=A;try{t:{for(j(U),E=s(_);E!==null&&!(E.expirationTime>U&&Q());){var ve=E.callback;if(typeof ve=="function"){E.callback=null,A=E.priorityLevel;var v=ve(E.expirationTime<=U);if(U=l.unstable_now(),typeof v=="function"){E.callback=v,j(U),$=!0;break t}E===s(_)&&r(_),j(U)}else r(_);E=s(_)}if(E!==null)$=!0;else{var z=s(g);z!==null&&Ee(pe,z.startTime-U),$=!1}}break e}finally{E=null,A=F,L=!1}$=void 0}}finally{$?Dt():le=!1}}}var Dt;if(typeof Ie=="function")Dt=function(){Ie(J)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,pt=Ot.port2;Ot.port1.onmessage=J,Dt=function(){pt.postMessage(null)}}else Dt=function(){K(J,0)};function he(){le||(le=!0,Dt())}function Ee(U,$){ft=K(function(){U(l.unstable_now())},$)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(U){U.callback=null},l.unstable_continueExecution=function(){H||L||(H=!0,he())},l.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<U?Math.floor(1e3/U):5},l.unstable_getCurrentPriorityLevel=function(){return A},l.unstable_getFirstCallbackNode=function(){return s(_)},l.unstable_next=function(U){switch(A){case 1:case 2:case 3:var $=3;break;default:$=A}var F=A;A=$;try{return U()}finally{A=F}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(U,$){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var F=A;A=U;try{return $()}finally{A=F}},l.unstable_scheduleCallback=function(U,$,F){var ve=l.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ve+F:ve):F=ve,U){case 1:var v=-1;break;case 2:v=250;break;case 5:v=1073741823;break;case 4:v=1e4;break;default:v=5e3}return v=F+v,U={id:S++,callback:$,priorityLevel:U,startTime:F,expirationTime:v,sortIndex:-1},F>ve?(U.sortIndex=F,n(g,U),s(_)===null&&U===s(g)&&(W?(Ue(ft),ft=-1):W=!0,Ee(pe,F-ve))):(U.sortIndex=v,n(_,U),H||L||(H=!0,he())),U},l.unstable_shouldYield=Q,l.unstable_wrapCallback=function(U){var $=A;return function(){var F=A;A=$;try{return U.apply(this,arguments)}finally{A=F}}}}(Mc)),Mc}var jg;function _S(){return jg||(jg=1,Oc.exports=gS()),Oc.exports}var xc={exports:{}},gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg;function pS(){if(qg)return gt;qg=1;var l=df();function n(_){var g="https://react.dev/errors/"+_;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)g+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(_,g,S){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:E==null?null:""+E,children:_,containerInfo:g,implementation:S}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(_,g){if(_==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gt.createPortal=function(_,g){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return f(_,g,null,S)},gt.flushSync=function(_){var g=h.T,S=r.p;try{if(h.T=null,r.p=2,_)return _()}finally{h.T=g,r.p=S,r.d.f()}},gt.preconnect=function(_,g){typeof _=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(_,g))},gt.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},gt.preinit=function(_,g){if(typeof _=="string"&&g&&typeof g.as=="string"){var S=g.as,E=m(S,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,L=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;S==="style"?r.d.S(_,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:L}):S==="script"&&r.d.X(_,{crossOrigin:E,integrity:A,fetchPriority:L,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},gt.preinitModule=function(_,g){if(typeof _=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var S=m(g.as,g.crossOrigin);r.d.M(_,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(_)},gt.preload=function(_,g){if(typeof _=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var S=g.as,E=m(S,g.crossOrigin);r.d.L(_,S,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},gt.preloadModule=function(_,g){if(typeof _=="string")if(g){var S=m(g.as,g.crossOrigin);r.d.m(_,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(_)},gt.requestFormReset=function(_){r.d.r(_)},gt.unstable_batchedUpdates=function(_,g){return _(g)},gt.useFormState=function(_,g,S){return h.H.useFormState(_,g,S)},gt.useFormStatus=function(){return h.H.useHostTransitionStatus()},gt.version="19.0.0",gt}var Gg;function yS(){if(Gg)return xc.exports;Gg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),xc.exports=pS(),xc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg;function vS(){if(Yg)return ea;Yg=1;var l=_S(),n=df(),s=yS();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var f=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),L=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),Ue=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),pe=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function ft(e){return e===null||typeof e!="object"?null:(e=le&&e[le]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function on(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case m:return"Portal";case S:return"Profiler";case g:return"StrictMode";case W:return"Suspense";case K:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case L:return(e.displayName||"Context")+".Provider";case A:return(e._context.displayName||"Context")+".Consumer";case H:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ue:return t=e.displayName||null,t!==null?t:on(e.type)||"Memo";case Ie:t=e._payload,e=e._init;try{return on(e(t))}catch{}}return null}var Q=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=Object.assign,Dt,Ot;function pt(e){if(Dt===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Dt=t&&t[1]||"",Ot=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dt+e+Ot}var he=!1;function Ee(e,t){if(!e||he)return"";he=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var M=function(){throw Error()};if(Object.defineProperty(M.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(M,[])}catch(N){var R=N}Reflect.construct(e,[],M)}else{try{M.call()}catch(N){R=N}e.call(M.prototype)}}else{try{throw Error()}catch(N){R=N}(M=e())&&typeof M.catch=="function"&&M.catch(function(){})}}catch(N){if(N&&R&&typeof N.stack=="string")return[N.stack,R.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=a.DetermineComponentFrameRoot(),d=c[0],p=c[1];if(d&&p){var y=d.split(`
`),T=p.split(`
`);for(o=a=0;a<y.length&&!y[a].includes("DetermineComponentFrameRoot");)a++;for(;o<T.length&&!T[o].includes("DetermineComponentFrameRoot");)o++;if(a===y.length||o===T.length)for(a=y.length-1,o=T.length-1;1<=a&&0<=o&&y[a]!==T[o];)o--;for(;1<=a&&0<=o;a--,o--)if(y[a]!==T[o]){if(a!==1||o!==1)do if(a--,o--,0>o||y[a]!==T[o]){var D=`
`+y[a].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=a&&0<=o);break}}}finally{he=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?pt(i):""}function U(e){switch(e.tag){case 26:case 27:case 5:return pt(e.type);case 16:return pt("Lazy");case 13:return pt("Suspense");case 19:return pt("SuspenseList");case 0:case 15:return e=Ee(e.type,!1),e;case 11:return e=Ee(e.type.render,!1),e;case 1:return e=Ee(e.type,!0),e;default:return""}}function $(e){try{var t="";do t+=U(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function F(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function ve(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(F(e)!==e)throw Error(r(188))}function z(e){var t=e.alternate;if(!t){if(t=F(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,a=t;;){var o=i.return;if(o===null)break;var c=o.alternate;if(c===null){if(a=o.return,a!==null){i=a;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===i)return v(o),e;if(c===a)return v(o),t;c=c.sibling}throw Error(r(188))}if(i.return!==a.return)i=o,a=c;else{for(var d=!1,p=o.child;p;){if(p===i){d=!0,i=o,a=c;break}if(p===a){d=!0,a=o,i=c;break}p=p.sibling}if(!d){for(p=c.child;p;){if(p===i){d=!0,i=c,a=o;break}if(p===a){d=!0,a=c,i=o;break}p=p.sibling}if(!d)throw Error(r(189))}}if(i.alternate!==a)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function X(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=X(e),t!==null)return t;e=e.sibling}return null}var V=Array.isArray,k=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},te=[],We=-1;function me(e){return{current:e}}function Me(e){0>We||(e.current=te[We],te[We]=null,We--)}function Te(e,t){We++,te[We]=e.current,e.current=t}var Mt=me(null),jn=me(null),Jt=me(null),pi=me(null);function yi(e,t){switch(Te(Jt,t),Te(jn,e),Te(Mt,null),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?cg(t):0;break;default:if(e=e===8?t.parentNode:t,t=e.tagName,e=e.namespaceURI)e=cg(e),t=fg(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Me(Mt),Te(Mt,t)}function gn(){Me(Mt),Me(jn),Me(Jt)}function nl(e){e.memoizedState!==null&&Te(pi,e);var t=Mt.current,i=fg(t,e.type);t!==i&&(Te(jn,e),Te(Mt,i))}function vi(e){jn.current===e&&(Me(Mt),Me(jn)),pi.current===e&&(Me(pi),Ks._currentValue=oe)}var il=Object.prototype.hasOwnProperty,ll=l.unstable_scheduleCallback,sl=l.unstable_cancelCallback,Ra=l.unstable_shouldYield,Na=l.unstable_requestPaint,xt=l.unstable_now,Da=l.unstable_getCurrentPriorityLevel,Xe=l.unstable_ImmediatePriority,St=l.unstable_UserBlockingPriority,Pe=l.unstable_NormalPriority,xe=l.unstable_LowPriority,Le=l.unstable_IdlePriority,ts=l.log,ns=l.unstable_setDisableYieldValue,al=null,ht=null;function bo(e){if(ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(al,e,void 0,(e.current.flags&128)===128)}catch{}}function st(e){if(typeof ts=="function"&&ns(e),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(al,e)}catch{}}var at=Math.clz32?Math.clz32:$y,is=Math.log,Jy=Math.LN2;function $y(e){return e>>>=0,e===0?32:31-(is(e)/Jy|0)|0}var Oa=128,Ma=4194304;function Si(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xa(e,t){var i=e.pendingLanes;if(i===0)return 0;var a=0,o=e.suspendedLanes,c=e.pingedLanes,d=e.warmLanes;e=e.finishedLanes!==0;var p=i&134217727;return p!==0?(i=p&~o,i!==0?a=Si(i):(c&=p,c!==0?a=Si(c):e||(d=p&~d,d!==0&&(a=Si(d))))):(p=i&~o,p!==0?a=Si(p):c!==0?a=Si(c):e||(d=i&~d,d!==0&&(a=Si(d)))),a===0?0:t!==0&&t!==a&&(t&o)===0&&(o=a&-a,d=t&-t,o>=d||o===32&&(d&4194176)!==0)?t:a}function ls(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ev(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nh(){var e=Oa;return Oa<<=1,(Oa&4194176)===0&&(Oa=128),e}function ih(){var e=Ma;return Ma<<=1,(Ma&62914560)===0&&(Ma=4194304),e}function Eo(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function ss(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function tv(e,t,i,a,o,c){var d=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var p=e.entanglements,y=e.expirationTimes,T=e.hiddenUpdates;for(i=d&~i;0<i;){var D=31-at(i),M=1<<D;p[D]=0,y[D]=-1;var R=T[D];if(R!==null)for(T[D]=null,D=0;D<R.length;D++){var N=R[D];N!==null&&(N.lane&=-536870913)}i&=~M}a!==0&&lh(e,a,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(d&~t))}function lh(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-at(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|i&4194218}function sh(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-at(i),o=1<<a;o&t|e[a]&t&&(e[a]|=t),i&=~o}}function ah(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function rh(){var e=k.p;return e!==0?e:(e=window.event,e===void 0?32:Dg(e.type))}function nv(e,t){var i=k.p;try{return k.p=e,t()}finally{k.p=i}}var qn=Math.random().toString(36).slice(2),dt="__reactFiber$"+qn,bt="__reactProps$"+qn,rl="__reactContainer$"+qn,To="__reactEvents$"+qn,iv="__reactListeners$"+qn,lv="__reactHandles$"+qn,oh="__reactResources$"+qn,as="__reactMarker$"+qn;function Co(e){delete e[dt],delete e[bt],delete e[To],delete e[iv],delete e[lv]}function bi(e){var t=e[dt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[rl]||i[dt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=mg(e);e!==null;){if(i=e[dt])return i;e=mg(e)}return t}e=i,i=e.parentNode}return null}function ol(e){if(e=e[dt]||e[rl]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function rs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function ul(e){var t=e[oh];return t||(t=e[oh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Je(e){e[as]=!0}var uh=new Set,ch={};function Ei(e,t){cl(e,t),cl(e+"Capture",t)}function cl(e,t){for(ch[e]=t,e=0;e<t.length;e++)uh.add(t[e])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fh={},hh={};function av(e){return il.call(hh,e)?!0:il.call(fh,e)?!1:sv.test(e)?hh[e]=!0:(fh[e]=!0,!1)}function La(e,t,i){if(av(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function za(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function pn(e,t,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+a)}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rv(e){var t=dh(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,c=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(d){a=""+d,c.call(this,d)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(d){a=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ba(e){e._valueTracker||(e._valueTracker=rv(e))}function mh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=dh(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function Ua(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ov=/[\n"\\]/g;function jt(e){return e.replace(ov,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ao(e,t,i,a,o,c,d,p){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+kt(t)):e.value!==""+kt(t)&&(e.value=""+kt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?wo(e,d,kt(t)):i!=null?wo(e,d,kt(i)):a!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+kt(p):e.removeAttribute("name")}function gh(e,t,i,a,o,c,d,p){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||i!=null){if(!(c!=="submit"&&c!=="reset"||t!=null))return;i=i!=null?""+kt(i):"",t=t!=null?""+kt(t):i,p||t===e.value||(e.value=t),e.defaultValue=t}a=a??o,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=p?e.checked:!!a,e.defaultChecked=!!a,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d)}function wo(e,t,i){t==="number"&&Ua(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function fl(e,t,i,a){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&a&&(e[i].defaultSelected=!0)}else{for(i=""+kt(i),t=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,a&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function _h(e,t,i){if(t!=null&&(t=""+kt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+kt(i):""}function ph(e,t,i,a){if(t==null){if(a!=null){if(i!=null)throw Error(r(92));if(V(a)){if(1<a.length)throw Error(r(93));a=a[0]}i=a}i==null&&(i=""),t=i}i=kt(t),e.defaultValue=i,a=e.textContent,a===i&&a!==""&&a!==null&&(e.value=a)}function hl(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var uv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yh(e,t,i){var a=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,i):typeof i!="number"||i===0||uv.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function vh(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var o in t)a=t[o],t.hasOwnProperty(o)&&i[o]!==a&&yh(e,o,a)}else for(var c in t)t.hasOwnProperty(c)&&yh(e,c,t[c])}function Ro(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(e){return fv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var No=null;function Do(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dl=null,ml=null;function Sh(e){var t=ol(e);if(t&&(e=t.stateNode)){var i=e[bt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ao(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+jt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var o=a[bt]||null;if(!o)throw Error(r(90));Ao(a,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<i.length;t++)a=i[t],a.form===e.form&&mh(a)}break e;case"textarea":_h(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&fl(e,!!i.multiple,t,!1)}}}var Oo=!1;function bh(e,t,i){if(Oo)return e(t,i);Oo=!0;try{var a=e(t);return a}finally{if(Oo=!1,(dl!==null||ml!==null)&&(Sr(),dl&&(t=dl,e=ml,ml=dl=null,Sh(t),e)))for(t=0;t<e.length;t++)Sh(e[t])}}function os(e,t){var i=e.stateNode;if(i===null)return null;var a=i[bt]||null;if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var Mo=!1;if(_n)try{var us={};Object.defineProperty(us,"passive",{get:function(){Mo=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{Mo=!1}var Gn=null,xo=null,Ha=null;function Eh(){if(Ha)return Ha;var e,t=xo,i=t.length,a,o="value"in Gn?Gn.value:Gn.textContent,c=o.length;for(e=0;e<i&&t[e]===o[e];e++);var d=i-e;for(a=1;a<=d&&t[i-a]===o[c-a];a++);return Ha=o.slice(e,1<a?1-a:void 0)}function ka(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ja(){return!0}function Th(){return!1}function Et(e){function t(i,a,o,c,d){this._reactName=i,this._targetInst=o,this.type=a,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(i=e[p],this[p]=i?i(c):c[p]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?ja:Th,this.isPropagationStopped=Th,this}return J(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ja)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ja)},persist:function(){},isPersistent:ja}),t}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qa=Et(Ti),cs=J({},Ti,{view:0,detail:0}),hv=Et(cs),Lo,zo,fs,Ga=J({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fs&&(fs&&e.type==="mousemove"?(Lo=e.screenX-fs.screenX,zo=e.screenY-fs.screenY):zo=Lo=0,fs=e),Lo)},movementY:function(e){return"movementY"in e?e.movementY:zo}}),Ch=Et(Ga),dv=J({},Ga,{dataTransfer:0}),mv=Et(dv),gv=J({},cs,{relatedTarget:0}),Bo=Et(gv),_v=J({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),pv=Et(_v),yv=J({},Ti,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vv=Et(yv),Sv=J({},Ti,{data:0}),Ah=Et(Sv),bv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ev={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tv[e])?!!t[e]:!1}function Uo(){return Cv}var Av=J({},cs,{key:function(e){if(e.key){var t=bv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ka(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ev[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uo,charCode:function(e){return e.type==="keypress"?ka(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ka(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wv=Et(Av),Rv=J({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wh=Et(Rv),Nv=J({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uo}),Dv=Et(Nv),Ov=J({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mv=Et(Ov),xv=J({},Ga,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lv=Et(xv),zv=J({},Ti,{newState:0,oldState:0}),Bv=Et(zv),Uv=[9,13,27,32],Io=_n&&"CompositionEvent"in window,hs=null;_n&&"documentMode"in document&&(hs=document.documentMode);var Iv=_n&&"TextEvent"in window&&!hs,Rh=_n&&(!Io||hs&&8<hs&&11>=hs),Nh=" ",Dh=!1;function Oh(e,t){switch(e){case"keyup":return Uv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gl=!1;function Hv(e,t){switch(e){case"compositionend":return Mh(t);case"keypress":return t.which!==32?null:(Dh=!0,Nh);case"textInput":return e=t.data,e===Nh&&Dh?null:e;default:return null}}function kv(e,t){if(gl)return e==="compositionend"||!Io&&Oh(e,t)?(e=Eh(),Ha=xo=Gn=null,gl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rh&&t.locale!=="ko"?null:t.data;default:return null}}var jv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jv[e.type]:t==="textarea"}function Lh(e,t,i,a){dl?ml?ml.push(a):ml=[a]:dl=a,t=Ar(t,"onChange"),0<t.length&&(i=new qa("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var ds=null,ms=null;function qv(e){sg(e,0)}function Ya(e){var t=rs(e);if(mh(t))return e}function zh(e,t){if(e==="change")return t}var Bh=!1;if(_n){var Ho;if(_n){var ko="oninput"in document;if(!ko){var Uh=document.createElement("div");Uh.setAttribute("oninput","return;"),ko=typeof Uh.oninput=="function"}Ho=ko}else Ho=!1;Bh=Ho&&(!document.documentMode||9<document.documentMode)}function Ih(){ds&&(ds.detachEvent("onpropertychange",Hh),ms=ds=null)}function Hh(e){if(e.propertyName==="value"&&Ya(ms)){var t=[];Lh(t,ms,e,Do(e)),bh(qv,t)}}function Gv(e,t,i){e==="focusin"?(Ih(),ds=t,ms=i,ds.attachEvent("onpropertychange",Hh)):e==="focusout"&&Ih()}function Yv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ya(ms)}function Vv(e,t){if(e==="click")return Ya(t)}function Qv(e,t){if(e==="input"||e==="change")return Ya(t)}function Xv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lt=typeof Object.is=="function"?Object.is:Xv;function gs(e,t){if(Lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var o=i[a];if(!il.call(t,o)||!Lt(e[o],t[o]))return!1}return!0}function kh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jh(e,t){var i=kh(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=kh(i)}}function qh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ua(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Ua(e.document)}return t}function jo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Fv(e,t){var i=Gh(t);t=e.focusedElem;var a=e.selectionRange;if(i!==t&&t&&t.ownerDocument&&qh(t.ownerDocument.documentElement,t)){if(a!==null&&jo(t)){if(e=a.start,i=a.end,i===void 0&&(i=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(i,t.value.length);else if(i=(e=t.ownerDocument||document)&&e.defaultView||window,i.getSelection){i=i.getSelection();var o=t.textContent.length,c=Math.min(a.start,o);a=a.end===void 0?c:Math.min(a.end,o),!i.extend&&c>a&&(o=a,a=c,c=o),o=jh(t,c);var d=jh(t,a);o&&d&&(i.rangeCount!==1||i.anchorNode!==o.node||i.anchorOffset!==o.offset||i.focusNode!==d.node||i.focusOffset!==d.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),i.removeAllRanges(),c>a?(i.addRange(e),i.extend(d.node,d.offset)):(e.setEnd(d.node,d.offset),i.addRange(e)))}}for(e=[],i=t;i=i.parentNode;)i.nodeType===1&&e.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)i=e[t],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Kv=_n&&"documentMode"in document&&11>=document.documentMode,_l=null,qo=null,_s=null,Go=!1;function Yh(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Go||_l==null||_l!==Ua(a)||(a=_l,"selectionStart"in a&&jo(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),_s&&gs(_s,a)||(_s=a,a=Ar(qo,"onSelect"),0<a.length&&(t=new qa("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=_l)))}function Ci(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var pl={animationend:Ci("Animation","AnimationEnd"),animationiteration:Ci("Animation","AnimationIteration"),animationstart:Ci("Animation","AnimationStart"),transitionrun:Ci("Transition","TransitionRun"),transitionstart:Ci("Transition","TransitionStart"),transitioncancel:Ci("Transition","TransitionCancel"),transitionend:Ci("Transition","TransitionEnd")},Yo={},Vh={};_n&&(Vh=document.createElement("div").style,"AnimationEvent"in window||(delete pl.animationend.animation,delete pl.animationiteration.animation,delete pl.animationstart.animation),"TransitionEvent"in window||delete pl.transitionend.transition);function Ai(e){if(Yo[e])return Yo[e];if(!pl[e])return e;var t=pl[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Vh)return Yo[e]=t[i];return e}var Qh=Ai("animationend"),Xh=Ai("animationiteration"),Fh=Ai("animationstart"),Zv=Ai("transitionrun"),Wv=Ai("transitionstart"),Pv=Ai("transitioncancel"),Kh=Ai("transitionend"),Zh=new Map,Wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function $t(e,t){Zh.set(e,t),Ei(t,[e])}var qt=[],yl=0,Vo=0;function Va(){for(var e=yl,t=Vo=yl=0;t<e;){var i=qt[t];qt[t++]=null;var a=qt[t];qt[t++]=null;var o=qt[t];qt[t++]=null;var c=qt[t];if(qt[t++]=null,a!==null&&o!==null){var d=a.pending;d===null?o.next=o:(o.next=d.next,d.next=o),a.pending=o}c!==0&&Ph(i,o,c)}}function Qa(e,t,i,a){qt[yl++]=e,qt[yl++]=t,qt[yl++]=i,qt[yl++]=a,Vo|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Qo(e,t,i,a){return Qa(e,t,i,a),Xa(e)}function Yn(e,t){return Qa(e,null,null,t),Xa(e)}function Ph(e,t,i){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i);for(var o=!1,c=e.return;c!==null;)c.childLanes|=i,a=c.alternate,a!==null&&(a.childLanes|=i),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;o&&t!==null&&e.tag===3&&(c=e.stateNode,o=31-at(i),c=c.hiddenUpdates,e=c[o],e===null?c[o]=[t]:e.push(t),t.lane=i|536870912)}function Xa(e){if(50<qs)throw qs=0,Pu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var vl={},Jh=new WeakMap;function Gt(e,t){if(typeof e=="object"&&e!==null){var i=Jh.get(e);return i!==void 0?i:(t={value:e,source:t,stack:$(t)},Jh.set(e,t),t)}return{value:e,source:t,stack:$(t)}}var Sl=[],bl=0,Fa=null,Ka=0,Yt=[],Vt=0,wi=null,yn=1,vn="";function Ri(e,t){Sl[bl++]=Ka,Sl[bl++]=Fa,Fa=e,Ka=t}function $h(e,t,i){Yt[Vt++]=yn,Yt[Vt++]=vn,Yt[Vt++]=wi,wi=e;var a=yn;e=vn;var o=32-at(a)-1;a&=~(1<<o),i+=1;var c=32-at(t)+o;if(30<c){var d=o-o%5;c=(a&(1<<d)-1).toString(32),a>>=d,o-=d,yn=1<<32-at(t)+o|i<<o|a,vn=c+e}else yn=1<<c|i<<o|a,vn=e}function Xo(e){e.return!==null&&(Ri(e,1),$h(e,1,0))}function Fo(e){for(;e===Fa;)Fa=Sl[--bl],Sl[bl]=null,Ka=Sl[--bl],Sl[bl]=null;for(;e===wi;)wi=Yt[--Vt],Yt[Vt]=null,vn=Yt[--Vt],Yt[Vt]=null,yn=Yt[--Vt],Yt[Vt]=null}var yt=null,rt=null,ge=!1,en=null,un=!1,Ko=Error(r(519));function Ni(e){var t=Error(r(418,""));throw vs(Gt(t,e)),Ko}function ed(e){var t=e.stateNode,i=e.type,a=e.memoizedProps;switch(t[dt]=e,t[bt]=a,i){case"dialog":fe("cancel",t),fe("close",t);break;case"iframe":case"object":case"embed":fe("load",t);break;case"video":case"audio":for(i=0;i<Ys.length;i++)fe(Ys[i],t);break;case"source":fe("error",t);break;case"img":case"image":case"link":fe("error",t),fe("load",t);break;case"details":fe("toggle",t);break;case"input":fe("invalid",t),gh(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),Ba(t);break;case"select":fe("invalid",t);break;case"textarea":fe("invalid",t),ph(t,a.value,a.defaultValue,a.children),Ba(t)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||a.suppressHydrationWarning===!0||ug(t.textContent,i)?(a.popover!=null&&(fe("beforetoggle",t),fe("toggle",t)),a.onScroll!=null&&fe("scroll",t),a.onScrollEnd!=null&&fe("scrollend",t),a.onClick!=null&&(t.onclick=wr),t=!0):t=!1,t||Ni(e)}function td(e){for(yt=e.return;yt;)switch(yt.tag){case 3:case 27:un=!0;return;case 5:case 13:un=!1;return;default:yt=yt.return}}function ps(e){if(e!==yt)return!1;if(!ge)return td(e),ge=!0,!1;var t=!1,i;if((i=e.tag!==3&&e.tag!==27)&&((i=e.tag===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||mc(e.type,e.memoizedProps)),i=!i),i&&(t=!0),t&&rt&&Ni(e),td(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){rt=nn(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}rt=null}}else rt=yt?nn(e.stateNode.nextSibling):null;return!0}function ys(){rt=yt=null,ge=!1}function vs(e){en===null?en=[e]:en.push(e)}var Ss=Error(r(460)),nd=Error(r(474)),Zo={then:function(){}};function id(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Za(){}function ld(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Za,Za),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Ss?Error(r(483)):e;default:if(typeof t.status=="string")t.then(Za,Za);else{if(e=we,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=a}},function(a){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Ss?Error(r(483)):e}throw bs=t,Ss}}var bs=null;function sd(){if(bs===null)throw Error(r(459));var e=bs;return bs=null,e}var El=null,Es=0;function Wa(e){var t=Es;return Es+=1,El===null&&(El=[]),ld(El,e,t)}function Ts(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Pa(e,t){throw t.$$typeof===f?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ad(e){var t=e._init;return t(e._payload)}function rd(e){function t(C,b){if(e){var w=C.deletions;w===null?(C.deletions=[b],C.flags|=16):w.push(b)}}function i(C,b){if(!e)return null;for(;b!==null;)t(C,b),b=b.sibling;return null}function a(C){for(var b=new Map;C!==null;)C.key!==null?b.set(C.key,C):b.set(C.index,C),C=C.sibling;return b}function o(C,b){return C=ti(C,b),C.index=0,C.sibling=null,C}function c(C,b,w){return C.index=w,e?(w=C.alternate,w!==null?(w=w.index,w<b?(C.flags|=33554434,b):w):(C.flags|=33554434,b)):(C.flags|=1048576,b)}function d(C){return e&&C.alternate===null&&(C.flags|=33554434),C}function p(C,b,w,O){return b===null||b.tag!==6?(b=Yu(w,C.mode,O),b.return=C,b):(b=o(b,w),b.return=C,b)}function y(C,b,w,O){var q=w.type;return q===_?D(C,b,w.props.children,O,w.key):b!==null&&(b.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Ie&&ad(q)===b.type)?(b=o(b,w.props),Ts(b,w),b.return=C,b):(b=gr(w.type,w.key,w.props,null,C.mode,O),Ts(b,w),b.return=C,b)}function T(C,b,w,O){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Vu(w,C.mode,O),b.return=C,b):(b=o(b,w.children||[]),b.return=C,b)}function D(C,b,w,O,q){return b===null||b.tag!==7?(b=Hi(w,C.mode,O,q),b.return=C,b):(b=o(b,w),b.return=C,b)}function M(C,b,w){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=Yu(""+b,C.mode,w),b.return=C,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case h:return w=gr(b.type,b.key,b.props,null,C.mode,w),Ts(w,b),w.return=C,w;case m:return b=Vu(b,C.mode,w),b.return=C,b;case Ie:var O=b._init;return b=O(b._payload),M(C,b,w)}if(V(b)||ft(b))return b=Hi(b,C.mode,w,null),b.return=C,b;if(typeof b.then=="function")return M(C,Wa(b),w);if(b.$$typeof===L)return M(C,hr(C,b),w);Pa(C,b)}return null}function R(C,b,w,O){var q=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return q!==null?null:p(C,b,""+w,O);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case h:return w.key===q?y(C,b,w,O):null;case m:return w.key===q?T(C,b,w,O):null;case Ie:return q=w._init,w=q(w._payload),R(C,b,w,O)}if(V(w)||ft(w))return q!==null?null:D(C,b,w,O,null);if(typeof w.then=="function")return R(C,b,Wa(w),O);if(w.$$typeof===L)return R(C,b,hr(C,w),O);Pa(C,w)}return null}function N(C,b,w,O,q){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return C=C.get(w)||null,p(b,C,""+O,q);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case h:return C=C.get(O.key===null?w:O.key)||null,y(b,C,O,q);case m:return C=C.get(O.key===null?w:O.key)||null,T(b,C,O,q);case Ie:var se=O._init;return O=se(O._payload),N(C,b,w,O,q)}if(V(O)||ft(O))return C=C.get(w)||null,D(b,C,O,q,null);if(typeof O.then=="function")return N(C,b,w,Wa(O),q);if(O.$$typeof===L)return N(C,b,w,hr(b,O),q);Pa(b,O)}return null}function G(C,b,w,O){for(var q=null,se=null,Y=b,Z=b=0,tt=null;Y!==null&&Z<w.length;Z++){Y.index>Z?(tt=Y,Y=null):tt=Y.sibling;var _e=R(C,Y,w[Z],O);if(_e===null){Y===null&&(Y=tt);break}e&&Y&&_e.alternate===null&&t(C,Y),b=c(_e,b,Z),se===null?q=_e:se.sibling=_e,se=_e,Y=tt}if(Z===w.length)return i(C,Y),ge&&Ri(C,Z),q;if(Y===null){for(;Z<w.length;Z++)Y=M(C,w[Z],O),Y!==null&&(b=c(Y,b,Z),se===null?q=Y:se.sibling=Y,se=Y);return ge&&Ri(C,Z),q}for(Y=a(Y);Z<w.length;Z++)tt=N(Y,C,Z,w[Z],O),tt!==null&&(e&&tt.alternate!==null&&Y.delete(tt.key===null?Z:tt.key),b=c(tt,b,Z),se===null?q=tt:se.sibling=tt,se=tt);return e&&Y.forEach(function(oi){return t(C,oi)}),ge&&Ri(C,Z),q}function ee(C,b,w,O){if(w==null)throw Error(r(151));for(var q=null,se=null,Y=b,Z=b=0,tt=null,_e=w.next();Y!==null&&!_e.done;Z++,_e=w.next()){Y.index>Z?(tt=Y,Y=null):tt=Y.sibling;var oi=R(C,Y,_e.value,O);if(oi===null){Y===null&&(Y=tt);break}e&&Y&&oi.alternate===null&&t(C,Y),b=c(oi,b,Z),se===null?q=oi:se.sibling=oi,se=oi,Y=tt}if(_e.done)return i(C,Y),ge&&Ri(C,Z),q;if(Y===null){for(;!_e.done;Z++,_e=w.next())_e=M(C,_e.value,O),_e!==null&&(b=c(_e,b,Z),se===null?q=_e:se.sibling=_e,se=_e);return ge&&Ri(C,Z),q}for(Y=a(Y);!_e.done;Z++,_e=w.next())_e=N(Y,C,Z,_e.value,O),_e!==null&&(e&&_e.alternate!==null&&Y.delete(_e.key===null?Z:_e.key),b=c(_e,b,Z),se===null?q=_e:se.sibling=_e,se=_e);return e&&Y.forEach(function(fS){return t(C,fS)}),ge&&Ri(C,Z),q}function je(C,b,w,O){if(typeof w=="object"&&w!==null&&w.type===_&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case h:e:{for(var q=w.key;b!==null;){if(b.key===q){if(q=w.type,q===_){if(b.tag===7){i(C,b.sibling),O=o(b,w.props.children),O.return=C,C=O;break e}}else if(b.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Ie&&ad(q)===b.type){i(C,b.sibling),O=o(b,w.props),Ts(O,w),O.return=C,C=O;break e}i(C,b);break}else t(C,b);b=b.sibling}w.type===_?(O=Hi(w.props.children,C.mode,O,w.key),O.return=C,C=O):(O=gr(w.type,w.key,w.props,null,C.mode,O),Ts(O,w),O.return=C,C=O)}return d(C);case m:e:{for(q=w.key;b!==null;){if(b.key===q)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){i(C,b.sibling),O=o(b,w.children||[]),O.return=C,C=O;break e}else{i(C,b);break}else t(C,b);b=b.sibling}O=Vu(w,C.mode,O),O.return=C,C=O}return d(C);case Ie:return q=w._init,w=q(w._payload),je(C,b,w,O)}if(V(w))return G(C,b,w,O);if(ft(w)){if(q=ft(w),typeof q!="function")throw Error(r(150));return w=q.call(w),ee(C,b,w,O)}if(typeof w.then=="function")return je(C,b,Wa(w),O);if(w.$$typeof===L)return je(C,b,hr(C,w),O);Pa(C,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,b!==null&&b.tag===6?(i(C,b.sibling),O=o(b,w),O.return=C,C=O):(i(C,b),O=Yu(w,C.mode,O),O.return=C,C=O),d(C)):i(C,b)}return function(C,b,w,O){try{Es=0;var q=je(C,b,w,O);return El=null,q}catch(Y){if(Y===Ss)throw Y;var se=Kt(29,Y,null,C.mode);return se.lanes=O,se.return=C,se}finally{}}}var Di=rd(!0),od=rd(!1),Tl=me(null),Ja=me(0);function ud(e,t){e=On,Te(Ja,e),Te(Tl,t),On=e|t.baseLanes}function Wo(){Te(Ja,On),Te(Tl,Tl.current)}function Po(){On=Ja.current,Me(Tl),Me(Ja)}var Qt=me(null),cn=null;function Vn(e){var t=e.alternate;Te(Fe,Fe.current&1),Te(Qt,e),cn===null&&(t===null||Tl.current!==null||t.memoizedState!==null)&&(cn=e)}function cd(e){if(e.tag===22){if(Te(Fe,Fe.current),Te(Qt,e),cn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(cn=e)}}else Qn()}function Qn(){Te(Fe,Fe.current),Te(Qt,Qt.current)}function Sn(e){Me(Qt),cn===e&&(cn=null),Me(Fe)}var Fe=me(0);function $a(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},$v=l.unstable_scheduleCallback,e0=l.unstable_NormalPriority,Ke={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jo(){return{controller:new Jv,data:new Map,refCount:0}}function Cs(e){e.refCount--,e.refCount===0&&$v(e0,function(){e.controller.abort()})}var As=null,$o=0,Cl=0,Al=null;function t0(e,t){if(As===null){var i=As=[];$o=0,Cl=sc(),Al={status:"pending",value:void 0,then:function(a){i.push(a)}}}return $o++,t.then(fd,fd),t}function fd(){if(--$o===0&&As!==null){Al!==null&&(Al.status="fulfilled");var e=As;As=null,Cl=0,Al=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function n0(e,t){var i=[],a={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var o=0;o<i.length;o++)(0,i[o])(t)},function(o){for(a.status="rejected",a.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),a}var hd=Q.S;Q.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&t0(e,t),hd!==null&&hd(e,t)};var Oi=me(null);function eu(){var e=Oi.current;return e!==null?e:we.pooledCache}function er(e,t){t===null?Te(Oi,Oi.current):Te(Oi,t.pool)}function dd(){var e=eu();return e===null?null:{parent:Ke._currentValue,pool:e}}var Xn=0,ie=null,Se=null,Ye=null,tr=!1,wl=!1,Mi=!1,nr=0,ws=0,Rl=null,i0=0;function Ge(){throw Error(r(321))}function tu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Lt(e[i],t[i]))return!1;return!0}function nu(e,t,i,a,o,c){return Xn=c,ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Q.H=e===null||e.memoizedState===null?xi:Fn,Mi=!1,c=i(a,o),Mi=!1,wl&&(c=gd(t,i,a,o)),md(e),c}function md(e){Q.H=fn;var t=Se!==null&&Se.next!==null;if(Xn=0,Ye=Se=ie=null,tr=!1,ws=0,Rl=null,t)throw Error(r(300));e===null||$e||(e=e.dependencies,e!==null&&fr(e)&&($e=!0))}function gd(e,t,i,a){ie=e;var o=0;do{if(wl&&(Rl=null),ws=0,wl=!1,25<=o)throw Error(r(301));if(o+=1,Ye=Se=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}Q.H=Li,c=t(i,a)}while(wl);return c}function l0(){var e=Q.H,t=e.useState()[0];return t=typeof t.then=="function"?Rs(t):t,e=e.useState()[0],(Se!==null?Se.memoizedState:null)!==e&&(ie.flags|=1024),t}function iu(){var e=nr!==0;return nr=0,e}function lu(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function su(e){if(tr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}tr=!1}Xn=0,Ye=Se=ie=null,wl=!1,ws=nr=0,Rl=null}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?ie.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Ve(){if(Se===null){var e=ie.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=Ye===null?ie.memoizedState:Ye.next;if(t!==null)Ye=t,Se=e;else{if(e===null)throw ie.alternate===null?Error(r(467)):Error(r(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Ye===null?ie.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}var ir;ir=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Rs(e){var t=ws;return ws+=1,Rl===null&&(Rl=[]),e=ld(Rl,e,t),t=ie,(Ye===null?t.memoizedState:Ye.next)===null&&(t=t.alternate,Q.H=t===null||t.memoizedState===null?xi:Fn),e}function lr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Rs(e);if(e.$$typeof===L)return mt(e)}throw Error(r(438,String(e)))}function au(e){var t=null,i=ie.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var a=ie.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=ir(),ie.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),a=0;a<e;a++)i[a]=pe;return t.index++,i}function bn(e,t){return typeof t=="function"?t(e):t}function sr(e){var t=Ve();return ru(t,Se,e)}function ru(e,t,i){var a=e.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var o=e.baseQueue,c=a.pending;if(c!==null){if(o!==null){var d=o.next;o.next=c.next,c.next=d}t.baseQueue=o=c,a.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var p=d=null,y=null,T=t,D=!1;do{var M=T.lane&-536870913;if(M!==T.lane?(de&M)===M:(Xn&M)===M){var R=T.revertLane;if(R===0)y!==null&&(y=y.next={lane:0,revertLane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),M===Cl&&(D=!0);else if((Xn&R)===R){T=T.next,R===Cl&&(D=!0);continue}else M={lane:0,revertLane:T.revertLane,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null},y===null?(p=y=M,d=c):y=y.next=M,ie.lanes|=R,ni|=R;M=T.action,Mi&&i(c,M),c=T.hasEagerState?T.eagerState:i(c,M)}else R={lane:M,revertLane:T.revertLane,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null},y===null?(p=y=R,d=c):y=y.next=R,ie.lanes|=M,ni|=M;T=T.next}while(T!==null&&T!==t);if(y===null?d=c:y.next=p,!Lt(c,e.memoizedState)&&($e=!0,D&&(i=Al,i!==null)))throw i;e.memoizedState=c,e.baseState=d,e.baseQueue=y,a.lastRenderedState=c}return o===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function ou(e){var t=Ve(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var a=i.dispatch,o=i.pending,c=t.memoizedState;if(o!==null){i.pending=null;var d=o=o.next;do c=e(c,d.action),d=d.next;while(d!==o);Lt(c,t.memoizedState)||($e=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),i.lastRenderedState=c}return[c,a]}function _d(e,t,i){var a=ie,o=Ve(),c=ge;if(c){if(i===void 0)throw Error(r(407));i=i()}else i=t();var d=!Lt((Se||o).memoizedState,i);if(d&&(o.memoizedState=i,$e=!0),o=o.queue,fu(vd.bind(null,a,o,e),[e]),o.getSnapshot!==t||d||Ye!==null&&Ye.memoizedState.tag&1){if(a.flags|=2048,Nl(9,yd.bind(null,a,o,i,t),{destroy:void 0},null),we===null)throw Error(r(349));c||(Xn&60)!==0||pd(a,t,i)}return i}function pd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ie.updateQueue,t===null?(t=ir(),ie.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function yd(e,t,i,a){t.value=i,t.getSnapshot=a,Sd(t)&&bd(e)}function vd(e,t,i){return i(function(){Sd(t)&&bd(e)})}function Sd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Lt(e,i)}catch{return!0}}function bd(e){var t=Yn(e,2);t!==null&&vt(t,e,2)}function uu(e){var t=Tt();if(typeof e=="function"){var i=e;if(e=i(),Mi){st(!0);try{i()}finally{st(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:e},t}function Ed(e,t,i,a){return e.baseState=i,ru(e,Se,typeof a=="function"?a:bn)}function s0(e,t,i,a,o){if(or(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){c.listeners.push(d)}};Q.T!==null?i(!0):c.isTransition=!1,a(c),i=t.pending,i===null?(c.next=t.pending=c,Td(t,c)):(c.next=i.next,t.pending=i.next=c)}}function Td(e,t){var i=t.action,a=t.payload,o=e.state;if(t.isTransition){var c=Q.T,d={};Q.T=d;try{var p=i(o,a),y=Q.S;y!==null&&y(d,p),Cd(e,t,p)}catch(T){cu(e,t,T)}finally{Q.T=c}}else try{c=i(o,a),Cd(e,t,c)}catch(T){cu(e,t,T)}}function Cd(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){Ad(e,t,a)},function(a){return cu(e,t,a)}):Ad(e,t,i)}function Ad(e,t,i){t.status="fulfilled",t.value=i,wd(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,Td(e,i)))}function cu(e,t,i){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=i,wd(t),t=t.next;while(t!==a)}e.action=null}function wd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Rd(e,t){return t}function Nd(e,t){if(ge){var i=we.formState;if(i!==null){e:{var a=ie;if(ge){if(rt){t:{for(var o=rt,c=un;o.nodeType!==8;){if(!c){o=null;break t}if(o=nn(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){rt=nn(o.nextSibling),a=o.data==="F!";break e}}Ni(a)}a=!1}a&&(t=i[0])}}return i=Tt(),i.memoizedState=i.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rd,lastRenderedState:t},i.queue=a,i=Xd.bind(null,ie,a),a.dispatch=i,a=uu(!1),c=_u.bind(null,ie,!1,a.queue),a=Tt(),o={state:t,dispatch:null,action:e,pending:null},a.queue=o,i=s0.bind(null,ie,o,c,i),o.dispatch=i,a.memoizedState=e,[t,i,!1]}function Dd(e){var t=Ve();return Od(t,Se,e)}function Od(e,t,i){t=ru(e,t,Rd)[0],e=sr(bn)[0],t=typeof t=="object"&&t!==null&&typeof t.then=="function"?Rs(t):t;var a=Ve(),o=a.queue,c=o.dispatch;return i!==a.memoizedState&&(ie.flags|=2048,Nl(9,a0.bind(null,o,i),{destroy:void 0},null)),[t,c,e]}function a0(e,t){e.action=t}function Md(e){var t=Ve(),i=Se;if(i!==null)return Od(t,i,e);Ve(),t=t.memoizedState,i=Ve();var a=i.queue.dispatch;return i.memoizedState=e,[t,a,!1]}function Nl(e,t,i,a){return e={tag:e,create:t,inst:i,deps:a,next:null},t=ie.updateQueue,t===null&&(t=ir(),ie.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e),e}function xd(){return Ve().memoizedState}function ar(e,t,i,a){var o=Tt();ie.flags|=e,o.memoizedState=Nl(1|t,i,{destroy:void 0},a===void 0?null:a)}function rr(e,t,i,a){var o=Ve();a=a===void 0?null:a;var c=o.memoizedState.inst;Se!==null&&a!==null&&tu(a,Se.memoizedState.deps)?o.memoizedState=Nl(t,i,c,a):(ie.flags|=e,o.memoizedState=Nl(1|t,i,c,a))}function Ld(e,t){ar(8390656,8,e,t)}function fu(e,t){rr(2048,8,e,t)}function zd(e,t){return rr(4,2,e,t)}function Bd(e,t){return rr(4,4,e,t)}function Ud(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Id(e,t,i){i=i!=null?i.concat([e]):null,rr(4,4,Ud.bind(null,t,e),i)}function hu(){}function Hd(e,t){var i=Ve();t=t===void 0?null:t;var a=i.memoizedState;return t!==null&&tu(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function kd(e,t){var i=Ve();t=t===void 0?null:t;var a=i.memoizedState;if(t!==null&&tu(t,a[1]))return a[0];if(a=e(),Mi){st(!0);try{e()}finally{st(!1)}}return i.memoizedState=[a,t],a}function du(e,t,i){return i===void 0||(Xn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=i,e=qm(),ie.lanes|=e,ni|=e,i)}function jd(e,t,i,a){return Lt(i,t)?i:Tl.current!==null?(e=du(e,i,a),Lt(e,t)||($e=!0),e):(Xn&42)===0?($e=!0,e.memoizedState=i):(e=qm(),ie.lanes|=e,ni|=e,t)}function qd(e,t,i,a,o){var c=k.p;k.p=c!==0&&8>c?c:8;var d=Q.T,p={};Q.T=p,_u(e,!1,t,i);try{var y=o(),T=Q.S;if(T!==null&&T(p,y),y!==null&&typeof y=="object"&&typeof y.then=="function"){var D=n0(y,a);Ns(e,t,D,It(e))}else Ns(e,t,a,It(e))}catch(M){Ns(e,t,{then:function(){},status:"rejected",reason:M},It())}finally{k.p=c,Q.T=d}}function r0(){}function mu(e,t,i,a){if(e.tag!==5)throw Error(r(476));var o=Gd(e).queue;qd(e,o,t,oe,i===null?r0:function(){return Yd(e),i(a)})}function Gd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:oe},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Yd(e){var t=Gd(e).next.queue;Ns(e,t,{},It())}function gu(){return mt(Ks)}function Vd(){return Ve().memoizedState}function Qd(){return Ve().memoizedState}function o0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=It();e=Wn(i);var a=Pn(t,e,i);a!==null&&(vt(a,t,i),Ms(a,t,i)),t={cache:Jo()},e.payload=t;return}t=t.return}}function u0(e,t,i){var a=It();i={lane:a,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},or(e)?Fd(t,i):(i=Qo(e,t,i,a),i!==null&&(vt(i,e,a),Kd(i,t,a)))}function Xd(e,t,i){var a=It();Ns(e,t,i,a)}function Ns(e,t,i,a){var o={lane:a,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(or(e))Fd(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var d=t.lastRenderedState,p=c(d,i);if(o.hasEagerState=!0,o.eagerState=p,Lt(p,d))return Qa(e,t,o,0),we===null&&Va(),!1}catch{}finally{}if(i=Qo(e,t,o,a),i!==null)return vt(i,e,a),Kd(i,t,a),!0}return!1}function _u(e,t,i,a){if(a={lane:2,revertLane:sc(),action:a,hasEagerState:!1,eagerState:null,next:null},or(e)){if(t)throw Error(r(479))}else t=Qo(e,i,a,2),t!==null&&vt(t,e,2)}function or(e){var t=e.alternate;return e===ie||t!==null&&t===ie}function Fd(e,t){wl=tr=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Kd(e,t,i){if((i&4194176)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,sh(e,i)}}var fn={readContext:mt,use:lr,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge};fn.useCacheRefresh=Ge,fn.useMemoCache=Ge,fn.useHostTransitionStatus=Ge,fn.useFormState=Ge,fn.useActionState=Ge,fn.useOptimistic=Ge;var xi={readContext:mt,use:lr,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:Ld,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,ar(4194308,4,Ud.bind(null,t,e),i)},useLayoutEffect:function(e,t){return ar(4194308,4,e,t)},useInsertionEffect:function(e,t){ar(4,2,e,t)},useMemo:function(e,t){var i=Tt();t=t===void 0?null:t;var a=e();if(Mi){st(!0);try{e()}finally{st(!1)}}return i.memoizedState=[a,t],a},useReducer:function(e,t,i){var a=Tt();if(i!==void 0){var o=i(t);if(Mi){st(!0);try{i(t)}finally{st(!1)}}}else o=t;return a.memoizedState=a.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},a.queue=e,e=e.dispatch=u0.bind(null,ie,e),[a.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:function(e){e=uu(e);var t=e.queue,i=Xd.bind(null,ie,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:hu,useDeferredValue:function(e,t){var i=Tt();return du(i,e,t)},useTransition:function(){var e=uu(!1);return e=qd.bind(null,ie,e.queue,!0,!1),Tt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var a=ie,o=Tt();if(ge){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),we===null)throw Error(r(349));(de&60)!==0||pd(a,t,i)}o.memoizedState=i;var c={value:i,getSnapshot:t};return o.queue=c,Ld(vd.bind(null,a,c,e),[e]),a.flags|=2048,Nl(9,yd.bind(null,a,c,i,t),{destroy:void 0},null),i},useId:function(){var e=Tt(),t=we.identifierPrefix;if(ge){var i=vn,a=yn;i=(a&~(1<<32-at(a)-1)).toString(32)+i,t=":"+t+"R"+i,i=nr++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=i0++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return Tt().memoizedState=o0.bind(null,ie)}};xi.useMemoCache=au,xi.useHostTransitionStatus=gu,xi.useFormState=Nd,xi.useActionState=Nd,xi.useOptimistic=function(e){var t=Tt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=_u.bind(null,ie,!0,i),i.dispatch=t,[e,t]};var Fn={readContext:mt,use:lr,useCallback:Hd,useContext:mt,useEffect:fu,useImperativeHandle:Id,useInsertionEffect:zd,useLayoutEffect:Bd,useMemo:kd,useReducer:sr,useRef:xd,useState:function(){return sr(bn)},useDebugValue:hu,useDeferredValue:function(e,t){var i=Ve();return jd(i,Se.memoizedState,e,t)},useTransition:function(){var e=sr(bn)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:Rs(e),t]},useSyncExternalStore:_d,useId:Vd};Fn.useCacheRefresh=Qd,Fn.useMemoCache=au,Fn.useHostTransitionStatus=gu,Fn.useFormState=Dd,Fn.useActionState=Dd,Fn.useOptimistic=function(e,t){var i=Ve();return Ed(i,Se,e,t)};var Li={readContext:mt,use:lr,useCallback:Hd,useContext:mt,useEffect:fu,useImperativeHandle:Id,useInsertionEffect:zd,useLayoutEffect:Bd,useMemo:kd,useReducer:ou,useRef:xd,useState:function(){return ou(bn)},useDebugValue:hu,useDeferredValue:function(e,t){var i=Ve();return Se===null?du(i,e,t):jd(i,Se.memoizedState,e,t)},useTransition:function(){var e=ou(bn)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:Rs(e),t]},useSyncExternalStore:_d,useId:Vd};Li.useCacheRefresh=Qd,Li.useMemoCache=au,Li.useHostTransitionStatus=gu,Li.useFormState=Md,Li.useActionState=Md,Li.useOptimistic=function(e,t){var i=Ve();return Se!==null?Ed(i,Se,e,t):(i.baseState=e,[e,i.queue.dispatch])};function pu(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:J({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var yu={isMounted:function(e){return(e=e._reactInternals)?F(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=It(),o=Wn(a);o.payload=t,i!=null&&(o.callback=i),t=Pn(e,o,a),t!==null&&(vt(t,e,a),Ms(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=It(),o=Wn(a);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=Pn(e,o,a),t!==null&&(vt(t,e,a),Ms(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=It(),a=Wn(i);a.tag=2,t!=null&&(a.callback=t),t=Pn(e,a,i),t!==null&&(vt(t,e,i),Ms(t,e,i))}};function Zd(e,t,i,a,o,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,d):t.prototype&&t.prototype.isPureReactComponent?!gs(i,a)||!gs(o,c):!0}function Wd(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&yu.enqueueReplaceState(t,t.state,null)}function zi(e,t){var i=t;if("ref"in t){i={};for(var a in t)a!=="ref"&&(i[a]=t[a])}if(e=e.defaultProps){i===t&&(i=J({},i));for(var o in e)i[o]===void 0&&(i[o]=e[o])}return i}var ur=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Pd(e){ur(e)}function Jd(e){console.error(e)}function $d(e){ur(e)}function cr(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function em(e,t,i){try{var a=e.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function vu(e,t,i){return i=Wn(i),i.tag=3,i.payload={element:null},i.callback=function(){cr(e,t)},i}function tm(e){return e=Wn(e),e.tag=3,e}function nm(e,t,i,a){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var c=a.value;e.payload=function(){return o(c)},e.callback=function(){em(t,i,a)}}var d=i.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){em(t,i,a),typeof o!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var p=a.stack;this.componentDidCatch(a.value,{componentStack:p!==null?p:""})})}function c0(e,t,i,a,o){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=i.alternate,t!==null&&Os(t,i,o,!0),i=Qt.current,i!==null){switch(i.tag){case 13:return cn===null?ec():i.alternate===null&&ke===0&&(ke=3),i.flags&=-257,i.flags|=65536,i.lanes=o,a===Zo?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([a]):t.add(a),nc(e,a,o)),!1;case 22:return i.flags|=65536,a===Zo?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([a]):i.add(a)),nc(e,a,o)),!1}throw Error(r(435,i.tag))}return nc(e,a,o),ec(),!1}if(ge)return t=Qt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,a!==Ko&&(e=Error(r(422),{cause:a}),vs(Gt(e,i)))):(a!==Ko&&(t=Error(r(423),{cause:a}),vs(Gt(t,i))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,a=Gt(a,i),o=vu(e.stateNode,a,o),zu(e,o),ke!==4&&(ke=2)),!1;var c=Error(r(520),{cause:a});if(c=Gt(c,i),ks===null?ks=[c]:ks.push(c),ke!==4&&(ke=2),t===null)return!0;a=Gt(a,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=o&-o,i.lanes|=e,e=vu(i.stateNode,a,e),zu(i,e),!1;case 1:if(t=i.type,c=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(ii===null||!ii.has(c))))return i.flags|=65536,o&=-o,i.lanes|=o,o=tm(o),nm(o,e,i,a),zu(i,o),!1}i=i.return}while(i!==null);return!1}var im=Error(r(461)),$e=!1;function ot(e,t,i,a){t.child=e===null?od(t,null,i,a):Di(t,e.child,i,a)}function lm(e,t,i,a,o){i=i.render;var c=t.ref;if("ref"in a){var d={};for(var p in a)p!=="ref"&&(d[p]=a[p])}else d=a;return Ui(t),a=nu(e,t,i,d,c,o),p=iu(),e!==null&&!$e?(lu(e,t,o),En(e,t,o)):(ge&&p&&Xo(t),t.flags|=1,ot(e,t,a,o),t.child)}function sm(e,t,i,a,o){if(e===null){var c=i.type;return typeof c=="function"&&!Gu(c)&&c.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=c,am(e,t,c,a,o)):(e=gr(i.type,null,a,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Nu(e,o)){var d=c.memoizedProps;if(i=i.compare,i=i!==null?i:gs,i(d,a)&&e.ref===t.ref)return En(e,t,o)}return t.flags|=1,e=ti(c,a),e.ref=t.ref,e.return=t,t.child=e}function am(e,t,i,a,o){if(e!==null){var c=e.memoizedProps;if(gs(c,a)&&e.ref===t.ref)if($e=!1,t.pendingProps=a=c,Nu(e,o))(e.flags&131072)!==0&&($e=!0);else return t.lanes=e.lanes,En(e,t,o)}return Su(e,t,i,a,o)}function rm(e,t,i){var a=t.pendingProps,o=a.children,c=(t.stateNode._pendingVisibility&2)!==0,d=e!==null?e.memoizedState:null;if(Ds(e,t),a.mode==="hidden"||c){if((t.flags&128)!==0){if(a=d!==null?d.baseLanes|i:i,e!==null){for(o=t.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;t.childLanes=c&~a}else t.childLanes=0,t.child=null;return om(e,t,a,i)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&er(t,d!==null?d.cachePool:null),d!==null?ud(t,d):Wo(),cd(t);else return t.lanes=t.childLanes=536870912,om(e,t,d!==null?d.baseLanes|i:i,i)}else d!==null?(er(t,d.cachePool),ud(t,d),Qn(),t.memoizedState=null):(e!==null&&er(t,null),Wo(),Qn());return ot(e,t,o,i),t.child}function om(e,t,i,a){var o=eu();return o=o===null?null:{parent:Ke._currentValue,pool:o},t.memoizedState={baseLanes:i,cachePool:o},e!==null&&er(t,null),Wo(),cd(t),e!==null&&Os(e,t,a,!0),null}function Ds(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=2097664);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=2097664)}}function Su(e,t,i,a,o){return Ui(t),i=nu(e,t,i,a,void 0,o),a=iu(),e!==null&&!$e?(lu(e,t,o),En(e,t,o)):(ge&&a&&Xo(t),t.flags|=1,ot(e,t,i,o),t.child)}function um(e,t,i,a,o,c){return Ui(t),t.updateQueue=null,i=gd(t,a,i,o),md(e),a=iu(),e!==null&&!$e?(lu(e,t,c),En(e,t,c)):(ge&&a&&Xo(t),t.flags|=1,ot(e,t,i,c),t.child)}function cm(e,t,i,a,o){if(Ui(t),t.stateNode===null){var c=vl,d=i.contextType;typeof d=="object"&&d!==null&&(c=mt(d)),c=new i(a,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=yu,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=a,c.state=t.memoizedState,c.refs={},xu(t),d=i.contextType,c.context=typeof d=="object"&&d!==null?mt(d):vl,c.state=t.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(pu(t,i,d,a),c.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(d=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),d!==c.state&&yu.enqueueReplaceState(c,c.state,null),Ls(t,a,c,o),xs(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){c=t.stateNode;var p=t.memoizedProps,y=zi(i,p);c.props=y;var T=c.context,D=i.contextType;d=vl,typeof D=="object"&&D!==null&&(d=mt(D));var M=i.getDerivedStateFromProps;D=typeof M=="function"||typeof c.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,D||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p||T!==d)&&Wd(t,c,a,d),Zn=!1;var R=t.memoizedState;c.state=R,Ls(t,a,c,o),xs(),T=t.memoizedState,p||R!==T||Zn?(typeof M=="function"&&(pu(t,i,M,a),T=t.memoizedState),(y=Zn||Zd(t,i,y,a,R,T,d))?(D||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=T),c.props=a,c.state=T,c.context=d,a=y):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{c=t.stateNode,Lu(e,t),d=t.memoizedProps,D=zi(i,d),c.props=D,M=t.pendingProps,R=c.context,T=i.contextType,y=vl,typeof T=="object"&&T!==null&&(y=mt(T)),p=i.getDerivedStateFromProps,(T=typeof p=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==M||R!==y)&&Wd(t,c,a,y),Zn=!1,R=t.memoizedState,c.state=R,Ls(t,a,c,o),xs();var N=t.memoizedState;d!==M||R!==N||Zn||e!==null&&e.dependencies!==null&&fr(e.dependencies)?(typeof p=="function"&&(pu(t,i,p,a),N=t.memoizedState),(D=Zn||Zd(t,i,D,a,R,N,y)||e!==null&&e.dependencies!==null&&fr(e.dependencies))?(T||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(a,N,y),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(a,N,y)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=N),c.props=a,c.state=N,c.context=y,a=D):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),a=!1)}return c=a,Ds(e,t),a=(t.flags&128)!==0,c||a?(c=t.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&a?(t.child=Di(t,e.child,null,o),t.child=Di(t,null,i,o)):ot(e,t,i,o),t.memoizedState=c.state,e=t.child):e=En(e,t,o),e}function fm(e,t,i,a){return ys(),t.flags|=256,ot(e,t,i,a),t.child}var bu={dehydrated:null,treeContext:null,retryLane:0};function Eu(e){return{baseLanes:e,cachePool:dd()}}function Tu(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Zt),e}function hm(e,t,i){var a=t.pendingProps,o=!1,c=(t.flags&128)!==0,d;if((d=c)||(d=e!==null&&e.memoizedState===null?!1:(Fe.current&2)!==0),d&&(o=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(ge){if(o?Vn(t):Qn(),ge){var p=rt,y;if(y=p){e:{for(y=p,p=un;y.nodeType!==8;){if(!p){p=null;break e}if(y=nn(y.nextSibling),y===null){p=null;break e}}p=y}p!==null?(t.memoizedState={dehydrated:p,treeContext:wi!==null?{id:yn,overflow:vn}:null,retryLane:536870912},y=Kt(18,null,null,0),y.stateNode=p,y.return=t,t.child=y,yt=t,rt=null,y=!0):y=!1}y||Ni(t)}if(p=t.memoizedState,p!==null&&(p=p.dehydrated,p!==null))return p.data==="$!"?t.lanes=16:t.lanes=536870912,null;Sn(t)}return p=a.children,a=a.fallback,o?(Qn(),o=t.mode,p=Au({mode:"hidden",children:p},o),a=Hi(a,o,i,null),p.return=t,a.return=t,p.sibling=a,t.child=p,o=t.child,o.memoizedState=Eu(i),o.childLanes=Tu(e,d,i),t.memoizedState=bu,a):(Vn(t),Cu(t,p))}if(y=e.memoizedState,y!==null&&(p=y.dehydrated,p!==null)){if(c)t.flags&256?(Vn(t),t.flags&=-257,t=wu(e,t,i)):t.memoizedState!==null?(Qn(),t.child=e.child,t.flags|=128,t=null):(Qn(),o=a.fallback,p=t.mode,a=Au({mode:"visible",children:a.children},p),o=Hi(o,p,i,null),o.flags|=2,a.return=t,o.return=t,a.sibling=o,t.child=a,Di(t,e.child,null,i),a=t.child,a.memoizedState=Eu(i),a.childLanes=Tu(e,d,i),t.memoizedState=bu,t=o);else if(Vn(t),p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var T=d.dgst;d=T,a=Error(r(419)),a.stack="",a.digest=d,vs({value:a,source:null,stack:null}),t=wu(e,t,i)}else if($e||Os(e,t,i,!1),d=(i&e.childLanes)!==0,$e||d){if(d=we,d!==null){if(a=i&-i,(a&42)!==0)a=1;else switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=64;break;case 268435456:a=134217728;break;default:a=0}if(a=(a&(d.suspendedLanes|i))!==0?0:a,a!==0&&a!==y.retryLane)throw y.retryLane=a,Yn(e,a),vt(d,e,a),im}p.data==="$?"||ec(),t=wu(e,t,i)}else p.data==="$?"?(t.flags|=128,t.child=e.child,t=A0.bind(null,e),p._reactRetry=t,t=null):(e=y.treeContext,rt=nn(p.nextSibling),yt=t,ge=!0,en=null,un=!1,e!==null&&(Yt[Vt++]=yn,Yt[Vt++]=vn,Yt[Vt++]=wi,yn=e.id,vn=e.overflow,wi=t),t=Cu(t,a.children),t.flags|=4096);return t}return o?(Qn(),o=a.fallback,p=t.mode,y=e.child,T=y.sibling,a=ti(y,{mode:"hidden",children:a.children}),a.subtreeFlags=y.subtreeFlags&31457280,T!==null?o=ti(T,o):(o=Hi(o,p,i,null),o.flags|=2),o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,p=e.child.memoizedState,p===null?p=Eu(i):(y=p.cachePool,y!==null?(T=Ke._currentValue,y=y.parent!==T?{parent:T,pool:T}:y):y=dd(),p={baseLanes:p.baseLanes|i,cachePool:y}),o.memoizedState=p,o.childLanes=Tu(e,d,i),t.memoizedState=bu,a):(Vn(t),i=e.child,e=i.sibling,i=ti(i,{mode:"visible",children:a.children}),i.return=t,i.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=i,t.memoizedState=null,i)}function Cu(e,t){return t=Au({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Au(e,t){return Hm(e,t,0,null)}function wu(e,t,i){return Di(t,e.child,null,i),e=Cu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dm(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Ou(e.return,t,i)}function Ru(e,t,i,a,o){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:o}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=a,c.tail=i,c.tailMode=o)}function mm(e,t,i){var a=t.pendingProps,o=a.revealOrder,c=a.tail;if(ot(e,t,a.children,i),a=Fe.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dm(e,i,t);else if(e.tag===19)dm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(Te(Fe,a),o){case"forwards":for(i=t.child,o=null;i!==null;)e=i.alternate,e!==null&&$a(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),Ru(t,!1,o,i,c);break;case"backwards":for(i=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&$a(e)===null){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}Ru(t,!0,i,null,c);break;case"together":Ru(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function En(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),ni|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Os(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=ti(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=ti(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Nu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&fr(e)))}function f0(e,t,i){switch(t.tag){case 3:yi(t,t.stateNode.containerInfo),Kn(t,Ke,e.memoizedState.cache),ys();break;case 27:case 5:nl(t);break;case 4:yi(t,t.stateNode.containerInfo);break;case 10:Kn(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Vn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?hm(e,t,i):(Vn(t),e=En(e,t,i),e!==null?e.sibling:null);Vn(t);break;case 19:var o=(e.flags&128)!==0;if(a=(i&t.childLanes)!==0,a||(Os(e,t,i,!1),a=(i&t.childLanes)!==0),o){if(a)return mm(e,t,i);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Te(Fe,Fe.current),a)break;return null;case 22:case 23:return t.lanes=0,rm(e,t,i);case 24:Kn(t,Ke,e.memoizedState.cache)}return En(e,t,i)}function gm(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)$e=!0;else{if(!Nu(e,i)&&(t.flags&128)===0)return $e=!1,f0(e,t,i);$e=(e.flags&131072)!==0}else $e=!1,ge&&(t.flags&1048576)!==0&&$h(t,Ka,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,o=a._init;if(a=o(a._payload),t.type=a,typeof a=="function")Gu(a)?(e=zi(a,e),t.tag=1,t=cm(null,t,a,e,i)):(t.tag=0,t=Su(null,t,a,e,i));else{if(a!=null){if(o=a.$$typeof,o===H){t.tag=11,t=lm(null,t,a,e,i);break e}else if(o===Ue){t.tag=14,t=sm(null,t,a,e,i);break e}}throw t=on(a)||a,Error(r(306,t,""))}}return t;case 0:return Su(e,t,t.type,t.pendingProps,i);case 1:return a=t.type,o=zi(a,t.pendingProps),cm(e,t,a,o,i);case 3:e:{if(yi(t,t.stateNode.containerInfo),e===null)throw Error(r(387));var c=t.pendingProps;o=t.memoizedState,a=o.element,Lu(e,t),Ls(t,c,null,i);var d=t.memoizedState;if(c=d.cache,Kn(t,Ke,c),c!==o.cache&&Mu(t,[Ke],i,!0),xs(),c=d.element,o.isDehydrated)if(o={element:c,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=fm(e,t,c,i);break e}else if(c!==a){a=Gt(Error(r(424)),t),vs(a),t=fm(e,t,c,i);break e}else for(rt=nn(t.stateNode.containerInfo.firstChild),yt=t,ge=!0,en=null,un=!0,i=od(t,null,c,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ys(),c===a){t=En(e,t,i);break e}ot(e,t,c,i)}t=t.child}return t;case 26:return Ds(e,t),e===null?(i=yg(t.type,null,t.pendingProps,null))?t.memoizedState=i:ge||(i=t.type,e=t.pendingProps,a=Rr(Jt.current).createElement(i),a[dt]=t,a[bt]=e,ut(a,i,e),Je(a),t.stateNode=a):t.memoizedState=yg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return nl(t),e===null&&ge&&(a=t.stateNode=gg(t.type,t.pendingProps,Jt.current),yt=t,un=!0,rt=nn(a.firstChild)),a=t.pendingProps.children,e!==null||ge?ot(e,t,a,i):t.child=Di(t,null,a,i),Ds(e,t),t.child;case 5:return e===null&&ge&&((o=a=rt)&&(a=q0(a,t.type,t.pendingProps,un),a!==null?(t.stateNode=a,yt=t,rt=nn(a.firstChild),un=!1,o=!0):o=!1),o||Ni(t)),nl(t),o=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,a=c.children,mc(o,c)?a=null:d!==null&&mc(o,d)&&(t.flags|=32),t.memoizedState!==null&&(o=nu(e,t,l0,null,null,i),Ks._currentValue=o),Ds(e,t),ot(e,t,a,i),t.child;case 6:return e===null&&ge&&((e=i=rt)&&(i=G0(i,t.pendingProps,un),i!==null?(t.stateNode=i,yt=t,rt=null,e=!0):e=!1),e||Ni(t)),null;case 13:return hm(e,t,i);case 4:return yi(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Di(t,null,a,i):ot(e,t,a,i),t.child;case 11:return lm(e,t,t.type,t.pendingProps,i);case 7:return ot(e,t,t.pendingProps,i),t.child;case 8:return ot(e,t,t.pendingProps.children,i),t.child;case 12:return ot(e,t,t.pendingProps.children,i),t.child;case 10:return a=t.pendingProps,Kn(t,t.type,a.value),ot(e,t,a.children,i),t.child;case 9:return o=t.type._context,a=t.pendingProps.children,Ui(t),o=mt(o),a=a(o),t.flags|=1,ot(e,t,a,i),t.child;case 14:return sm(e,t,t.type,t.pendingProps,i);case 15:return am(e,t,t.type,t.pendingProps,i);case 19:return mm(e,t,i);case 22:return rm(e,t,i);case 24:return Ui(t),a=mt(Ke),e===null?(o=eu(),o===null&&(o=we,c=Jo(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=i),o=c),t.memoizedState={parent:a,cache:o},xu(t),Kn(t,Ke,o)):((e.lanes&i)!==0&&(Lu(e,t),Ls(t,null,null,i),xs()),o=e.memoizedState,c=t.memoizedState,o.parent!==a?(o={parent:a,cache:a},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Kn(t,Ke,a)):(a=c.cache,Kn(t,Ke,a),a!==o.cache&&Mu(t,[Ke],i,!0))),ot(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}var Du=me(null),Bi=null,Tn=null;function Kn(e,t,i){Te(Du,t._currentValue),t._currentValue=i}function Cn(e){e._currentValue=Du.current,Me(Du)}function Ou(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function Mu(e,t,i,a){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var d=o.child;c=c.firstContext;e:for(;c!==null;){var p=c;c=o;for(var y=0;y<t.length;y++)if(p.context===t[y]){c.lanes|=i,p=c.alternate,p!==null&&(p.lanes|=i),Ou(c.return,i,e),a||(d=null);break e}c=p.next}}else if(o.tag===18){if(d=o.return,d===null)throw Error(r(341));d.lanes|=i,c=d.alternate,c!==null&&(c.lanes|=i),Ou(d,i,e),d=null}else d=o.child;if(d!==null)d.return=o;else for(d=o;d!==null;){if(d===e){d=null;break}if(o=d.sibling,o!==null){o.return=d.return,d=o;break}d=d.return}o=d}}function Os(e,t,i,a){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var d=o.alternate;if(d===null)throw Error(r(387));if(d=d.memoizedProps,d!==null){var p=o.type;Lt(o.pendingProps.value,d.value)||(e!==null?e.push(p):e=[p])}}else if(o===pi.current){if(d=o.alternate,d===null)throw Error(r(387));d.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ks):e=[Ks])}o=o.return}e!==null&&Mu(t,e,i,a),t.flags|=262144}function fr(e){for(e=e.firstContext;e!==null;){if(!Lt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ui(e){Bi=e,Tn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function mt(e){return _m(Bi,e)}function hr(e,t){return Bi===null&&Ui(e),_m(e,t)}function _m(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Tn===null){if(e===null)throw Error(r(308));Tn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Tn=Tn.next=t;return i}var Zn=!1;function xu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Wn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Pn(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Be&2)!==0){var o=a.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),a.pending=t,t=Xa(e),Ph(e,null,i),t}return Qa(e,a,t,i),Xa(e)}function Ms(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194176)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,sh(e,i)}}function zu(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var o=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var d={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};c===null?o=c=d:c=c.next=d,i=i.next}while(i!==null);c===null?o=c=t:c=c.next=t}else o=c=t;i={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:a.shared,callbacks:a.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Bu=!1;function xs(){if(Bu){var e=Al;if(e!==null)throw e}}function Ls(e,t,i,a){Bu=!1;var o=e.updateQueue;Zn=!1;var c=o.firstBaseUpdate,d=o.lastBaseUpdate,p=o.shared.pending;if(p!==null){o.shared.pending=null;var y=p,T=y.next;y.next=null,d===null?c=T:d.next=T,d=y;var D=e.alternate;D!==null&&(D=D.updateQueue,p=D.lastBaseUpdate,p!==d&&(p===null?D.firstBaseUpdate=T:p.next=T,D.lastBaseUpdate=y))}if(c!==null){var M=o.baseState;d=0,D=T=y=null,p=c;do{var R=p.lane&-536870913,N=R!==p.lane;if(N?(de&R)===R:(a&R)===R){R!==0&&R===Cl&&(Bu=!0),D!==null&&(D=D.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var G=e,ee=p;R=t;var je=i;switch(ee.tag){case 1:if(G=ee.payload,typeof G=="function"){M=G.call(je,M,R);break e}M=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=ee.payload,R=typeof G=="function"?G.call(je,M,R):G,R==null)break e;M=J({},M,R);break e;case 2:Zn=!0}}R=p.callback,R!==null&&(e.flags|=64,N&&(e.flags|=8192),N=o.callbacks,N===null?o.callbacks=[R]:N.push(R))}else N={lane:R,tag:p.tag,payload:p.payload,callback:p.callback,next:null},D===null?(T=D=N,y=M):D=D.next=N,d|=R;if(p=p.next,p===null){if(p=o.shared.pending,p===null)break;N=p,p=N.next,N.next=null,o.lastBaseUpdate=N,o.shared.pending=null}}while(!0);D===null&&(y=M),o.baseState=y,o.firstBaseUpdate=T,o.lastBaseUpdate=D,c===null&&(o.shared.lanes=0),ni|=d,e.lanes=d,e.memoizedState=M}}function pm(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function ym(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)pm(i[e],t)}function zs(e,t){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var o=a.next;i=o;do{if((i.tag&e)===e){a=void 0;var c=i.create,d=i.inst;a=c(),d.destroy=a}i=i.next}while(i!==o)}}catch(p){Ce(t,t.return,p)}}function Jn(e,t,i){try{var a=t.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var c=o.next;a=c;do{if((a.tag&e)===e){var d=a.inst,p=d.destroy;if(p!==void 0){d.destroy=void 0,o=t;var y=i;try{p()}catch(T){Ce(o,y,T)}}}a=a.next}while(a!==c)}}catch(T){Ce(t,t.return,T)}}function vm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{ym(t,i)}catch(a){Ce(e,e.return,a)}}}function Sm(e,t,i){i.props=zi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(a){Ce(e,t,a)}}function Ii(e,t){try{var i=e.ref;if(i!==null){var a=e.stateNode;switch(e.tag){case 26:case 27:case 5:var o=a;break;default:o=a}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(c){Ce(e,t,c)}}function zt(e,t){var i=e.ref,a=e.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(o){Ce(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){Ce(e,t,o)}else i.current=null}function bm(e){var t=e.type,i=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break e;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(o){Ce(e,e.return,o)}}function Em(e,t,i){try{var a=e.stateNode;U0(a,e.type,i,t),a[bt]=t}catch(o){Ce(e,e.return,o)}}function Tm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Uu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Iu(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=wr));else if(a!==4&&a!==27&&(e=e.child,e!==null))for(Iu(e,t,i),e=e.sibling;e!==null;)Iu(e,t,i),e=e.sibling}function dr(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&a!==27&&(e=e.child,e!==null))for(dr(e,t,i),e=e.sibling;e!==null;)dr(e,t,i),e=e.sibling}var An=!1,He=!1,Hu=!1,Cm=typeof WeakSet=="function"?WeakSet:Set,et=null,Am=!1;function h0(e,t){if(e=e.containerInfo,hc=Lr,e=Gh(e),jo(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var o=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var d=0,p=-1,y=-1,T=0,D=0,M=e,R=null;t:for(;;){for(var N;M!==i||o!==0&&M.nodeType!==3||(p=d+o),M!==c||a!==0&&M.nodeType!==3||(y=d+a),M.nodeType===3&&(d+=M.nodeValue.length),(N=M.firstChild)!==null;)R=M,M=N;for(;;){if(M===e)break t;if(R===i&&++T===o&&(p=d),R===c&&++D===a&&(y=d),(N=M.nextSibling)!==null)break;M=R,R=M.parentNode}M=N}i=p===-1||y===-1?null:{start:p,end:y}}else i=null}i=i||{start:0,end:0}}else i=null;for(dc={focusedElem:e,selectionRange:i},Lr=!1,et=t;et!==null;)if(t=et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,et=e;else for(;et!==null;){switch(t=et,c=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,i=t,o=c.memoizedProps,c=c.memoizedState,a=i.stateNode;try{var G=zi(i.type,o,i.elementType===i.type);e=a.getSnapshotBeforeUpdate(G,c),a.__reactInternalSnapshotBeforeUpdate=e}catch(ee){Ce(i,i.return,ee)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)pc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,et=e;break}et=t.return}return G=Am,Am=!1,G}function wm(e,t,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:Rn(e,i),a&4&&zs(5,i);break;case 1:if(Rn(e,i),a&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(p){Ce(i,i.return,p)}else{var o=zi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Ce(i,i.return,p)}}a&64&&vm(i),a&512&&Ii(i,i.return);break;case 3:if(Rn(e,i),a&64&&(a=i.updateQueue,a!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{ym(a,e)}catch(p){Ce(i,i.return,p)}}break;case 26:Rn(e,i),a&512&&Ii(i,i.return);break;case 27:case 5:Rn(e,i),t===null&&a&4&&bm(i),a&512&&Ii(i,i.return);break;case 12:Rn(e,i);break;case 13:Rn(e,i),a&4&&Dm(e,i);break;case 22:if(o=i.memoizedState!==null||An,!o){t=t!==null&&t.memoizedState!==null||He;var c=An,d=He;An=o,(He=t)&&!d?$n(e,i,(i.subtreeFlags&8772)!==0):Rn(e,i),An=c,He=d}a&512&&(i.memoizedProps.mode==="manual"?Ii(i,i.return):zt(i,i.return));break;default:Rn(e,i)}}function Rm(e){var t=e.alternate;t!==null&&(e.alternate=null,Rm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Co(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Qe=null,Bt=!1;function wn(e,t,i){for(i=i.child;i!==null;)Nm(e,t,i),i=i.sibling}function Nm(e,t,i){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(al,i)}catch{}switch(i.tag){case 26:He||zt(i,t),wn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:He||zt(i,t);var a=Qe,o=Bt;for(Qe=i.stateNode,wn(e,t,i),i=i.stateNode,t=i.attributes;t.length;)i.removeAttributeNode(t[0]);Co(i),Qe=a,Bt=o;break;case 5:He||zt(i,t);case 6:o=Qe;var c=Bt;if(Qe=null,wn(e,t,i),Qe=o,Bt=c,Qe!==null)if(Bt)try{e=Qe,a=i.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)}catch(d){Ce(i,t,d)}else try{Qe.removeChild(i.stateNode)}catch(d){Ce(i,t,d)}break;case 18:Qe!==null&&(Bt?(t=Qe,i=i.stateNode,t.nodeType===8?_c(t.parentNode,i):t.nodeType===1&&_c(t,i),Js(t)):_c(Qe,i.stateNode));break;case 4:a=Qe,o=Bt,Qe=i.stateNode.containerInfo,Bt=!0,wn(e,t,i),Qe=a,Bt=o;break;case 0:case 11:case 14:case 15:He||Jn(2,i,t),He||Jn(4,i,t),wn(e,t,i);break;case 1:He||(zt(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"&&Sm(i,t,a)),wn(e,t,i);break;case 21:wn(e,t,i);break;case 22:He||zt(i,t),He=(a=He)||i.memoizedState!==null,wn(e,t,i),He=a;break;default:wn(e,t,i)}}function Dm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Js(e)}catch(i){Ce(t,t.return,i)}}function d0(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Cm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Cm),t;default:throw Error(r(435,e.tag))}}function ku(e,t){var i=d0(e);t.forEach(function(a){var o=w0.bind(null,e,a);i.has(a)||(i.add(a),a.then(o,o))})}function Xt(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var o=i[a],c=e,d=t,p=d;e:for(;p!==null;){switch(p.tag){case 27:case 5:Qe=p.stateNode,Bt=!1;break e;case 3:Qe=p.stateNode.containerInfo,Bt=!0;break e;case 4:Qe=p.stateNode.containerInfo,Bt=!0;break e}p=p.return}if(Qe===null)throw Error(r(160));Nm(c,d,o),Qe=null,Bt=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Om(t,e),t=t.sibling}var tn=null;function Om(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Xt(t,e),Ft(e),a&4&&(Jn(3,e,e.return),zs(3,e),Jn(5,e,e.return));break;case 1:Xt(t,e),Ft(e),a&512&&(He||i===null||zt(i,i.return)),a&64&&An&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var o=tn;if(Xt(t,e),Ft(e),a&512&&(He||i===null||zt(i,i.return)),a&4){var c=i!==null?i.memoizedState:null;if(a=e.memoizedState,i===null)if(a===null)if(e.stateNode===null){e:{a=e.type,i=e.memoizedProps,o=o.ownerDocument||o;t:switch(a){case"title":c=o.getElementsByTagName("title")[0],(!c||c[as]||c[dt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(a),o.head.insertBefore(c,o.querySelector("head > title"))),ut(c,a,i),c[dt]=e,Je(c),a=c;break e;case"link":var d=bg("link","href",o).get(a+(i.href||""));if(d){for(var p=0;p<d.length;p++)if(c=d[p],c.getAttribute("href")===(i.href==null?null:i.href)&&c.getAttribute("rel")===(i.rel==null?null:i.rel)&&c.getAttribute("title")===(i.title==null?null:i.title)&&c.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){d.splice(p,1);break t}}c=o.createElement(a),ut(c,a,i),o.head.appendChild(c);break;case"meta":if(d=bg("meta","content",o).get(a+(i.content||""))){for(p=0;p<d.length;p++)if(c=d[p],c.getAttribute("content")===(i.content==null?null:""+i.content)&&c.getAttribute("name")===(i.name==null?null:i.name)&&c.getAttribute("property")===(i.property==null?null:i.property)&&c.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&c.getAttribute("charset")===(i.charSet==null?null:i.charSet)){d.splice(p,1);break t}}c=o.createElement(a),ut(c,a,i),o.head.appendChild(c);break;default:throw Error(r(468,a))}c[dt]=e,Je(c),a=c}e.stateNode=a}else Eg(o,e.type,e.stateNode);else e.stateNode=Sg(o,a,e.memoizedProps);else c!==a?(c===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):c.count--,a===null?Eg(o,e.type,e.stateNode):Sg(o,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Em(e,e.memoizedProps,i.memoizedProps)}break;case 27:if(a&4&&e.alternate===null){o=e.stateNode,c=e.memoizedProps;try{for(var y=o.firstChild;y;){var T=y.nextSibling,D=y.nodeName;y[as]||D==="HEAD"||D==="BODY"||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=T}for(var M=e.type,R=o.attributes;R.length;)o.removeAttributeNode(R[0]);ut(o,M,c),o[dt]=e,o[bt]=c}catch(G){Ce(e,e.return,G)}}case 5:if(Xt(t,e),Ft(e),a&512&&(He||i===null||zt(i,i.return)),e.flags&32){o=e.stateNode;try{hl(o,"")}catch(G){Ce(e,e.return,G)}}a&4&&e.stateNode!=null&&(o=e.memoizedProps,Em(e,o,i!==null?i.memoizedProps:o)),a&1024&&(Hu=!0);break;case 6:if(Xt(t,e),Ft(e),a&4){if(e.stateNode===null)throw Error(r(162));a=e.memoizedProps,i=e.stateNode;try{i.nodeValue=a}catch(G){Ce(e,e.return,G)}}break;case 3:if(Or=null,o=tn,tn=Nr(t.containerInfo),Xt(t,e),tn=o,Ft(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Js(t.containerInfo)}catch(G){Ce(e,e.return,G)}Hu&&(Hu=!1,Mm(e));break;case 4:a=tn,tn=Nr(e.stateNode.containerInfo),Xt(t,e),Ft(e),tn=a;break;case 12:Xt(t,e),Ft(e);break;case 13:Xt(t,e),Ft(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Ku=xt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ku(e,a)));break;case 22:if(a&512&&(He||i===null||zt(i,i.return)),y=e.memoizedState!==null,T=i!==null&&i.memoizedState!==null,D=An,M=He,An=D||y,He=M||T,Xt(t,e),He=M,An=D,Ft(e),t=e.stateNode,t._current=e,t._visibility&=-3,t._visibility|=t._pendingVisibility&2,a&8192&&(t._visibility=y?t._visibility&-2:t._visibility|1,y&&(t=An||He,i===null||T||t||Dl(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))e:for(i=null,t=e;;){if(t.tag===5||t.tag===26||t.tag===27){if(i===null){T=i=t;try{if(o=T.stateNode,y)c=o.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{d=T.stateNode,p=T.memoizedProps.style;var N=p!=null&&p.hasOwnProperty("display")?p.display:null;d.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(G){Ce(T,T.return,G)}}}else if(t.tag===6){if(i===null){T=t;try{T.stateNode.nodeValue=y?"":T.memoizedProps}catch(G){Ce(T,T.return,G)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,ku(e,i))));break;case 19:Xt(t,e),Ft(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ku(e,a)));break;case 21:break;default:Xt(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{if(e.tag!==27){e:{for(var i=e.return;i!==null;){if(Tm(i)){var a=i;break e}i=i.return}throw Error(r(160))}switch(a.tag){case 27:var o=a.stateNode,c=Uu(e);dr(e,c,o);break;case 5:var d=a.stateNode;a.flags&32&&(hl(d,""),a.flags&=-33);var p=Uu(e);dr(e,p,d);break;case 3:case 4:var y=a.stateNode.containerInfo,T=Uu(e);Iu(e,T,y);break;default:throw Error(r(161))}}}catch(D){Ce(e,e.return,D)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Mm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Rn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)wm(e,t.alternate,t),t=t.sibling}function Dl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Jn(4,t,t.return),Dl(t);break;case 1:zt(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Sm(t,t.return,i),Dl(t);break;case 26:case 27:case 5:zt(t,t.return),Dl(t);break;case 22:zt(t,t.return),t.memoizedState===null&&Dl(t);break;default:Dl(t)}e=e.sibling}}function $n(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,o=e,c=t,d=c.flags;switch(c.tag){case 0:case 11:case 15:$n(o,c,i),zs(4,c);break;case 1:if($n(o,c,i),a=c,o=a.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(T){Ce(a,a.return,T)}if(a=c,o=a.updateQueue,o!==null){var p=a.stateNode;try{var y=o.shared.hiddenCallbacks;if(y!==null)for(o.shared.hiddenCallbacks=null,o=0;o<y.length;o++)pm(y[o],p)}catch(T){Ce(a,a.return,T)}}i&&d&64&&vm(c),Ii(c,c.return);break;case 26:case 27:case 5:$n(o,c,i),i&&a===null&&d&4&&bm(c),Ii(c,c.return);break;case 12:$n(o,c,i);break;case 13:$n(o,c,i),i&&d&4&&Dm(o,c);break;case 22:c.memoizedState===null&&$n(o,c,i),Ii(c,c.return);break;default:$n(o,c,i)}t=t.sibling}}function ju(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Cs(i))}function qu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Cs(e))}function ei(e,t,i,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xm(e,t,i,a),t=t.sibling}function xm(e,t,i,a){var o=t.flags;switch(t.tag){case 0:case 11:case 15:ei(e,t,i,a),o&2048&&zs(9,t);break;case 3:ei(e,t,i,a),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Cs(e)));break;case 12:if(o&2048){ei(e,t,i,a),e=t.stateNode;try{var c=t.memoizedProps,d=c.id,p=c.onPostCommit;typeof p=="function"&&p(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(y){Ce(t,t.return,y)}}else ei(e,t,i,a);break;case 23:break;case 22:c=t.stateNode,t.memoizedState!==null?c._visibility&4?ei(e,t,i,a):Bs(e,t):c._visibility&4?ei(e,t,i,a):(c._visibility|=4,Ol(e,t,i,a,(t.subtreeFlags&10256)!==0)),o&2048&&ju(t.alternate,t);break;case 24:ei(e,t,i,a),o&2048&&qu(t.alternate,t);break;default:ei(e,t,i,a)}}function Ol(e,t,i,a,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var c=e,d=t,p=i,y=a,T=d.flags;switch(d.tag){case 0:case 11:case 15:Ol(c,d,p,y,o),zs(8,d);break;case 23:break;case 22:var D=d.stateNode;d.memoizedState!==null?D._visibility&4?Ol(c,d,p,y,o):Bs(c,d):(D._visibility|=4,Ol(c,d,p,y,o)),o&&T&2048&&ju(d.alternate,d);break;case 24:Ol(c,d,p,y,o),o&&T&2048&&qu(d.alternate,d);break;default:Ol(c,d,p,y,o)}t=t.sibling}}function Bs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,a=t,o=a.flags;switch(a.tag){case 22:Bs(i,a),o&2048&&ju(a.alternate,a);break;case 24:Bs(i,a),o&2048&&qu(a.alternate,a);break;default:Bs(i,a)}t=t.sibling}}var Us=8192;function Ml(e){if(e.subtreeFlags&Us)for(e=e.child;e!==null;)Lm(e),e=e.sibling}function Lm(e){switch(e.tag){case 26:Ml(e),e.flags&Us&&e.memoizedState!==null&&tS(tn,e.memoizedState,e.memoizedProps);break;case 5:Ml(e);break;case 3:case 4:var t=tn;tn=Nr(e.stateNode.containerInfo),Ml(e),tn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Us,Us=16777216,Ml(e),Us=t):Ml(e));break;default:Ml(e)}}function zm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Is(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];et=a,Um(a,e)}zm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Bm(e),e=e.sibling}function Bm(e){switch(e.tag){case 0:case 11:case 15:Is(e),e.flags&2048&&Jn(9,e,e.return);break;case 3:Is(e);break;case 12:Is(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&4&&(e.return===null||e.return.tag!==13)?(t._visibility&=-5,mr(e)):Is(e);break;default:Is(e)}}function mr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];et=a,Um(a,e)}zm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Jn(8,t,t.return),mr(t);break;case 22:i=t.stateNode,i._visibility&4&&(i._visibility&=-5,mr(t));break;default:mr(t)}e=e.sibling}}function Um(e,t){for(;et!==null;){var i=et;switch(i.tag){case 0:case 11:case 15:Jn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Cs(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,et=a;else e:for(i=e;et!==null;){a=et;var o=a.sibling,c=a.return;if(Rm(a),a===i){et=null;break e}if(o!==null){o.return=c,et=o;break e}et=c}}}function m0(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(e,t,i,a){return new m0(e,t,i,a)}function Gu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ti(e,t){var i=e.alternate;return i===null?(i=Kt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&31457280,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Im(e,t){e.flags&=31457282;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function gr(e,t,i,a,o,c){var d=0;if(a=e,typeof e=="function")Gu(e)&&(d=1);else if(typeof e=="string")d=$0(e,i,Mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case _:return Hi(i.children,o,c,t);case g:d=8,o|=24;break;case S:return e=Kt(12,i,t,o|2),e.elementType=S,e.lanes=c,e;case W:return e=Kt(13,i,t,o),e.elementType=W,e.lanes=c,e;case K:return e=Kt(19,i,t,o),e.elementType=K,e.lanes=c,e;case j:return Hm(i,o,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E:case L:d=10;break e;case A:d=9;break e;case H:d=11;break e;case Ue:d=14;break e;case Ie:d=16,a=null;break e}d=29,i=Error(r(130,e===null?"null":typeof e,"")),a=null}return t=Kt(d,i,t,o),t.elementType=e,t.type=a,t.lanes=c,t}function Hi(e,t,i,a){return e=Kt(7,e,a,t),e.lanes=i,e}function Hm(e,t,i,a){e=Kt(22,e,a,t),e.elementType=j,e.lanes=i;var o={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var c=o._current;if(c===null)throw Error(r(456));if((o._pendingVisibility&2)===0){var d=Yn(c,2);d!==null&&(o._pendingVisibility|=2,vt(d,c,2))}},attach:function(){var c=o._current;if(c===null)throw Error(r(456));if((o._pendingVisibility&2)!==0){var d=Yn(c,2);d!==null&&(o._pendingVisibility&=-3,vt(d,c,2))}}};return e.stateNode=o,e}function Yu(e,t,i){return e=Kt(6,e,null,t),e.lanes=i,e}function Vu(e,t,i){return t=Kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nn(e){e.flags|=4}function km(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Tg(t)){if(t=Qt.current,t!==null&&((de&4194176)===de?cn!==null:(de&62914560)!==de&&(de&536870912)===0||t!==cn))throw bs=Zo,nd;e.flags|=8192}}function _r(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ih():536870912,e.lanes|=t,Ll|=t)}function Hs(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,a|=o.subtreeFlags&31457280,a|=o.flags&31457280,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function g0(e,t,i){var a=t.pendingProps;switch(Fo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return ze(t),null;case 3:return i=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Cn(Ke),gn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ps(t)?Nn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,en!==null&&(Ju(en),en=null))),ze(t),null;case 26:return i=t.memoizedState,e===null?(Nn(t),i!==null?(ze(t),km(t,i)):(ze(t),t.flags&=-16777217)):i?i!==e.memoizedState?(Nn(t),ze(t),km(t,i)):(ze(t),t.flags&=-16777217):(e.memoizedProps!==a&&Nn(t),ze(t),t.flags&=-16777217),null;case 27:vi(t),i=Jt.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Nn(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return ze(t),null}e=Mt.current,ps(t)?ed(t):(e=gg(o,a,i),t.stateNode=e,Nn(t))}return ze(t),null;case 5:if(vi(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Nn(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return ze(t),null}if(e=Mt.current,ps(t))ed(t);else{switch(o=Rr(Jt.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?o.createElement("select",{is:a.is}):o.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?o.createElement(i,{is:a.is}):o.createElement(i)}}e[dt]=t,e[bt]=a;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(ut(e,i,a),i){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Nn(t)}}return ze(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Nn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(r(166));if(e=Jt.current,ps(t)){if(e=t.stateNode,i=t.memoizedProps,a=null,o=yt,o!==null)switch(o.tag){case 27:case 5:a=o.memoizedProps}e[dt]=t,e=!!(e.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||ug(e.nodeValue,i)),e||Ni(t)}else e=Rr(e).createTextNode(a),e[dt]=t,t.stateNode=e}return ze(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ps(t),a!==null&&a.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[dt]=t}else ys(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ze(t),o=!1}else en!==null&&(Ju(en),en=null),o=!0;if(!o)return t.flags&256?(Sn(t),t):(Sn(t),null)}if(Sn(t),(t.flags&128)!==0)return t.lanes=i,t;if(i=a!==null,e=e!==null&&e.memoizedState!==null,i){a=t.child,o=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(o=a.alternate.memoizedState.cachePool.pool);var c=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==o&&(a.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),_r(t,t.updateQueue),ze(t),null;case 4:return gn(),e===null&&uc(t.stateNode.containerInfo),ze(t),null;case 10:return Cn(t.type),ze(t),null;case 19:if(Me(Fe),o=t.memoizedState,o===null)return ze(t),null;if(a=(t.flags&128)!==0,c=o.rendering,c===null)if(a)Hs(o,!1);else{if(ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=$a(e),c!==null){for(t.flags|=128,Hs(o,!1),e=c.updateQueue,t.updateQueue=e,_r(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Im(i,e),i=i.sibling;return Te(Fe,Fe.current&1|2),t.child}e=e.sibling}o.tail!==null&&xt()>pr&&(t.flags|=128,a=!0,Hs(o,!1),t.lanes=4194304)}else{if(!a)if(e=$a(c),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,_r(t,e),Hs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!c.alternate&&!ge)return ze(t),null}else 2*xt()-o.renderingStartTime>pr&&i!==536870912&&(t.flags|=128,a=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(e=o.last,e!==null?e.sibling=c:t.child=c,o.last=c)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=xt(),t.sibling=null,e=Fe.current,Te(Fe,a?e&1|2:e&1),t):(ze(t),null);case 22:case 23:return Sn(t),Po(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(i&536870912)!==0&&(t.flags&128)===0&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),i=t.updateQueue,i!==null&&_r(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==i&&(t.flags|=2048),e!==null&&Me(Oi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Cn(Ke),ze(t),null;case 25:return null}throw Error(r(156,t.tag))}function _0(e,t){switch(Fo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cn(Ke),gn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return vi(t),null;case 13:if(Sn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));ys()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Fe),null;case 4:return gn(),null;case 10:return Cn(t.type),null;case 22:case 23:return Sn(t),Po(),e!==null&&Me(Oi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Cn(Ke),null;case 25:return null;default:return null}}function jm(e,t){switch(Fo(t),t.tag){case 3:Cn(Ke),gn();break;case 26:case 27:case 5:vi(t);break;case 4:gn();break;case 13:Sn(t);break;case 19:Me(Fe);break;case 10:Cn(t.type);break;case 22:case 23:Sn(t),Po(),e!==null&&Me(Oi);break;case 24:Cn(Ke)}}var p0={getCacheForType:function(e){var t=mt(Ke),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},y0=typeof WeakMap=="function"?WeakMap:Map,Be=0,we=null,ue=null,de=0,Re=0,Ut=null,Dn=!1,xl=!1,Qu=!1,On=0,ke=0,ni=0,ki=0,Xu=0,Zt=0,Ll=0,ks=null,hn=null,Fu=!1,Ku=0,pr=1/0,yr=null,ii=null,vr=!1,ji=null,js=0,Zu=0,Wu=null,qs=0,Pu=null;function It(){if((Be&2)!==0&&de!==0)return de&-de;if(Q.T!==null){var e=Cl;return e!==0?e:sc()}return rh()}function qm(){Zt===0&&(Zt=(de&536870912)===0||ge?nh():536870912);var e=Qt.current;return e!==null&&(e.flags|=32),Zt}function vt(e,t,i){(e===we&&Re===2||e.cancelPendingCommit!==null)&&(zl(e,0),Mn(e,de,Zt,!1)),ss(e,i),((Be&2)===0||e!==we)&&(e===we&&((Be&2)===0&&(ki|=i),ke===4&&Mn(e,de,Zt,!1)),dn(e))}function Gm(e,t,i){if((Be&6)!==0)throw Error(r(327));var a=!i&&(t&60)===0&&(t&e.expiredLanes)===0||ls(e,t),o=a?b0(e,t):tc(e,t,!0),c=a;do{if(o===0){xl&&!a&&Mn(e,t,0,!1);break}else if(o===6)Mn(e,t,0,!Dn);else{if(i=e.current.alternate,c&&!v0(i)){o=tc(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var p=e;o=ks;var y=p.current.memoizedState.isDehydrated;if(y&&(zl(p,d).flags|=256),d=tc(p,d,!1),d!==2){if(Qu&&!y){p.errorRecoveryDisabledLanes|=c,ki|=c,o=4;break e}c=hn,hn=o,c!==null&&Ju(c)}o=d}if(c=!1,o!==2)continue}}if(o===1){zl(e,0),Mn(e,t,0,!0);break}e:{switch(a=e,o){case 0:case 1:throw Error(r(345));case 4:if((t&4194176)===t){Mn(a,t,Zt,!Dn);break e}break;case 2:hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if(a.finishedWork=i,a.finishedLanes=t,(t&62914560)===t&&(c=Ku+300-xt(),10<c)){if(Mn(a,t,Zt,!Dn),xa(a,0)!==0)break e;a.timeoutHandle=hg(Ym.bind(null,a,i,hn,yr,Fu,t,Zt,ki,Ll,Dn,2,-0,0),c);break e}Ym(a,i,hn,yr,Fu,t,Zt,ki,Ll,Dn,0,-0,0)}}break}while(!0);dn(e)}function Ju(e){hn===null?hn=e:hn.push.apply(hn,e)}function Ym(e,t,i,a,o,c,d,p,y,T,D,M,R){var N=t.subtreeFlags;if((N&8192||(N&16785408)===16785408)&&(Fs={stylesheets:null,count:0,unsuspend:eS},Lm(t),t=nS(),t!==null)){e.cancelPendingCommit=t(Wm.bind(null,e,i,a,o,d,p,y,1,M,R)),Mn(e,c,d,!T);return}Wm(e,i,a,o,d,p,y,D,M,R)}function v0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var o=i[a],c=o.getSnapshot;o=o.value;try{if(!Lt(c(),o))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mn(e,t,i,a){t&=~Xu,t&=~ki,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var o=t;0<o;){var c=31-at(o),d=1<<c;a[c]=-1,o&=~d}i!==0&&lh(e,i,t)}function Sr(){return(Be&6)===0?(Gs(0),!1):!0}function $u(){if(ue!==null){if(Re===0)var e=ue.return;else e=ue,Tn=Bi=null,su(e),El=null,Es=0,e=ue;for(;e!==null;)jm(e.alternate,e),e=e.return;ue=null}}function zl(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,H0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),$u(),we=e,ue=i=ti(e.current,null),de=t,Re=0,Ut=null,Dn=!1,xl=ls(e,t),Qu=!1,Ll=Zt=Xu=ki=ni=ke=0,hn=ks=null,Fu=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var o=31-at(a),c=1<<o;t|=e[o],a&=~c}return On=t,Va(),i}function Vm(e,t){ie=null,Q.H=fn,t===Ss?(t=sd(),Re=3):t===nd?(t=sd(),Re=4):Re=t===im?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ut=t,ue===null&&(ke=1,cr(e,Gt(t,e.current)))}function Qm(){var e=Q.H;return Q.H=fn,e===null?fn:e}function Xm(){var e=Q.A;return Q.A=p0,e}function ec(){ke=4,Dn||(de&4194176)!==de&&Qt.current!==null||(xl=!0),(ni&134217727)===0&&(ki&134217727)===0||we===null||Mn(we,de,Zt,!1)}function tc(e,t,i){var a=Be;Be|=2;var o=Qm(),c=Xm();(we!==e||de!==t)&&(yr=null,zl(e,t)),t=!1;var d=ke;e:do try{if(Re!==0&&ue!==null){var p=ue,y=Ut;switch(Re){case 8:$u(),d=6;break e;case 3:case 2:case 6:Qt.current===null&&(t=!0);var T=Re;if(Re=0,Ut=null,Bl(e,p,y,T),i&&xl){d=0;break e}break;default:T=Re,Re=0,Ut=null,Bl(e,p,y,T)}}S0(),d=ke;break}catch(D){Vm(e,D)}while(!0);return t&&e.shellSuspendCounter++,Tn=Bi=null,Be=a,Q.H=o,Q.A=c,ue===null&&(we=null,de=0,Va()),d}function S0(){for(;ue!==null;)Fm(ue)}function b0(e,t){var i=Be;Be|=2;var a=Qm(),o=Xm();we!==e||de!==t?(yr=null,pr=xt()+500,zl(e,t)):xl=ls(e,t);e:do try{if(Re!==0&&ue!==null){t=ue;var c=Ut;t:switch(Re){case 1:Re=0,Ut=null,Bl(e,t,c,1);break;case 2:if(id(c)){Re=0,Ut=null,Km(t);break}t=function(){Re===2&&we===e&&(Re=7),dn(e)},c.then(t,t);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:id(c)?(Re=0,Ut=null,Km(t)):(Re=0,Ut=null,Bl(e,t,c,7));break;case 5:var d=null;switch(ue.tag){case 26:d=ue.memoizedState;case 5:case 27:var p=ue;if(!d||Tg(d)){Re=0,Ut=null;var y=p.sibling;if(y!==null)ue=y;else{var T=p.return;T!==null?(ue=T,br(T)):ue=null}break t}}Re=0,Ut=null,Bl(e,t,c,5);break;case 6:Re=0,Ut=null,Bl(e,t,c,6);break;case 8:$u(),ke=6;break e;default:throw Error(r(462))}}E0();break}catch(D){Vm(e,D)}while(!0);return Tn=Bi=null,Q.H=a,Q.A=o,Be=i,ue!==null?0:(we=null,de=0,Va(),ke)}function E0(){for(;ue!==null&&!Ra();)Fm(ue)}function Fm(e){var t=gm(e.alternate,e,On);e.memoizedProps=e.pendingProps,t===null?br(e):ue=t}function Km(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=um(i,t,t.pendingProps,t.type,void 0,de);break;case 11:t=um(i,t,t.pendingProps,t.type.render,t.ref,de);break;case 5:su(t);default:jm(i,t),t=ue=Im(t,On),t=gm(i,t,On)}e.memoizedProps=e.pendingProps,t===null?br(e):ue=t}function Bl(e,t,i,a){Tn=Bi=null,su(t),El=null,Es=0;var o=t.return;try{if(c0(e,o,t,i,de)){ke=1,cr(e,Gt(i,e.current)),ue=null;return}}catch(c){if(o!==null)throw ue=o,c;ke=1,cr(e,Gt(i,e.current)),ue=null;return}t.flags&32768?(ge||a===1?e=!0:xl||(de&536870912)!==0?e=!1:(Dn=e=!0,(a===2||a===3||a===6)&&(a=Qt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Zm(t,e)):br(t)}function br(e){var t=e;do{if((t.flags&32768)!==0){Zm(t,Dn);return}e=t.return;var i=g0(t.alternate,t,On);if(i!==null){ue=i;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);ke===0&&(ke=5)}function Zm(e,t){do{var i=_0(e.alternate,e);if(i!==null){i.flags&=32767,ue=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){ue=e;return}ue=e=i}while(e!==null);ke=6,ue=null}function Wm(e,t,i,a,o,c,d,p,y,T){var D=Q.T,M=k.p;try{k.p=2,Q.T=null,T0(e,t,i,a,M,o,c,d,p,y,T)}finally{Q.T=D,k.p=M}}function T0(e,t,i,a,o,c,d,p){do Ul();while(ji!==null);if((Be&6)!==0)throw Error(r(327));var y=e.finishedWork;if(a=e.finishedLanes,y===null)return null;if(e.finishedWork=null,e.finishedLanes=0,y===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var T=y.lanes|y.childLanes;if(T|=Vo,tv(e,a,T,c,d,p),e===we&&(ue=we=null,de=0),(y.subtreeFlags&10256)===0&&(y.flags&10256)===0||vr||(vr=!0,Zu=T,Wu=i,R0(Pe,function(){return Ul(),null})),i=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||i?(i=Q.T,Q.T=null,c=k.p,k.p=2,d=Be,Be|=4,h0(e,y),Om(y,e),Fv(dc,e.containerInfo),Lr=!!hc,dc=hc=null,e.current=y,wm(e,y.alternate,y),Na(),Be=d,k.p=c,Q.T=i):e.current=y,vr?(vr=!1,ji=e,js=a):Pm(e,T),T=e.pendingLanes,T===0&&(ii=null),bo(y.stateNode),dn(e),t!==null)for(o=e.onRecoverableError,y=0;y<t.length;y++)T=t[y],o(T.value,{componentStack:T.stack});return(js&3)!==0&&Ul(),T=e.pendingLanes,(a&4194218)!==0&&(T&42)!==0?e===Pu?qs++:(qs=0,Pu=e):qs=0,Gs(0),null}function Pm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Cs(t)))}function Ul(){if(ji!==null){var e=ji,t=Zu;Zu=0;var i=ah(js),a=Q.T,o=k.p;try{if(k.p=32>i?32:i,Q.T=null,ji===null)var c=!1;else{i=Wu,Wu=null;var d=ji,p=js;if(ji=null,js=0,(Be&6)!==0)throw Error(r(331));var y=Be;if(Be|=4,Bm(d.current),xm(d,d.current,p,i),Be=y,Gs(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(al,d)}catch{}c=!0}return c}finally{k.p=o,Q.T=a,Pm(e,t)}}return!1}function Jm(e,t,i){t=Gt(i,t),t=vu(e.stateNode,t,2),e=Pn(e,t,2),e!==null&&(ss(e,2),dn(e))}function Ce(e,t,i){if(e.tag===3)Jm(e,e,i);else for(;t!==null;){if(t.tag===3){Jm(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ii===null||!ii.has(a))){e=Gt(i,e),i=tm(2),a=Pn(t,i,2),a!==null&&(nm(i,a,t,e),ss(a,2),dn(a));break}}t=t.return}}function nc(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new y0;var o=new Set;a.set(t,o)}else o=a.get(t),o===void 0&&(o=new Set,a.set(t,o));o.has(i)||(Qu=!0,o.add(i),e=C0.bind(null,e,t,i),t.then(e,e))}function C0(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,we===e&&(de&i)===i&&(ke===4||ke===3&&(de&62914560)===de&&300>xt()-Ku?(Be&2)===0&&zl(e,0):Xu|=i,Ll===de&&(Ll=0)),dn(e)}function $m(e,t){t===0&&(t=ih()),e=Yn(e,t),e!==null&&(ss(e,t),dn(e))}function A0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),$m(e,i)}function w0(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(t),$m(e,i)}function R0(e,t){return ll(e,t)}var Er=null,Il=null,ic=!1,Tr=!1,lc=!1,qi=0;function dn(e){e!==Il&&e.next===null&&(Il===null?Er=Il=e:Il=Il.next=e),Tr=!0,ic||(ic=!0,D0(N0))}function Gs(e,t){if(!lc&&Tr){lc=!0;do for(var i=!1,a=Er;a!==null;){if(e!==0){var o=a.pendingLanes;if(o===0)var c=0;else{var d=a.suspendedLanes,p=a.pingedLanes;c=(1<<31-at(42|e)+1)-1,c&=o&~(d&~p),c=c&201326677?c&201326677|1:c?c|2:0}c!==0&&(i=!0,ng(a,c))}else c=de,c=xa(a,a===we?c:0),(c&3)===0||ls(a,c)||(i=!0,ng(a,c));a=a.next}while(i);lc=!1}}function N0(){Tr=ic=!1;var e=0;qi!==0&&(I0()&&(e=qi),qi=0);for(var t=xt(),i=null,a=Er;a!==null;){var o=a.next,c=eg(a,t);c===0?(a.next=null,i===null?Er=o:i.next=o,o===null&&(Il=i)):(i=a,(e!==0||(c&3)!==0)&&(Tr=!0)),a=o}Gs(e)}function eg(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var d=31-at(c),p=1<<d,y=o[d];y===-1?((p&i)===0||(p&a)!==0)&&(o[d]=ev(p,t)):y<=t&&(e.expiredLanes|=p),c&=~p}if(t=we,i=de,i=xa(e,e===t?i:0),a=e.callbackNode,i===0||e===t&&Re===2||e.cancelPendingCommit!==null)return a!==null&&a!==null&&sl(a),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||ls(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(a!==null&&sl(a),ah(i)){case 2:case 8:i=St;break;case 32:i=Pe;break;case 268435456:i=Le;break;default:i=Pe}return a=tg.bind(null,e),i=ll(i,a),e.callbackPriority=t,e.callbackNode=i,t}return a!==null&&a!==null&&sl(a),e.callbackPriority=2,e.callbackNode=null,2}function tg(e,t){var i=e.callbackNode;if(Ul()&&e.callbackNode!==i)return null;var a=de;return a=xa(e,e===we?a:0),a===0?null:(Gm(e,a,t),eg(e,xt()),e.callbackNode!=null&&e.callbackNode===i?tg.bind(null,e):null)}function ng(e,t){if(Ul())return null;Gm(e,t,!0)}function D0(e){k0(function(){(Be&6)!==0?ll(Xe,e):e()})}function sc(){return qi===0&&(qi=nh()),qi}function ig(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ia(""+e)}function lg(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function O0(e,t,i,a,o){if(t==="submit"&&i&&i.stateNode===o){var c=ig((o[bt]||null).action),d=a.submitter;d&&(t=(t=d[bt]||null)?ig(t.formAction):d.getAttribute("formAction"),t!==null&&(c=t,d=null));var p=new qa("action","action",null,a,o);e.push({event:p,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(qi!==0){var y=d?lg(o,d):new FormData(o);mu(i,{pending:!0,data:y,method:o.method,action:c},null,y)}}else typeof c=="function"&&(p.preventDefault(),y=d?lg(o,d):new FormData(o),mu(i,{pending:!0,data:y,method:o.method,action:c},c,y))},currentTarget:o}]})}}for(var ac=0;ac<Wh.length;ac++){var rc=Wh[ac],M0=rc.toLowerCase(),x0=rc[0].toUpperCase()+rc.slice(1);$t(M0,"on"+x0)}$t(Qh,"onAnimationEnd"),$t(Xh,"onAnimationIteration"),$t(Fh,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(Zv,"onTransitionRun"),$t(Wv,"onTransitionStart"),$t(Pv,"onTransitionCancel"),$t(Kh,"onTransitionEnd"),cl("onMouseEnter",["mouseout","mouseover"]),cl("onMouseLeave",["mouseout","mouseover"]),cl("onPointerEnter",["pointerout","pointerover"]),cl("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ys));function sg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],o=a.event;a=a.listeners;e:{var c=void 0;if(t)for(var d=a.length-1;0<=d;d--){var p=a[d],y=p.instance,T=p.currentTarget;if(p=p.listener,y!==c&&o.isPropagationStopped())break e;c=p,o.currentTarget=T;try{c(o)}catch(D){ur(D)}o.currentTarget=null,c=y}else for(d=0;d<a.length;d++){if(p=a[d],y=p.instance,T=p.currentTarget,p=p.listener,y!==c&&o.isPropagationStopped())break e;c=p,o.currentTarget=T;try{c(o)}catch(D){ur(D)}o.currentTarget=null,c=y}}}}function fe(e,t){var i=t[To];i===void 0&&(i=t[To]=new Set);var a=e+"__bubble";i.has(a)||(ag(t,e,2,!1),i.add(a))}function oc(e,t,i){var a=0;t&&(a|=4),ag(i,e,a,t)}var Cr="_reactListening"+Math.random().toString(36).slice(2);function uc(e){if(!e[Cr]){e[Cr]=!0,uh.forEach(function(i){i!=="selectionchange"&&(L0.has(i)||oc(i,!1,e),oc(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cr]||(t[Cr]=!0,oc("selectionchange",!1,t))}}function ag(e,t,i,a){switch(Dg(t)){case 2:var o=sS;break;case 8:o=aS;break;default:o=Ec}i=o.bind(null,t,i,e),o=void 0,!Mo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),a?o!==void 0?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):o!==void 0?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function cc(e,t,i,a,o){var c=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var d=a.tag;if(d===3||d===4){var p=a.stateNode.containerInfo;if(p===o||p.nodeType===8&&p.parentNode===o)break;if(d===4)for(d=a.return;d!==null;){var y=d.tag;if((y===3||y===4)&&(y=d.stateNode.containerInfo,y===o||y.nodeType===8&&y.parentNode===o))return;d=d.return}for(;p!==null;){if(d=bi(p),d===null)return;if(y=d.tag,y===5||y===6||y===26||y===27){a=c=d;continue e}p=p.parentNode}}a=a.return}bh(function(){var T=c,D=Do(i),M=[];e:{var R=Zh.get(e);if(R!==void 0){var N=qa,G=e;switch(e){case"keypress":if(ka(i)===0)break e;case"keydown":case"keyup":N=wv;break;case"focusin":G="focus",N=Bo;break;case"focusout":G="blur",N=Bo;break;case"beforeblur":case"afterblur":N=Bo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Ch;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=mv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Dv;break;case Qh:case Xh:case Fh:N=pv;break;case Kh:N=Mv;break;case"scroll":case"scrollend":N=hv;break;case"wheel":N=Lv;break;case"copy":case"cut":case"paste":N=vv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=wh;break;case"toggle":case"beforetoggle":N=Bv}var ee=(t&4)!==0,je=!ee&&(e==="scroll"||e==="scrollend"),C=ee?R!==null?R+"Capture":null:R;ee=[];for(var b=T,w;b!==null;){var O=b;if(w=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||w===null||C===null||(O=os(b,C),O!=null&&ee.push(Vs(b,O,w))),je)break;b=b.return}0<ee.length&&(R=new N(R,G,null,i,D),M.push({event:R,listeners:ee}))}}if((t&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",R&&i!==No&&(G=i.relatedTarget||i.fromElement)&&(bi(G)||G[rl]))break e;if((N||R)&&(R=D.window===D?D:(R=D.ownerDocument)?R.defaultView||R.parentWindow:window,N?(G=i.relatedTarget||i.toElement,N=T,G=G?bi(G):null,G!==null&&(je=F(G),ee=G.tag,G!==je||ee!==5&&ee!==27&&ee!==6)&&(G=null)):(N=null,G=T),N!==G)){if(ee=Ch,O="onMouseLeave",C="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(ee=wh,O="onPointerLeave",C="onPointerEnter",b="pointer"),je=N==null?R:rs(N),w=G==null?R:rs(G),R=new ee(O,b+"leave",N,i,D),R.target=je,R.relatedTarget=w,O=null,bi(D)===T&&(ee=new ee(C,b+"enter",G,i,D),ee.target=w,ee.relatedTarget=je,O=ee),je=O,N&&G)t:{for(ee=N,C=G,b=0,w=ee;w;w=Hl(w))b++;for(w=0,O=C;O;O=Hl(O))w++;for(;0<b-w;)ee=Hl(ee),b--;for(;0<w-b;)C=Hl(C),w--;for(;b--;){if(ee===C||C!==null&&ee===C.alternate)break t;ee=Hl(ee),C=Hl(C)}ee=null}else ee=null;N!==null&&rg(M,R,N,ee,!1),G!==null&&je!==null&&rg(M,je,G,ee,!0)}}e:{if(R=T?rs(T):window,N=R.nodeName&&R.nodeName.toLowerCase(),N==="select"||N==="input"&&R.type==="file")var q=zh;else if(xh(R))if(Bh)q=Qv;else{q=Yv;var se=Gv}else N=R.nodeName,!N||N.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?T&&Ro(T.elementType)&&(q=zh):q=Vv;if(q&&(q=q(e,T))){Lh(M,q,i,D);break e}se&&se(e,R,T),e==="focusout"&&T&&R.type==="number"&&T.memoizedProps.value!=null&&wo(R,"number",R.value)}switch(se=T?rs(T):window,e){case"focusin":(xh(se)||se.contentEditable==="true")&&(_l=se,qo=T,_s=null);break;case"focusout":_s=qo=_l=null;break;case"mousedown":Go=!0;break;case"contextmenu":case"mouseup":case"dragend":Go=!1,Yh(M,i,D);break;case"selectionchange":if(Kv)break;case"keydown":case"keyup":Yh(M,i,D)}var Y;if(Io)e:{switch(e){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else gl?Oh(e,i)&&(Z="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Z="onCompositionStart");Z&&(Rh&&i.locale!=="ko"&&(gl||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&gl&&(Y=Eh()):(Gn=D,xo="value"in Gn?Gn.value:Gn.textContent,gl=!0)),se=Ar(T,Z),0<se.length&&(Z=new Ah(Z,e,null,i,D),M.push({event:Z,listeners:se}),Y?Z.data=Y:(Y=Mh(i),Y!==null&&(Z.data=Y)))),(Y=Iv?Hv(e,i):kv(e,i))&&(Z=Ar(T,"onBeforeInput"),0<Z.length&&(se=new Ah("onBeforeInput","beforeinput",null,i,D),M.push({event:se,listeners:Z}),se.data=Y)),O0(M,e,T,i,D)}sg(M,t)})}function Vs(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Ar(e,t){for(var i=t+"Capture",a=[];e!==null;){var o=e,c=o.stateNode;o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=os(e,i),o!=null&&a.unshift(Vs(e,o,c)),o=os(e,t),o!=null&&a.push(Vs(e,o,c))),e=e.return}return a}function Hl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function rg(e,t,i,a,o){for(var c=t._reactName,d=[];i!==null&&i!==a;){var p=i,y=p.alternate,T=p.stateNode;if(p=p.tag,y!==null&&y===a)break;p!==5&&p!==26&&p!==27||T===null||(y=T,o?(T=os(i,c),T!=null&&d.unshift(Vs(i,T,y))):o||(T=os(i,c),T!=null&&d.push(Vs(i,T,y)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var z0=/\r\n?/g,B0=/\u0000|\uFFFD/g;function og(e){return(typeof e=="string"?e:""+e).replace(z0,`
`).replace(B0,"")}function ug(e,t){return t=og(t),og(e)===t}function wr(){}function be(e,t,i,a,o,c){switch(i){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||hl(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&hl(e,""+a);break;case"className":za(e,"class",a);break;case"tabIndex":za(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":za(e,i,a);break;case"style":vh(e,a,c);break;case"data":if(t!=="object"){za(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=Ia(""+a),e.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(i==="formAction"?(t!=="input"&&be(e,t,"name",o.name,o,null),be(e,t,"formEncType",o.formEncType,o,null),be(e,t,"formMethod",o.formMethod,o,null),be(e,t,"formTarget",o.formTarget,o,null)):(be(e,t,"encType",o.encType,o,null),be(e,t,"method",o.method,o,null),be(e,t,"target",o.target,o,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=Ia(""+a),e.setAttribute(i,a);break;case"onClick":a!=null&&(e.onclick=wr);break;case"onScroll":a!=null&&fe("scroll",e);break;case"onScrollEnd":a!=null&&fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}i=Ia(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""+a):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":a===!0?e.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,a):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(i,a):e.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(i):e.setAttribute(i,a);break;case"popover":fe("beforetoggle",e),fe("toggle",e),La(e,"popover",a);break;case"xlinkActuate":pn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":pn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":pn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":pn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":pn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":pn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":pn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":pn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":pn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":La(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=cv.get(i)||i,La(e,i,a))}}function fc(e,t,i,a,o,c){switch(i){case"style":vh(e,a,c);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof a=="string"?hl(e,a):(typeof a=="number"||typeof a=="bigint")&&hl(e,""+a);break;case"onScroll":a!=null&&fe("scroll",e);break;case"onScrollEnd":a!=null&&fe("scrollend",e);break;case"onClick":a!=null&&(e.onclick=wr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ch.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),t=i.slice(2,o?i.length-7:void 0),c=e[bt]||null,c=c!=null?c[i]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof a=="function")){typeof c!="function"&&c!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,a,o);break e}i in e?e[i]=a:a===!0?e.setAttribute(i,""):La(e,i,a)}}}function ut(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",e),fe("load",e);var a=!1,o=!1,c;for(c in i)if(i.hasOwnProperty(c)){var d=i[c];if(d!=null)switch(c){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:be(e,t,c,d,i,null)}}o&&be(e,t,"srcSet",i.srcSet,i,null),a&&be(e,t,"src",i.src,i,null);return;case"input":fe("invalid",e);var p=c=d=o=null,y=null,T=null;for(a in i)if(i.hasOwnProperty(a)){var D=i[a];if(D!=null)switch(a){case"name":o=D;break;case"type":d=D;break;case"checked":y=D;break;case"defaultChecked":T=D;break;case"value":c=D;break;case"defaultValue":p=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:be(e,t,a,D,i,null)}}gh(e,c,p,y,T,d,o,!1),Ba(e);return;case"select":fe("invalid",e),a=d=c=null;for(o in i)if(i.hasOwnProperty(o)&&(p=i[o],p!=null))switch(o){case"value":c=p;break;case"defaultValue":d=p;break;case"multiple":a=p;default:be(e,t,o,p,i,null)}t=c,i=d,e.multiple=!!a,t!=null?fl(e,!!a,t,!1):i!=null&&fl(e,!!a,i,!0);return;case"textarea":fe("invalid",e),c=o=a=null;for(d in i)if(i.hasOwnProperty(d)&&(p=i[d],p!=null))switch(d){case"value":a=p;break;case"defaultValue":o=p;break;case"children":c=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:be(e,t,d,p,i,null)}ph(e,a,o,c),Ba(e);return;case"option":for(y in i)if(i.hasOwnProperty(y)&&(a=i[y],a!=null))switch(y){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:be(e,t,y,a,i,null)}return;case"dialog":fe("cancel",e),fe("close",e);break;case"iframe":case"object":fe("load",e);break;case"video":case"audio":for(a=0;a<Ys.length;a++)fe(Ys[a],e);break;case"image":fe("error",e),fe("load",e);break;case"details":fe("toggle",e);break;case"embed":case"source":case"link":fe("error",e),fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(T in i)if(i.hasOwnProperty(T)&&(a=i[T],a!=null))switch(T){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:be(e,t,T,a,i,null)}return;default:if(Ro(t)){for(D in i)i.hasOwnProperty(D)&&(a=i[D],a!==void 0&&fc(e,t,D,a,i,void 0));return}}for(p in i)i.hasOwnProperty(p)&&(a=i[p],a!=null&&be(e,t,p,a,i,null))}function U0(e,t,i,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,d=null,p=null,y=null,T=null,D=null;for(N in i){var M=i[N];if(i.hasOwnProperty(N)&&M!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":y=M;default:a.hasOwnProperty(N)||be(e,t,N,null,a,M)}}for(var R in a){var N=a[R];if(M=i[R],a.hasOwnProperty(R)&&(N!=null||M!=null))switch(R){case"type":c=N;break;case"name":o=N;break;case"checked":T=N;break;case"defaultChecked":D=N;break;case"value":d=N;break;case"defaultValue":p=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(137,t));break;default:N!==M&&be(e,t,R,N,a,M)}}Ao(e,d,p,y,T,D,c,o);return;case"select":N=d=p=R=null;for(c in i)if(y=i[c],i.hasOwnProperty(c)&&y!=null)switch(c){case"value":break;case"multiple":N=y;default:a.hasOwnProperty(c)||be(e,t,c,null,a,y)}for(o in a)if(c=a[o],y=i[o],a.hasOwnProperty(o)&&(c!=null||y!=null))switch(o){case"value":R=c;break;case"defaultValue":p=c;break;case"multiple":d=c;default:c!==y&&be(e,t,o,c,a,y)}t=p,i=d,a=N,R!=null?fl(e,!!i,R,!1):!!a!=!!i&&(t!=null?fl(e,!!i,t,!0):fl(e,!!i,i?[]:"",!1));return;case"textarea":N=R=null;for(p in i)if(o=i[p],i.hasOwnProperty(p)&&o!=null&&!a.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:be(e,t,p,null,a,o)}for(d in a)if(o=a[d],c=i[d],a.hasOwnProperty(d)&&(o!=null||c!=null))switch(d){case"value":R=o;break;case"defaultValue":N=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==c&&be(e,t,d,o,a,c)}_h(e,R,N);return;case"option":for(var G in i)if(R=i[G],i.hasOwnProperty(G)&&R!=null&&!a.hasOwnProperty(G))switch(G){case"selected":e.selected=!1;break;default:be(e,t,G,null,a,R)}for(y in a)if(R=a[y],N=i[y],a.hasOwnProperty(y)&&R!==N&&(R!=null||N!=null))switch(y){case"selected":e.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:be(e,t,y,R,a,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ee in i)R=i[ee],i.hasOwnProperty(ee)&&R!=null&&!a.hasOwnProperty(ee)&&be(e,t,ee,null,a,R);for(T in a)if(R=a[T],N=i[T],a.hasOwnProperty(T)&&R!==N&&(R!=null||N!=null))switch(T){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,t));break;default:be(e,t,T,R,a,N)}return;default:if(Ro(t)){for(var je in i)R=i[je],i.hasOwnProperty(je)&&R!==void 0&&!a.hasOwnProperty(je)&&fc(e,t,je,void 0,a,R);for(D in a)R=a[D],N=i[D],!a.hasOwnProperty(D)||R===N||R===void 0&&N===void 0||fc(e,t,D,R,a,N);return}}for(var C in i)R=i[C],i.hasOwnProperty(C)&&R!=null&&!a.hasOwnProperty(C)&&be(e,t,C,null,a,R);for(M in a)R=a[M],N=i[M],!a.hasOwnProperty(M)||R===N||R==null&&N==null||be(e,t,M,R,a,N)}var hc=null,dc=null;function Rr(e){return e.nodeType===9?e:e.ownerDocument}function cg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function mc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gc=null;function I0(){var e=window.event;return e&&e.type==="popstate"?e===gc?!1:(gc=e,!0):(gc=null,!1)}var hg=typeof setTimeout=="function"?setTimeout:void 0,H0=typeof clearTimeout=="function"?clearTimeout:void 0,dg=typeof Promise=="function"?Promise:void 0,k0=typeof queueMicrotask=="function"?queueMicrotask:typeof dg<"u"?function(e){return dg.resolve(null).then(e).catch(j0)}:hg;function j0(e){setTimeout(function(){throw e})}function _c(e,t){var i=t,a=0;do{var o=i.nextSibling;if(e.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(a===0){e.removeChild(o),Js(t);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=o}while(i);Js(t)}function pc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":pc(i),Co(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function q0(e,t,i,a){for(;e.nodeType===1;){var o=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[as])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=nn(e.nextSibling),e===null)break}return null}function G0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=nn(e.nextSibling),e===null))return null;return e}function nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}function mg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function gg(e,t,i){switch(t=Rr(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}var Wt=new Map,_g=new Set;function Nr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var xn=k.d;k.d={f:Y0,r:V0,D:Q0,C:X0,L:F0,m:K0,X:W0,S:Z0,M:P0};function Y0(){var e=xn.f(),t=Sr();return e||t}function V0(e){var t=ol(e);t!==null&&t.tag===5&&t.type==="form"?Yd(t):xn.r(e)}var kl=typeof document>"u"?null:document;function pg(e,t,i){var a=kl;if(a&&typeof t=="string"&&t){var o=jt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),_g.has(o)||(_g.add(o),e={rel:e,crossOrigin:i,href:t},a.querySelector(o)===null&&(t=a.createElement("link"),ut(t,"link",e),Je(t),a.head.appendChild(t)))}}function Q0(e){xn.D(e),pg("dns-prefetch",e,null)}function X0(e,t){xn.C(e,t),pg("preconnect",e,t)}function F0(e,t,i){xn.L(e,t,i);var a=kl;if(a&&e&&t){var o='link[rel="preload"][as="'+jt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+jt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+jt(i.imageSizes)+'"]')):o+='[href="'+jt(e)+'"]';var c=o;switch(t){case"style":c=jl(e);break;case"script":c=ql(e)}Wt.has(c)||(e=J({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Wt.set(c,e),a.querySelector(o)!==null||t==="style"&&a.querySelector(Qs(c))||t==="script"&&a.querySelector(Xs(c))||(t=a.createElement("link"),ut(t,"link",e),Je(t),a.head.appendChild(t)))}}function K0(e,t){xn.m(e,t);var i=kl;if(i&&e){var a=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+jt(a)+'"][href="'+jt(e)+'"]',c=o;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=ql(e)}if(!Wt.has(c)&&(e=J({rel:"modulepreload",href:e},t),Wt.set(c,e),i.querySelector(o)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Xs(c)))return}a=i.createElement("link"),ut(a,"link",e),Je(a),i.head.appendChild(a)}}}function Z0(e,t,i){xn.S(e,t,i);var a=kl;if(a&&e){var o=ul(a).hoistableStyles,c=jl(e);t=t||"default";var d=o.get(c);if(!d){var p={loading:0,preload:null};if(d=a.querySelector(Qs(c)))p.loading=5;else{e=J({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Wt.get(c))&&yc(e,i);var y=d=a.createElement("link");Je(y),ut(y,"link",e),y._p=new Promise(function(T,D){y.onload=T,y.onerror=D}),y.addEventListener("load",function(){p.loading|=1}),y.addEventListener("error",function(){p.loading|=2}),p.loading|=4,Dr(d,t,a)}d={type:"stylesheet",instance:d,count:1,state:p},o.set(c,d)}}}function W0(e,t){xn.X(e,t);var i=kl;if(i&&e){var a=ul(i).hoistableScripts,o=ql(e),c=a.get(o);c||(c=i.querySelector(Xs(o)),c||(e=J({src:e,async:!0},t),(t=Wt.get(o))&&vc(e,t),c=i.createElement("script"),Je(c),ut(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(o,c))}}function P0(e,t){xn.M(e,t);var i=kl;if(i&&e){var a=ul(i).hoistableScripts,o=ql(e),c=a.get(o);c||(c=i.querySelector(Xs(o)),c||(e=J({src:e,async:!0,type:"module"},t),(t=Wt.get(o))&&vc(e,t),c=i.createElement("script"),Je(c),ut(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(o,c))}}function yg(e,t,i,a){var o=(o=Jt.current)?Nr(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=jl(i.href),i=ul(o).hoistableStyles,a=i.get(t),a||(a={type:"style",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=jl(i.href);var c=ul(o).hoistableStyles,d=c.get(e);if(d||(o=o.ownerDocument||o,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=o.querySelector(Qs(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Wt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Wt.set(e,i),c||J0(o,e,i,d.state))),t&&a===null)throw Error(r(528,""));return d}if(t&&a!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ql(i),i=ul(o).hoistableScripts,a=i.get(t),a||(a={type:"script",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function jl(e){return'href="'+jt(e)+'"'}function Qs(e){return'link[rel="stylesheet"]['+e+"]"}function vg(e){return J({},e,{"data-precedence":e.precedence,precedence:null})}function J0(e,t,i,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),ut(t,"link",i),Je(t),e.head.appendChild(t))}function ql(e){return'[src="'+jt(e)+'"]'}function Xs(e){return"script[async]"+e}function Sg(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+jt(i.href)+'"]');if(a)return t.instance=a,Je(a),a;var o=J({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Je(a),ut(a,"style",o),Dr(a,i.precedence,e),t.instance=a;case"stylesheet":o=jl(i.href);var c=e.querySelector(Qs(o));if(c)return t.state.loading|=4,t.instance=c,Je(c),c;a=vg(i),(o=Wt.get(o))&&yc(a,o),c=(e.ownerDocument||e).createElement("link"),Je(c);var d=c;return d._p=new Promise(function(p,y){d.onload=p,d.onerror=y}),ut(c,"link",a),t.state.loading|=4,Dr(c,i.precedence,e),t.instance=c;case"script":return c=ql(i.src),(o=e.querySelector(Xs(c)))?(t.instance=o,Je(o),o):(a=i,(o=Wt.get(c))&&(a=J({},i),vc(a,o)),e=e.ownerDocument||e,o=e.createElement("script"),Je(o),ut(o,"link",a),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Dr(a,i.precedence,e));return t.instance}function Dr(e,t,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=a.length?a[a.length-1]:null,c=o,d=0;d<a.length;d++){var p=a[d];if(p.dataset.precedence===t)c=p;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function yc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function vc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Or=null;function bg(e,t,i){if(Or===null){var a=new Map,o=Or=new Map;o.set(i,a)}else o=Or,a=o.get(i),a||(a=new Map,o.set(i,a));if(a.has(e))return a;for(a.set(e,null),i=i.getElementsByTagName(e),o=0;o<i.length;o++){var c=i[o];if(!(c[as]||c[dt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var d=c.getAttribute(t)||"";d=e+d;var p=a.get(d);p?p.push(c):a.set(d,[c])}}return a}function Eg(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function $0(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Tg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Fs=null;function eS(){}function tS(e,t,i){if(Fs===null)throw Error(r(475));var a=Fs;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=jl(i.href),c=e.querySelector(Qs(o));if(c){e=c._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=Mr.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=c,Je(c);return}c=e.ownerDocument||e,i=vg(i),(o=Wt.get(o))&&yc(i,o),c=c.createElement("link"),Je(c);var d=c;d._p=new Promise(function(p,y){d.onload=p,d.onerror=y}),ut(c,"link",i),t.instance=c}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=Mr.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function nS(){if(Fs===null)throw Error(r(475));var e=Fs;return e.stylesheets&&e.count===0&&Sc(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&Sc(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Mr(){if(this.count--,this.count===0){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xr=null;function Sc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xr=new Map,t.forEach(iS,e),xr=null,Mr.call(e))}function iS(e,t){if(!(t.state.loading&4)){var i=xr.get(e);if(i)var a=i.get(null);else{i=new Map,xr.set(e,i);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var d=o[c];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(i.set(d.dataset.precedence,d),a=d)}a&&i.set(null,a)}o=t.instance,d=o.getAttribute("data-precedence"),c=i.get(d)||a,c===a&&i.set(null,o),i.set(d,o),this.count++,a=Mr.bind(this),o.addEventListener("load",a),o.addEventListener("error",a),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ks={$$typeof:L,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function lS(e,t,i,a,o,c,d,p){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Eo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eo(0),this.hiddenUpdates=Eo(null),this.identifierPrefix=a,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=p,this.incompleteTransitions=new Map}function Cg(e,t,i,a,o,c,d,p,y,T,D,M){return e=new lS(e,t,i,d,p,y,T,M),t=1,c===!0&&(t|=24),c=Kt(3,null,null,t),e.current=c,c.stateNode=e,t=Jo(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:a,isDehydrated:i,cache:t},xu(c),e}function Ag(e){return e?(e=vl,e):vl}function wg(e,t,i,a,o,c){o=Ag(o),a.context===null?a.context=o:a.pendingContext=o,a=Wn(t),a.payload={element:i},c=c===void 0?null:c,c!==null&&(a.callback=c),i=Pn(e,a,t),i!==null&&(vt(i,e,t),Ms(i,e,t))}function Rg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function bc(e,t){Rg(e,t),(e=e.alternate)&&Rg(e,t)}function Ng(e){if(e.tag===13){var t=Yn(e,67108864);t!==null&&vt(t,e,67108864),bc(e,67108864)}}var Lr=!0;function sS(e,t,i,a){var o=Q.T;Q.T=null;var c=k.p;try{k.p=2,Ec(e,t,i,a)}finally{k.p=c,Q.T=o}}function aS(e,t,i,a){var o=Q.T;Q.T=null;var c=k.p;try{k.p=8,Ec(e,t,i,a)}finally{k.p=c,Q.T=o}}function Ec(e,t,i,a){if(Lr){var o=Tc(a);if(o===null)cc(e,t,a,zr,i),Og(e,a);else if(oS(o,e,t,i,a))a.stopPropagation();else if(Og(e,a),t&4&&-1<rS.indexOf(e)){for(;o!==null;){var c=ol(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var d=Si(c.pendingLanes);if(d!==0){var p=c;for(p.pendingLanes|=2,p.entangledLanes|=2;d;){var y=1<<31-at(d);p.entanglements[1]|=y,d&=~y}dn(c),(Be&6)===0&&(pr=xt()+500,Gs(0))}}break;case 13:p=Yn(c,2),p!==null&&vt(p,c,2),Sr(),bc(c,2)}if(c=Tc(a),c===null&&cc(e,t,a,zr,i),c===o)break;o=c}o!==null&&a.stopPropagation()}else cc(e,t,a,null,i)}}function Tc(e){return e=Do(e),Cc(e)}var zr=null;function Cc(e){if(zr=null,e=bi(e),e!==null){var t=F(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=ve(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return zr=e,null}function Dg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Da()){case Xe:return 2;case St:return 8;case Pe:case xe:return 32;case Le:return 268435456;default:return 32}default:return 32}}var Ac=!1,li=null,si=null,ai=null,Zs=new Map,Ws=new Map,ri=[],rS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Og(e,t){switch(e){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":ai=null;break;case"pointerover":case"pointerout":Zs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(t.pointerId)}}function Ps(e,t,i,a,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:c,targetContainers:[o]},t!==null&&(t=ol(t),t!==null&&Ng(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function oS(e,t,i,a,o){switch(t){case"focusin":return li=Ps(li,e,t,i,a,o),!0;case"dragenter":return si=Ps(si,e,t,i,a,o),!0;case"mouseover":return ai=Ps(ai,e,t,i,a,o),!0;case"pointerover":var c=o.pointerId;return Zs.set(c,Ps(Zs.get(c)||null,e,t,i,a,o)),!0;case"gotpointercapture":return c=o.pointerId,Ws.set(c,Ps(Ws.get(c)||null,e,t,i,a,o)),!0}return!1}function Mg(e){var t=bi(e.target);if(t!==null){var i=F(t);if(i!==null){if(t=i.tag,t===13){if(t=ve(i),t!==null){e.blockedOn=t,nv(e.priority,function(){if(i.tag===13){var a=It(),o=Yn(i,a);o!==null&&vt(o,i,a),bc(i,a)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Br(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Tc(e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);No=a,i.target.dispatchEvent(a),No=null}else return t=ol(i),t!==null&&Ng(t),e.blockedOn=i,!1;t.shift()}return!0}function xg(e,t,i){Br(e)&&i.delete(t)}function uS(){Ac=!1,li!==null&&Br(li)&&(li=null),si!==null&&Br(si)&&(si=null),ai!==null&&Br(ai)&&(ai=null),Zs.forEach(xg),Ws.forEach(xg)}function Ur(e,t){e.blockedOn===t&&(e.blockedOn=null,Ac||(Ac=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,uS)))}var Ir=null;function Lg(e){Ir!==e&&(Ir=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Ir===e&&(Ir=null);for(var t=0;t<e.length;t+=3){var i=e[t],a=e[t+1],o=e[t+2];if(typeof a!="function"){if(Cc(a||i)===null)continue;break}var c=ol(i);c!==null&&(e.splice(t,3),t-=3,mu(c,{pending:!0,data:o,method:i.method,action:a},a,o))}}))}function Js(e){function t(y){return Ur(y,e)}li!==null&&Ur(li,e),si!==null&&Ur(si,e),ai!==null&&Ur(ai,e),Zs.forEach(t),Ws.forEach(t);for(var i=0;i<ri.length;i++){var a=ri[i];a.blockedOn===e&&(a.blockedOn=null)}for(;0<ri.length&&(i=ri[0],i.blockedOn===null);)Mg(i),i.blockedOn===null&&ri.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var o=i[a],c=i[a+1],d=o[bt]||null;if(typeof c=="function")d||Lg(i);else if(d){var p=null;if(c&&c.hasAttribute("formAction")){if(o=c,d=c[bt]||null)p=d.formAction;else if(Cc(o)!==null)continue}else p=d.action;typeof p=="function"?i[a+1]=p:(i.splice(a,3),a-=3),Lg(i)}}}function wc(e){this._internalRoot=e}Hr.prototype.render=wc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,a=It();wg(i,a,e,t,null,null)},Hr.prototype.unmount=wc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e.tag===0&&Ul(),wg(e.current,2,null,e,null,null),Sr(),t[rl]=null}};function Hr(e){this._internalRoot=e}Hr.prototype.unstable_scheduleHydration=function(e){if(e){var t=rh();e={blockedOn:null,target:e,priority:t};for(var i=0;i<ri.length&&t!==0&&t<ri[i].priority;i++);ri.splice(i,0,e),i===0&&Mg(e)}};var zg=n.version;if(zg!=="19.0.0")throw Error(r(527,zg,"19.0.0"));k.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=z(t),e=e!==null?X(e):null,e=e===null?null:e.stateNode,e};var cS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,findFiberByHostInstance:bi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kr.isDisabled&&kr.supportsFiber)try{al=kr.inject(cS),ht=kr}catch{}}return ea.createRoot=function(e,t){if(!u(e))throw Error(r(299));var i=!1,a="",o=Pd,c=Jd,d=$d,p=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(p=t.unstable_transitionCallbacks)),t=Cg(e,1,!1,null,null,i,a,o,c,d,p,null),e[rl]=t.current,uc(e.nodeType===8?e.parentNode:e),new wc(t)},ea.hydrateRoot=function(e,t,i){if(!u(e))throw Error(r(299));var a=!1,o="",c=Pd,d=Jd,p=$d,y=null,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(y=i.unstable_transitionCallbacks),i.formState!==void 0&&(T=i.formState)),t=Cg(e,1,!0,t,i??null,a,o,c,d,p,y,T),t.context=Ag(null),i=t.current,a=It(),o=Wn(a),o.callback=null,Pn(i,o,a),t.current.lanes=a,ss(t,a),dn(t),e[rl]=t.current,uc(e),new Hr(t)},ea.version="19.0.0",ea}var Vg;function SS(){if(Vg)return Dc.exports;Vg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Dc.exports=vS(),Dc.exports}var bS=SS();const ES={left:{round1:[{id:1,teamA:"Utah",teamALogo:"./Utah_Utes_primary_logo.svg.png",teamB:"Butler",teamBLogo:"./Butler_Bulldogs_logo.svg.png",winner:null,nextMatch:9},{id:2,teamA:"George Washington",teamALogo:"./George_Washington_Athletics_logo.svg.png",teamB:"Boise St.",teamBLogo:"./Primary_Boise_State_Broncos_Athletics_Logo.svg.png",winner:null,nextMatch:9},{id:3,teamA:"Nebraska",teamALogo:"./Nebraska_Cornhuskers_logo.svg.png",teamB:"Arizona St.",teamBLogo:"./Arizona_State_Sun_Devils_logo.svg.png",winner:null,nextMatch:10},{id:4,teamA:"Georgetown",teamALogo:"./Georgetown_Hoyas_logo.svg.png",teamB:"Washington St.",teamBLogo:"./Washington_State_Cougars_logo.svg.png",winner:null,nextMatch:10}],round2:[{id:9,teamA:null,teamALogo:null,teamB:null,teamBLogo:null,winner:null,nextMatch:13},{id:10,teamA:null,teamALogo:null,teamB:null,teamBLogo:null,winner:null,nextMatch:13}],semifinals:[{id:13,teamA:null,teamALogo:null,teamB:null,teamBLogo:null,winner:null,nextMatch:15}]},right:{round1:[{id:5,teamA:"DePaul",teamALogo:"./DePaul_Blue_Demons_logo.svg.png",teamB:"Cincinnati",teamBLogo:"./Cincinnati_Bearcats_logo.svg.png",winner:null,nextMatch:11},{id:6,teamA:"Oregon St.",teamALogo:"./Oregon_State_Beavers_logo.svg.png",teamB:"UCF",teamBLogo:"./UCF_Knights_logo.svg.png",winner:null,nextMatch:11},{id:7,teamA:"Colorado",teamALogo:"./Colorado_Buffaloes_logo.svg.png",teamB:"Villanova",teamBLogo:"./Villanova_Wildcats_logo.svg.png",winner:null,nextMatch:12},{id:8,teamA:"Tulane",teamALogo:"./Tulane_Green_Wave_logo.svg.png",teamB:"USC",teamBLogo:"./USC_Trojans_logo.svg.png",winner:null,nextMatch:12}],round2:[{id:11,teamA:null,teamALogo:null,teamB:null,teamBLogo:null,winner:null,nextMatch:14},{id:12,teamA:null,teamALogo:null,teamB:null,teamBLogo:null,winner:null,nextMatch:14}],semifinals:[{id:14,teamA:null,teamALogo:null,teamB:null,teamBLogo:null,winner:null,nextMatch:15}]},finals:[{id:15,teamA:null,teamALogo:null,teamB:null,teamBLogo:null,winner:null}]},TS=()=>{};var Qg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B=function(l,n){if(!l)throw Pl(n)},Pl=function(l){return new Error("Firebase Database ("+K_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=function(l){const n=[];let s=0;for(let r=0;r<l.length;r++){let u=l.charCodeAt(r);u<128?n[s++]=u:u<2048?(n[s++]=u>>6|192,n[s++]=u&63|128):(u&64512)===55296&&r+1<l.length&&(l.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(l.charCodeAt(++r)&1023),n[s++]=u>>18|240,n[s++]=u>>12&63|128,n[s++]=u>>6&63|128,n[s++]=u&63|128):(n[s++]=u>>12|224,n[s++]=u>>6&63|128,n[s++]=u&63|128)}return n},CS=function(l){const n=[];let s=0,r=0;for(;s<l.length;){const u=l[s++];if(u<128)n[r++]=String.fromCharCode(u);else if(u>191&&u<224){const f=l[s++];n[r++]=String.fromCharCode((u&31)<<6|f&63)}else if(u>239&&u<365){const f=l[s++],h=l[s++],m=l[s++],_=((u&7)<<18|(f&63)<<12|(h&63)<<6|m&63)-65536;n[r++]=String.fromCharCode(55296+(_>>10)),n[r++]=String.fromCharCode(56320+(_&1023))}else{const f=l[s++],h=l[s++];n[r++]=String.fromCharCode((u&15)<<12|(f&63)<<6|h&63)}}return n.join("")},mf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(l,n){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<l.length;u+=3){const f=l[u],h=u+1<l.length,m=h?l[u+1]:0,_=u+2<l.length,g=_?l[u+2]:0,S=f>>2,E=(f&3)<<4|m>>4;let A=(m&15)<<2|g>>6,L=g&63;_||(L=64,h||(A=64)),r.push(s[S],s[E],s[A],s[L])}return r.join("")},encodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(l):this.encodeByteArray(Z_(l),n)},decodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(l):CS(this.decodeStringToByteArray(l,n))},decodeStringToByteArray(l,n){this.init_();const s=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<l.length;){const f=s[l.charAt(u++)],m=u<l.length?s[l.charAt(u)]:0;++u;const g=u<l.length?s[l.charAt(u)]:64;++u;const E=u<l.length?s[l.charAt(u)]:64;if(++u,f==null||m==null||g==null||E==null)throw new AS;const A=f<<2|m>>4;if(r.push(A),g!==64){const L=m<<4&240|g>>2;if(r.push(L),E!==64){const H=g<<6&192|E;r.push(H)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class AS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W_=function(l){const n=Z_(l);return mf.encodeByteArray(n,!0)},Yr=function(l){return W_(l).replace(/\./g,"")},Fc=function(l){try{return mf.decodeString(l,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(l){return P_(void 0,l)}function P_(l,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const s=n;return new Date(s.getTime());case Object:l===void 0&&(l={});break;case Array:l=[];break;default:return n}for(const s in n)!n.hasOwnProperty(s)||!RS(s)||(l[s]=P_(l[s],n[s]));return l}function RS(l){return l!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=()=>NS().__FIREBASE_DEFAULTS__,OS=()=>{if(typeof process>"u"||typeof Qg>"u")return;const l=Qg.__FIREBASE_DEFAULTS__;if(l)return JSON.parse(l)},MS=()=>{if(typeof document>"u")return;let l;try{l=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=l&&Fc(l[1]);return n&&JSON.parse(n)},J_=()=>{try{return TS()||DS()||OS()||MS()}catch(l){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${l}`);return}},xS=l=>{var n,s;return(s=(n=J_())===null||n===void 0?void 0:n.emulatorHosts)===null||s===void 0?void 0:s[l]},LS=l=>{const n=xS(l);if(!n)return;const s=n.lastIndexOf(":");if(s<=0||s+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(s+1),10);return n[0]==="["?[n.substring(1,s-1),r]:[n.substring(0,s),r]},$_=()=>{var l;return(l=J_())===null||l===void 0?void 0:l.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,s)=>{this.resolve=n,this.reject=s})}wrapCallback(n){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(s):n(s,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(l,n){if(l.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=n||"demo-project",u=l.iat||0,f=l.sub||l.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},l);return[Yr(JSON.stringify(s)),Yr(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ep(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(BS())}function US(){const l=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof l=="object"&&l.id!==void 0}function IS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HS(){return K_.NODE_ADMIN===!0}function tp(){try{return typeof indexedDB=="object"}catch{return!1}}function np(){return new Promise((l,n)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),s||self.indexedDB.deleteDatabase(r),l(!0)},u.onupgradeneeded=()=>{s=!1},u.onerror=()=>{var f;n(((f=u.error)===null||f===void 0?void 0:f.message)||"")}}catch(s){n(s)}})}function kS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="FirebaseError";class el extends Error{constructor(n,s,r){super(s),this.code=n,this.customData=r,this.name=jS,Object.setPrototypeOf(this,el.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oo.prototype.create)}}class oo{constructor(n,s,r){this.service=n,this.serviceName=s,this.errors=r}create(n,...s){const r=s[0]||{},u=`${this.service}/${n}`,f=this.errors[n],h=f?qS(f,r):"Error",m=`${this.serviceName}: ${h} (${u}).`;return new el(u,m,r)}}function qS(l,n){return l.replace(GS,(s,r)=>{const u=n[r];return u!=null?String(u):`<${r}?>`})}const GS=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(l){return JSON.parse(l)}function lt(l){return JSON.stringify(l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip=function(l){let n={},s={},r={},u="";try{const f=l.split(".");n=fa(Fc(f[0])||""),s=fa(Fc(f[1])||""),u=f[2],r=s.d||{},delete s.d}catch{}return{header:n,claims:s,data:r,signature:u}},YS=function(l){const n=ip(l),s=n.claims;return!!s&&typeof s=="object"&&s.hasOwnProperty("iat")},VS=function(l){const n=ip(l).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(l,n){return Object.prototype.hasOwnProperty.call(l,n)}function Fl(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]}function Xg(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}function Vr(l,n,s){const r={};for(const u in l)Object.prototype.hasOwnProperty.call(l,u)&&(r[u]=n.call(s,l[u],u,l));return r}function ha(l,n){if(l===n)return!0;const s=Object.keys(l),r=Object.keys(n);for(const u of s){if(!r.includes(u))return!1;const f=l[u],h=n[u];if(Fg(f)&&Fg(h)){if(!ha(f,h))return!1}else if(f!==h)return!1}for(const u of r)if(!s.includes(u))return!1;return!0}function Fg(l){return l!==null&&typeof l=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(l){const n=[];for(const[s,r]of Object.entries(l))Array.isArray(r)?r.forEach(u=>{n.push(encodeURIComponent(s)+"="+encodeURIComponent(u))}):n.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,s){s||(s=0);const r=this.W_;if(typeof n=="string")for(let E=0;E<16;E++)r[E]=n.charCodeAt(s)<<24|n.charCodeAt(s+1)<<16|n.charCodeAt(s+2)<<8|n.charCodeAt(s+3),s+=4;else for(let E=0;E<16;E++)r[E]=n[s]<<24|n[s+1]<<16|n[s+2]<<8|n[s+3],s+=4;for(let E=16;E<80;E++){const A=r[E-3]^r[E-8]^r[E-14]^r[E-16];r[E]=(A<<1|A>>>31)&4294967295}let u=this.chain_[0],f=this.chain_[1],h=this.chain_[2],m=this.chain_[3],_=this.chain_[4],g,S;for(let E=0;E<80;E++){E<40?E<20?(g=m^f&(h^m),S=1518500249):(g=f^h^m,S=1859775393):E<60?(g=f&h|m&(f|h),S=2400959708):(g=f^h^m,S=3395469782);const A=(u<<5|u>>>27)+g+_+S+r[E]&4294967295;_=m,m=h,h=(f<<30|f>>>2)&4294967295,f=u,u=A}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+_&4294967295}update(n,s){if(n==null)return;s===void 0&&(s=n.length);const r=s-this.blockSize;let u=0;const f=this.buf_;let h=this.inbuf_;for(;u<s;){if(h===0)for(;u<=r;)this.compress_(n,u),u+=this.blockSize;if(typeof n=="string"){for(;u<s;)if(f[h]=n.charCodeAt(u),++h,++u,h===this.blockSize){this.compress_(f),h=0;break}}else for(;u<s;)if(f[h]=n[u],++h,++u,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=s}digest(){const n=[];let s=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let u=this.blockSize-1;u>=56;u--)this.buf_[u]=s&255,s/=256;this.compress_(this.buf_);let r=0;for(let u=0;u<5;u++)for(let f=24;f>=0;f-=8)n[r]=this.chain_[u]>>f&255,++r;return n}}function gf(l,n){return`${l} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=function(l){const n=[];let s=0;for(let r=0;r<l.length;r++){let u=l.charCodeAt(r);if(u>=55296&&u<=56319){const f=u-55296;r++,B(r<l.length,"Surrogate pair missing trail surrogate.");const h=l.charCodeAt(r)-56320;u=65536+(f<<10)+h}u<128?n[s++]=u:u<2048?(n[s++]=u>>6|192,n[s++]=u&63|128):u<65536?(n[s++]=u>>12|224,n[s++]=u>>6&63|128,n[s++]=u&63|128):(n[s++]=u>>18|240,n[s++]=u>>12&63|128,n[s++]=u>>6&63|128,n[s++]=u&63|128)}return n},uo=function(l){let n=0;for(let s=0;s<l.length;s++){const r=l.charCodeAt(s);r<128?n++:r<2048?n+=2:r>=55296&&r<=56319?(n+=4,s++):n+=3}return n};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=1e3,ZS=2,WS=4*60*60*1e3,PS=.5;function Kg(l,n=KS,s=ZS){const r=n*Math.pow(s,l),u=Math.round(PS*r*(Math.random()-.5)*2);return Math.min(WS,r+u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(l){return l&&l._delegate?l._delegate:l}class Bn{constructor(n,s,r){this.name=n,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(n,s){this.name=n,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const s=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(s)){const r=new ro;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:s});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(n){var s;const r=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),u=(s=n==null?void 0:n.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(f){if(u)return null;throw f}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(eb(n))try{this.getOrInitializeService({instanceIdentifier:Yi})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);try{const f=this.getOrInitializeService({instanceIdentifier:u});r.resolve(f)}catch{}}}}clearInstance(n=Yi){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...n.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Yi){return this.instances.has(n)}getOptions(n=Yi){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:s={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[f,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(f);r===m&&h.resolve(u)}return u}onInit(n,s){var r;const u=this.normalizeInstanceIdentifier(s),f=(r=this.onInitCallbacks.get(u))!==null&&r!==void 0?r:new Set;f.add(n),this.onInitCallbacks.set(u,f);const h=this.instances.get(u);return h&&n(h,u),()=>{f.delete(n)}}invokeOnInitCallbacks(n,s){const r=this.onInitCallbacks.get(s);if(r)for(const u of r)try{u(n,s)}catch{}}getOrInitializeService({instanceIdentifier:n,options:s={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$S(n),options:s}),this.instances.set(n,r),this.instancesOptions.set(n,s),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=Yi){return this.component?this.component.multipleInstances?n:Yi:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $S(l){return l===Yi?void 0:l}function eb(l){return l.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const s=this.getProvider(n.name);if(s.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);s.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const s=new JS(n,this);return this.providers.set(n,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(l){l[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT"})(Ne||(Ne={}));const nb={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},ib=Ne.INFO,lb={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},sb=(l,n,...s)=>{if(n<l.logLevel)return;const r=new Date().toISOString(),u=lb[n];if(u)console[u](`[${r}]  ${l.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class _f{constructor(n){this.name=n,this._logLevel=ib,this._logHandler=sb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Ne))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?nb[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...n),this._logHandler(this,Ne.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...n),this._logHandler(this,Ne.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...n),this._logHandler(this,Ne.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...n),this._logHandler(this,Ne.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...n),this._logHandler(this,Ne.ERROR,...n)}}const ab=(l,n)=>n.some(s=>l instanceof s);let Zg,Wg;function rb(){return Zg||(Zg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ob(){return Wg||(Wg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lp=new WeakMap,Kc=new WeakMap,sp=new WeakMap,Lc=new WeakMap,pf=new WeakMap;function ub(l){const n=new Promise((s,r)=>{const u=()=>{l.removeEventListener("success",f),l.removeEventListener("error",h)},f=()=>{s(ui(l.result)),u()},h=()=>{r(l.error),u()};l.addEventListener("success",f),l.addEventListener("error",h)});return n.then(s=>{s instanceof IDBCursor&&lp.set(s,l)}).catch(()=>{}),pf.set(n,l),n}function cb(l){if(Kc.has(l))return;const n=new Promise((s,r)=>{const u=()=>{l.removeEventListener("complete",f),l.removeEventListener("error",h),l.removeEventListener("abort",h)},f=()=>{s(),u()},h=()=>{r(l.error||new DOMException("AbortError","AbortError")),u()};l.addEventListener("complete",f),l.addEventListener("error",h),l.addEventListener("abort",h)});Kc.set(l,n)}let Zc={get(l,n,s){if(l instanceof IDBTransaction){if(n==="done")return Kc.get(l);if(n==="objectStoreNames")return l.objectStoreNames||sp.get(l);if(n==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return ui(l[n])},set(l,n,s){return l[n]=s,!0},has(l,n){return l instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in l}};function fb(l){Zc=l(Zc)}function hb(l){return l===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...s){const r=l.call(zc(this),n,...s);return sp.set(r,n.sort?n.sort():[n]),ui(r)}:ob().includes(l)?function(...n){return l.apply(zc(this),n),ui(lp.get(this))}:function(...n){return ui(l.apply(zc(this),n))}}function db(l){return typeof l=="function"?hb(l):(l instanceof IDBTransaction&&cb(l),ab(l,rb())?new Proxy(l,Zc):l)}function ui(l){if(l instanceof IDBRequest)return ub(l);if(Lc.has(l))return Lc.get(l);const n=db(l);return n!==l&&(Lc.set(l,n),pf.set(n,l)),n}const zc=l=>pf.get(l);function ap(l,n,{blocked:s,upgrade:r,blocking:u,terminated:f}={}){const h=indexedDB.open(l,n),m=ui(h);return r&&h.addEventListener("upgradeneeded",_=>{r(ui(h.result),_.oldVersion,_.newVersion,ui(h.transaction),_)}),s&&h.addEventListener("blocked",_=>s(_.oldVersion,_.newVersion,_)),m.then(_=>{f&&_.addEventListener("close",()=>f()),u&&_.addEventListener("versionchange",g=>u(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const mb=["get","getKey","getAll","getAllKeys","count"],gb=["put","add","delete","clear"],Bc=new Map;function Pg(l,n){if(!(l instanceof IDBDatabase&&!(n in l)&&typeof n=="string"))return;if(Bc.get(n))return Bc.get(n);const s=n.replace(/FromIndex$/,""),r=n!==s,u=gb.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(u||mb.includes(s)))return;const f=async function(h,...m){const _=this.transaction(h,u?"readwrite":"readonly");let g=_.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[s](...m),u&&_.done]))[0]};return Bc.set(n,f),f}fb(l=>({...l,get:(n,s,r)=>Pg(n,s)||l.get(n,s,r),has:(n,s)=>!!Pg(n,s)||l.has(n,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(pb(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function pb(l){const n=l.getComponent();return(n==null?void 0:n.type)==="VERSION"}const Wc="@firebase/app",Jg="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un=new _f("@firebase/app"),yb="@firebase/app-compat",vb="@firebase/analytics-compat",Sb="@firebase/analytics",bb="@firebase/app-check-compat",Eb="@firebase/app-check",Tb="@firebase/auth",Cb="@firebase/auth-compat",Ab="@firebase/database",wb="@firebase/data-connect",Rb="@firebase/database-compat",Nb="@firebase/functions",Db="@firebase/functions-compat",Ob="@firebase/installations",Mb="@firebase/installations-compat",xb="@firebase/messaging",Lb="@firebase/messaging-compat",zb="@firebase/performance",Bb="@firebase/performance-compat",Ub="@firebase/remote-config",Ib="@firebase/remote-config-compat",Hb="@firebase/storage",kb="@firebase/storage-compat",jb="@firebase/firestore",qb="@firebase/vertexai",Gb="@firebase/firestore-compat",Yb="firebase",Vb="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc="[DEFAULT]",Qb={[Wc]:"fire-core",[yb]:"fire-core-compat",[Sb]:"fire-analytics",[vb]:"fire-analytics-compat",[Eb]:"fire-app-check",[bb]:"fire-app-check-compat",[Tb]:"fire-auth",[Cb]:"fire-auth-compat",[Ab]:"fire-rtdb",[wb]:"fire-data-connect",[Rb]:"fire-rtdb-compat",[Nb]:"fire-fn",[Db]:"fire-fn-compat",[Ob]:"fire-iid",[Mb]:"fire-iid-compat",[xb]:"fire-fcm",[Lb]:"fire-fcm-compat",[zb]:"fire-perf",[Bb]:"fire-perf-compat",[Ub]:"fire-rc",[Ib]:"fire-rc-compat",[Hb]:"fire-gcs",[kb]:"fire-gcs-compat",[jb]:"fire-fst",[Gb]:"fire-fst-compat",[qb]:"fire-vertex","fire-js":"fire-js",[Yb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new Map,Xb=new Map,Jc=new Map;function $g(l,n){try{l.container.addComponent(n)}catch(s){Un.debug(`Component ${n.name} failed to register with FirebaseApp ${l.name}`,s)}}function hi(l){const n=l.name;if(Jc.has(n))return Un.debug(`There were multiple attempts to register component ${n}.`),!1;Jc.set(n,l);for(const s of Qr.values())$g(s,l);for(const s of Xb.values())$g(s,l);return!0}function ba(l,n){const s=l.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),l.container.getProvider(n)}function Fb(l){return l==null?!1:l.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ci=new oo("app","Firebase",Kb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(n,s,r){this._isDeleted=!1,this._options=Object.assign({},n),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=Vb;function rp(l,n={}){let s=l;typeof n!="object"&&(n={name:n});const r=Object.assign({name:Pc,automaticDataCollectionEnabled:!1},n),u=r.name;if(typeof u!="string"||!u)throw ci.create("bad-app-name",{appName:String(u)});if(s||(s=$_()),!s)throw ci.create("no-options");const f=Qr.get(u);if(f){if(ha(s,f.options)&&ha(r,f.config))return f;throw ci.create("duplicate-app",{appName:u})}const h=new tb(u);for(const _ of Jc.values())h.addComponent(_);const m=new Zb(s,r,h);return Qr.set(u,m),m}function op(l=Pc){const n=Qr.get(l);if(!n&&l===Pc&&$_())return rp();if(!n)throw ci.create("no-app",{appName:l});return n}function mn(l,n,s){var r;let u=(r=Qb[l])!==null&&r!==void 0?r:l;s&&(u+=`-${s}`);const f=u.match(/\s|\//),h=n.match(/\s|\//);if(f||h){const m=[`Unable to register library "${u}" with version "${n}":`];f&&m.push(`library name "${u}" contains illegal characters (whitespace or "/")`),f&&h&&m.push("and"),h&&m.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Un.warn(m.join(" "));return}hi(new Bn(`${u}-version`,()=>({library:u,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="firebase-heartbeat-database",Jb=1,da="firebase-heartbeat-store";let Uc=null;function up(){return Uc||(Uc=ap(Pb,Jb,{upgrade:(l,n)=>{switch(n){case 0:try{l.createObjectStore(da)}catch(s){console.warn(s)}}}}).catch(l=>{throw ci.create("idb-open",{originalErrorMessage:l.message})})),Uc}async function $b(l){try{const s=(await up()).transaction(da),r=await s.objectStore(da).get(cp(l));return await s.done,r}catch(n){if(n instanceof el)Un.warn(n.message);else{const s=ci.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});Un.warn(s.message)}}}async function e_(l,n){try{const r=(await up()).transaction(da,"readwrite");await r.objectStore(da).put(n,cp(l)),await r.done}catch(s){if(s instanceof el)Un.warn(s.message);else{const r=ci.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});Un.warn(r.message)}}}function cp(l){return`${l.name}!${l.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=1024,tE=30;class nE{constructor(n){this.container=n,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new lE(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var n,s;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=t_();if(((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(h=>h.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:u}),this._heartbeatsCache.heartbeats.length>tE){const h=sE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Un.warn(r)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=t_(),{heartbeatsToSend:r,unsentEntries:u}=iE(this._heartbeatsCache.heartbeats),f=Yr(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=s,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(s){return Un.warn(s),""}}}function t_(){return new Date().toISOString().substring(0,10)}function iE(l,n=eE){const s=[];let r=l.slice();for(const u of l){const f=s.find(h=>h.agent===u.agent);if(f){if(f.dates.push(u.date),n_(s)>n){f.dates.pop();break}}else if(s.push({agent:u.agent,dates:[u.date]}),n_(s)>n){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class lE{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tp()?np().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await $b(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){var s;if(await this._canUseIndexedDBPromise){const u=await this.read();return e_(this.app,{lastSentHeartbeatDate:(s=n.lastSentHeartbeatDate)!==null&&s!==void 0?s:u.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){var s;if(await this._canUseIndexedDBPromise){const u=await this.read();return e_(this.app,{lastSentHeartbeatDate:(s=n.lastSentHeartbeatDate)!==null&&s!==void 0?s:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...n.heartbeats]})}else return}}function n_(l){return Yr(JSON.stringify({version:2,heartbeats:l})).length}function sE(l){if(l.length===0)return-1;let n=0,s=l[0].date;for(let r=1;r<l.length;r++)l[r].date<s&&(s=l[r].date,n=r);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(l){hi(new Bn("platform-logger",n=>new _b(n),"PRIVATE")),hi(new Bn("heartbeat",n=>new nE(n),"PRIVATE")),mn(Wc,Jg,l),mn(Wc,Jg,"esm2017"),mn("fire-js","")}aE("");var rE="firebase",oE="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn(rE,oE,"app");var i_={};const l_="@firebase/database",s_="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fp="";function uE(l){fp=l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,s){s==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),lt(s))}get(n){const s=this.domStorage_.getItem(this.prefixedName_(n));return s==null?null:fa(s)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,s){s==null?delete this.cache_[n]:this.cache_[n]=s}get(n){return kn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=function(l){try{if(typeof window<"u"&&typeof window[l]<"u"){const n=window[l];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new cE(n)}}catch{}return new fE},Qi=hp("localStorage"),hE=hp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=new _f("@firebase/database"),dE=function(){let l=1;return function(){return l++}}(),dp=function(l){const n=FS(l),s=new XS;s.update(n);const r=s.digest();return mf.encodeByteArray(r)},Ea=function(...l){let n="";for(let s=0;s<l.length;s++){const r=l[s];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=Ea.apply(null,r):typeof r=="object"?n+=lt(r):n+=r,n+=" "}return n};let sa=null,a_=!0;const mE=function(l,n){B(!0,"Can't turn on custom loggers persistently."),Vl.logLevel=Ne.VERBOSE,sa=Vl.log.bind(Vl)},_t=function(...l){if(a_===!0&&(a_=!1,sa===null&&hE.get("logging_enabled")===!0&&mE()),sa){const n=Ea.apply(null,l);sa(n)}},Ta=function(l){return function(...n){_t(l,...n)}},$c=function(...l){const n="FIREBASE INTERNAL ERROR: "+Ea(...l);Vl.error(n)},In=function(...l){const n=`FIREBASE FATAL ERROR: ${Ea(...l)}`;throw Vl.error(n),new Error(n)},wt=function(...l){const n="FIREBASE WARNING: "+Ea(...l);Vl.warn(n)},gE=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},mp=function(l){return typeof l=="number"&&(l!==l||l===Number.POSITIVE_INFINITY||l===Number.NEGATIVE_INFINITY)},_E=function(l){if(document.readyState==="complete")l();else{let n=!1;const s=function(){if(!document.body){setTimeout(s,Math.floor(10));return}n||(n=!0,l())};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&s()}),window.attachEvent("onload",s))}},Kl="[MIN_NAME]",Ki="[MAX_NAME]",Jl=function(l,n){if(l===n)return 0;if(l===Kl||n===Ki)return-1;if(n===Kl||l===Ki)return 1;{const s=r_(l),r=r_(n);return s!==null?r!==null?s-r===0?l.length-n.length:s-r:-1:r!==null?1:l<n?-1:1}},pE=function(l,n){return l===n?0:l<n?-1:1},ta=function(l,n){if(n&&l in n)return n[l];throw new Error("Missing required key ("+l+") in object: "+lt(n))},yf=function(l){if(typeof l!="object"||l===null)return lt(l);const n=[];for(const r in l)n.push(r);n.sort();let s="{";for(let r=0;r<n.length;r++)r!==0&&(s+=","),s+=lt(n[r]),s+=":",s+=yf(l[n[r]]);return s+="}",s},gp=function(l,n){const s=l.length;if(s<=n)return[l];const r=[];for(let u=0;u<s;u+=n)u+n>s?r.push(l.substring(u,s)):r.push(l.substring(u,u+n));return r};function Nt(l,n){for(const s in l)l.hasOwnProperty(s)&&n(s,l[s])}const _p=function(l){B(!mp(l),"Invalid JSON number");const n=11,s=52,r=(1<<n-1)-1;let u,f,h,m,_;l===0?(f=0,h=0,u=1/l===-1/0?1:0):(u=l<0,l=Math.abs(l),l>=Math.pow(2,1-r)?(m=Math.min(Math.floor(Math.log(l)/Math.LN2),r),f=m+r,h=Math.round(l*Math.pow(2,s-m)-Math.pow(2,s))):(f=0,h=Math.round(l/Math.pow(2,1-r-s))));const g=[];for(_=s;_;_-=1)g.push(h%2?1:0),h=Math.floor(h/2);for(_=n;_;_-=1)g.push(f%2?1:0),f=Math.floor(f/2);g.push(u?1:0),g.reverse();const S=g.join("");let E="";for(_=0;_<64;_+=8){let A=parseInt(S.substr(_,8),2).toString(16);A.length===1&&(A="0"+A),E=E+A}return E.toLowerCase()},yE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},vE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function SE(l,n){let s="Unknown Error";l==="too_big"?s="The data requested exceeds the maximum size that can be accessed with a single request.":l==="permission_denied"?s="Client doesn't have permission to access the desired data.":l==="unavailable"&&(s="The service is unavailable");const r=new Error(l+" at "+n._path.toString()+": "+s);return r.code=l.toUpperCase(),r}const bE=new RegExp("^-?(0*)\\d{1,10}$"),EE=-2147483648,TE=2147483647,r_=function(l){if(bE.test(l)){const n=Number(l);if(n>=EE&&n<=TE)return n}return null},$l=function(l){try{l()}catch(n){setTimeout(()=>{const s=n.stack||"";throw wt("Exception was thrown by user callback.",s),n},Math.floor(0))}},CE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},aa=function(l,n){const s=setTimeout(l,n);return typeof s=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):typeof s=="object"&&s.unref&&s.unref(),s};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(n,s){this.appCheckProvider=s,this.appName=n.name,Fb(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=s==null?void 0:s.getImmediate({optional:!0}),this.appCheck||s==null||s.get().then(r=>this.appCheck=r)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((s,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(s,r):s(null)},0)})}addTokenChangeListener(n){var s;(s=this.appCheckProvider)===null||s===void 0||s.get().then(r=>r.addTokenListener(n))}notifyForInvalidToken(){wt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(n,s,r){this.appName_=n,this.firebaseOptions_=s,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(u=>this.auth_=u)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(s=>s&&s.code==="auth/token-not-initialized"?(_t("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(s,r):s(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(s=>s.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(s=>s.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wt(n)}}class Gr{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Gr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="5",pp="v",yp="s",vp="r",Sp="f",bp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ep="ls",Tp="p",ef="ac",Cp="websocket",Ap="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(n,s,r,u,f=!1,h="",m=!1,_=!1,g=null){this.secure=s,this.namespace=r,this.webSocketOnly=u,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=_,this.emulatorOptions=g,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qi.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Qi.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",s=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${s}`}}function RE(l){return l.host!==l.internalHost||l.isCustomHost()||l.includeNamespaceInQueryParams}function Rp(l,n,s){B(typeof n=="string","typeof type must == string"),B(typeof s=="object","typeof params must == object");let r;if(n===Cp)r=(l.secure?"wss://":"ws://")+l.internalHost+"/.ws?";else if(n===Ap)r=(l.secure?"https://":"http://")+l.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);RE(l)&&(s.ns=l.namespace);const u=[];return Nt(s,(f,h)=>{u.push(f+"="+h)}),r+u.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(){this.counters_={}}incrementCounter(n,s=1){kn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=s}get(){return wS(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic={},Hc={};function Sf(l){const n=l.toString();return Ic[n]||(Ic[n]=new NE),Ic[n]}function DE(l,n){const s=l.toString();return Hc[s]||(Hc[s]=n()),Hc[s]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,s){this.closeAfterResponse=n,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,s){for(this.pendingResponses[n]=s;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<r.length;++u)r[u]&&$l(()=>{this.onMessage_(r[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="start",ME="close",xE="pLPCommand",LE="pRTLPCB",Np="id",Dp="pw",Op="ser",zE="cb",BE="seg",UE="ts",IE="d",HE="dframe",Mp=1870,xp=30,kE=Mp-xp,jE=25e3,qE=3e4;class Yl{constructor(n,s,r,u,f,h,m){this.connId=n,this.repoInfo=s,this.applicationId=r,this.appCheckToken=u,this.authToken=f,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ta(n),this.stats_=Sf(s),this.urlFn=_=>(this.appCheckToken&&(_[ef]=this.appCheckToken),Rp(s,Ap,_))}open(n,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new OE(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(qE)),_E(()=>{if(this.isClosed_)return;this.scriptTagHolder=new bf((...f)=>{const[h,m,_,g,S]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===o_)this.id=m,this.password=_;else if(h===ME)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,m]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const r={};r[o_]="t",r[Op]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[zE]=this.scriptTagHolder.uniqueCallbackIdentifier),r[pp]=vf,this.transportSessionId&&(r[yp]=this.transportSessionId),this.lastSessionId&&(r[Ep]=this.lastSessionId),this.applicationId&&(r[Tp]=this.applicationId),this.appCheckToken&&(r[ef]=this.appCheckToken),typeof location<"u"&&location.hostname&&bp.test(location.hostname)&&(r[vp]=Sp);const u=this.urlFn(r);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Yl.forceAllow_=!0}static forceDisallow(){Yl.forceDisallow_=!0}static isAvailable(){return Yl.forceAllow_?!0:!Yl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!yE()&&!vE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const s=lt(n);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=W_(s),u=gp(r,kE);for(let f=0;f<u.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[f]),this.curSegmentNum++}addDisconnectPingFrame(n,s){this.myDisconnFrame=document.createElement("iframe");const r={};r[HE]="t",r[Np]=n,r[Dp]=s,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const s=lt(n).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class bf{constructor(n,s,r,u){this.onDisconnect=r,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=dE(),window[xE+this.uniqueCallbackIdentifier]=n,window[LE+this.uniqueCallbackIdentifier]=s,this.myIFrame=bf.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){_t("frame writing exception"),m.stack&&_t(m.stack),_t(m)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||_t("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,s){for(this.myID=n,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[Np]=this.myID,n[Dp]=this.myPW,n[Op]=this.currentSerial;let s=this.urlFn(n),r="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+xp+r.length<=Mp;){const h=this.pendingSegs.shift();r=r+"&"+BE+u+"="+h.seg+"&"+UE+u+"="+h.ts+"&"+IE+u+"="+h.d,u++}return s=s+r,this.addLongPollTag_(s,this.currentSerial),!0}else return!1}enqueueSegment(n,s,r){this.pendingSegs.push({seg:n,ts:s,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,s){this.outstandingRequests.add(s);const r=()=>{this.outstandingRequests.delete(s),this.newRequest_()},u=setTimeout(r,Math.floor(jE)),f=()=>{clearTimeout(u),r()};this.addTag(n,f)}addTag(n,s){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const u=r.readyState;(!u||u==="loaded"||u==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),s())},r.onerror=()=>{_t("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=16384,YE=45e3;let Xr=null;typeof MozWebSocket<"u"?Xr=MozWebSocket:typeof WebSocket<"u"&&(Xr=WebSocket);class ln{constructor(n,s,r,u,f,h,m){this.connId=n,this.applicationId=r,this.appCheckToken=u,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ta(this.connId),this.stats_=Sf(s),this.connURL=ln.connectionURL_(s,h,m,u,r),this.nodeAdmin=s.nodeAdmin}static connectionURL_(n,s,r,u,f){const h={};return h[pp]=vf,typeof location<"u"&&location.hostname&&bp.test(location.hostname)&&(h[vp]=Sp),s&&(h[yp]=s),r&&(h[Ep]=r),u&&(h[ef]=u),f&&(h[Tp]=f),Rp(n,Cp,h)}open(n,s){this.onDisconnect=s,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qi.set("previous_websocket_failure",!0);try{let r;HS(),this.mySock=new Xr(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const u=r.message||r.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const u=r.message||r.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){ln.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(s);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&Xr!==null&&!ln.forceDisallow_}static previouslyFailed(){return Qi.isInMemoryStorage||Qi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Qi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const r=fa(s);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(B(this.frames===null,"We already have a frame buffer"),n.length<=6){const s=Number(n);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const s=n.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(s);else{const r=this.extractFrameCount_(s);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const s=lt(n);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=gp(s,GE);r.length>1&&this.sendString_(String(r.length));for(let u=0;u<r.length;u++)this.sendString_(r[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(YE))}sendString_(n){try{this.mySock.send(n)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ln.responsesRequiredToBeHealthy=2;ln.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{static get ALL_TRANSPORTS(){return[Yl,ln]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const s=ln&&ln.isAvailable();let r=s&&!ln.previouslyFailed();if(n.webSocketOnly&&(s||wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ln];else{const u=this.transports_=[];for(const f of ma.ALL_TRANSPORTS)f&&f.isAvailable()&&u.push(f);ma.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ma.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=6e4,QE=5e3,XE=10*1024,FE=100*1024,kc="t",u_="d",KE="s",c_="r",ZE="e",f_="o",h_="a",d_="n",m_="p",WE="h";class PE{constructor(n,s,r,u,f,h,m,_,g,S){this.id=n,this.repoInfo_=s,this.applicationId_=r,this.appCheckToken_=u,this.authToken_=f,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=_,this.onKill_=g,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ta("c:"+this.id+":"),this.transportManager_=new ma(s),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,r)},Math.floor(0));const u=n.healthyTimeout||0;u>0&&(this.healthyTimeout_=aa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>FE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>XE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return s=>{n===this.conn_?this.onConnectionLost_(s):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return s=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(s):n===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(n){const s={t:"d",d:n};this.sendData_(s)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(kc in n){const s=n[kc];s===h_?this.upgradeIfSecondaryHealthy_():s===c_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):s===f_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const s=ta("t",n),r=ta("d",n);if(s==="c")this.onSecondaryControl_(r);else if(s==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+s)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:m_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:h_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:d_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const s=ta("t",n),r=ta("d",n);s==="c"?this.onControl_(r):s==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const s=ta(kc,n);if(u_ in n){const r=n[u_];if(s===WE){const u=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if(s===d_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else s===KE?this.onConnectionShutdown_(r):s===c_?this.onReset_(r):s===ZE?$c("Server Error: "+r):s===f_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$c("Unknown control packet command: "+s)}}onHandshake_(n){const s=n.ts,r=n.v,u=n.h;this.sessionId=n.s,this.repoInfo_.host=u,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),vf!==r&&wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,r),aa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(VE))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,s){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):aa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(QE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:m_,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{put(n,s,r,u){}merge(n,s,r,u){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,s,r){}onDisconnectMerge(n,s,r){}onDisconnectCancel(n,s){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(n){this.allowedEvents_=n,this.listeners_={},B(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...s){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let u=0;u<r.length;u++)r[u].callback.apply(r[u].context,s)}}on(n,s,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:s,context:r});const u=this.getInitialEvent(n);u&&s.apply(r,u)}off(n,s,r){this.validateEventType_(n);const u=this.listeners_[n]||[];for(let f=0;f<u.length;f++)if(u[f].callback===s&&(!r||r===u[f].context)){u.splice(f,1);return}}validateEventType_(n){B(this.allowedEvents_.find(s=>s===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends zp{static getInstance(){return new Fr}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ep()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return B(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=32,__=768;class Ae{constructor(n,s){if(s===void 0){this.pieces_=n.split("/");let r=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[r]=this.pieces_[u],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=s}toString(){let n="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)this.pieces_[s]!==""&&(n+="/"+this.pieces_[s]);return n||"/"}}function ye(){return new Ae("")}function ae(l){return l.pieceNum_>=l.pieces_.length?null:l.pieces_[l.pieceNum_]}function di(l){return l.pieces_.length-l.pieceNum_}function De(l){let n=l.pieceNum_;return n<l.pieces_.length&&n++,new Ae(l.pieces_,n)}function Bp(l){return l.pieceNum_<l.pieces_.length?l.pieces_[l.pieces_.length-1]:null}function JE(l){let n="";for(let s=l.pieceNum_;s<l.pieces_.length;s++)l.pieces_[s]!==""&&(n+="/"+encodeURIComponent(String(l.pieces_[s])));return n||"/"}function Up(l,n=0){return l.pieces_.slice(l.pieceNum_+n)}function Ip(l){if(l.pieceNum_>=l.pieces_.length)return null;const n=[];for(let s=l.pieceNum_;s<l.pieces_.length-1;s++)n.push(l.pieces_[s]);return new Ae(n,0)}function Ze(l,n){const s=[];for(let r=l.pieceNum_;r<l.pieces_.length;r++)s.push(l.pieces_[r]);if(n instanceof Ae)for(let r=n.pieceNum_;r<n.pieces_.length;r++)s.push(n.pieces_[r]);else{const r=n.split("/");for(let u=0;u<r.length;u++)r[u].length>0&&s.push(r[u])}return new Ae(s,0)}function ce(l){return l.pieceNum_>=l.pieces_.length}function Ct(l,n){const s=ae(l),r=ae(n);if(s===null)return n;if(s===r)return Ct(De(l),De(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+l+")")}function Ef(l,n){if(di(l)!==di(n))return!1;for(let s=l.pieceNum_,r=n.pieceNum_;s<=l.pieces_.length;s++,r++)if(l.pieces_[s]!==n.pieces_[r])return!1;return!0}function sn(l,n){let s=l.pieceNum_,r=n.pieceNum_;if(di(l)>di(n))return!1;for(;s<l.pieces_.length;){if(l.pieces_[s]!==n.pieces_[r])return!1;++s,++r}return!0}class $E{constructor(n,s){this.errorPrefix_=s,this.parts_=Up(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=uo(this.parts_[r]);Hp(this)}}function eT(l,n){l.parts_.length>0&&(l.byteLength_+=1),l.parts_.push(n),l.byteLength_+=uo(n),Hp(l)}function tT(l){const n=l.parts_.pop();l.byteLength_-=uo(n),l.parts_.length>0&&(l.byteLength_-=1)}function Hp(l){if(l.byteLength_>__)throw new Error(l.errorPrefix_+"has a key path longer than "+__+" bytes ("+l.byteLength_+").");if(l.parts_.length>g_)throw new Error(l.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+g_+") or object contains a cycle "+Vi(l))}function Vi(l){return l.parts_.length===0?"":"in property '"+l.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf extends zp{static getInstance(){return new Tf}constructor(){super(["visible"]);let n,s;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(n){return B(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=1e3,nT=60*5*1e3,p_=30*1e3,iT=1.3,lT=3e4,sT="server_kill",y_=3;class zn extends Lp{constructor(n,s,r,u,f,h,m,_){if(super(),this.repoInfo_=n,this.applicationId_=s,this.onDataUpdate_=r,this.onConnectStatus_=u,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=_,this.id=zn.nextPersistentConnectionId_++,this.log_=Ta("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=na,this.maxReconnectDelay_=nT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Tf.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Fr.getInstance().on("online",this.onOnline_,this)}sendRequest(n,s,r){const u=++this.requestNumber_,f={r:u,a:n,b:s};this.log_(lt(f)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),r&&(this.requestCBHash_[u]=r)}get(n){this.initConnection_();const s=new ro,u={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const m=h.d;h.s==="ok"?s.resolve(m):s.reject(m)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),s.promise}listen(n,s,r,u){this.initConnection_();const f=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),B(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const m={onComplete:u,hashFn:s,query:n,tag:r};this.listens.get(h).set(f,m),this.connected_&&this.sendListen_(m)}sendGet_(n){const s=this.outstandingGets_[n];this.sendRequest("g",s.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(r)})}sendListen_(n){const s=n.query,r=s._path.toString(),u=s._queryIdentifier;this.log_("Listen on "+r+" for "+u);const f={p:r},h="q";n.tag&&(f.q=s._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(h,f,m=>{const _=m.d,g=m.s;zn.warnOnListenWarnings_(_,s),(this.listens.get(r)&&this.listens.get(r).get(u))===n&&(this.log_("listen response",m),g!=="ok"&&this.removeListen_(r,u),n.onComplete&&n.onComplete(g,_))})}static warnOnListenWarnings_(n,s){if(n&&typeof n=="object"&&kn(n,"w")){const r=Fl(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const u='".indexOn": "'+s._queryParams.getIndex().toString()+'"',f=s._path.toString();wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||VS(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=p_)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,s=YS(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(s,r,u=>{const f=u.s,h=u.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const s=n.s,r=n.d||"error";s==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,r)})}unlisten(n,s){const r=n._path.toString(),u=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+u),B(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,u)&&this.connected_&&this.sendUnlisten_(r,u,n._queryObject,s)}sendUnlisten_(n,s,r,u){this.log_("Unlisten on "+n+" for "+s);const f={p:n},h="n";u&&(f.q=r,f.t=u),this.sendRequest(h,f)}onDisconnectPut(n,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,s,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:s,onComplete:r})}onDisconnectMerge(n,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,s,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:s,onComplete:r})}onDisconnectCancel(n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,s):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(n,s,r,u){const f={p:s,d:r};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,h=>{u&&setTimeout(()=>{u(h.s,h.d)},Math.floor(0))})}put(n,s,r,u){this.putInternal("p",n,s,r,u)}merge(n,s,r,u){this.putInternal("m",n,s,r,u)}putInternal(n,s,r,u,f){this.initConnection_();const h={p:s,d:r};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:n,request:h,onComplete:u}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+s)}sendPut_(n){const s=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,u=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(s,r,f=>{this.log_(s+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),u&&u(f.s,f.d)})}reportStats(n){if(this.connected_){const s={c:n};this.log_("reportStats",s),this.sendRequest("s",s,r=>{if(r.s!=="ok"){const f=r.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+lt(n));const s=n.r,r=this.requestCBHash_[s];r&&(delete this.requestCBHash_[s],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,s){this.log_("handleServerMessage",n,s),n==="d"?this.onDataUpdate_(s.p,s.d,!1,s.t):n==="m"?this.onDataUpdate_(s.p,s.d,!0,s.t):n==="c"?this.onListenRevoked_(s.p,s.q):n==="ac"?this.onAuthRevoked_(s.s,s.d):n==="apc"?this.onAppCheckRevoked_(s.s,s.d):n==="sd"?this.onSecurityDebugPacket_(s):$c("Unrecognized action received from server: "+lt(n)+`
Are you using the latest client?`)}onReady_(n,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=na,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=na,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>lT&&(this.reconnectDelay_=na),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let s=Math.max(0,this.reconnectDelay_-n);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*iT)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),s=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+zn.nextConnectionId_++,f=this.lastSessionId;let h=!1,m=null;const _=function(){m?m.close():(h=!0,r())},g=function(E){B(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(E)};this.realtime_={close:_,sendRequest:g};const S=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[E,A]=await Promise.all([this.authTokenProvider_.getToken(S),this.appCheckTokenProvider_.getToken(S)]);h?_t("getToken() completed but was canceled"):(_t("getToken() completed. Creating connection."),this.authToken_=E&&E.accessToken,this.appCheckToken_=A&&A.token,m=new PE(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,s,r,L=>{wt(L+" ("+this.repoInfo_.toString()+")"),this.interrupt(sT)},f))}catch(E){this.log_("Failed to get token: "+E),h||(this.repoInfo_.nodeAdmin&&wt(E),_())}}}interrupt(n){_t("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){_t("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Xg(this.interruptReasons_)&&(this.reconnectDelay_=na,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const s=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const s=this.outstandingPuts_[n];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,s){let r;s?r=s.map(f=>yf(f)).join("$"):r="default";const u=this.removeListen_(n,r);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(n,s){const r=new Ae(n).toString();let u;if(this.listens.has(r)){const f=this.listens.get(r);u=f.get(s),f.delete(s),f.size===0&&this.listens.delete(r)}else u=void 0;return u}onAuthRevoked_(n,s){_t("Auth token revoked: "+n+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=y_&&(this.reconnectDelay_=p_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,s){_t("App check token revoked: "+n+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=y_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const s of n.values())this.sendListen_(s);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let s="js";n["sdk."+s+"."+fp.replace(/\./g,"-")]=1,ep()?n["framework.cordova"]=1:IS()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Fr.getInstance().currentlyOnline();return Xg(this.interruptReasons_)&&n}}zn.nextPersistentConnectionId_=0;zn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(n,s){this.name=n,this.node=s}static Wrap(n,s){return new re(n,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,s){const r=new re(Kl,n),u=new re(Kl,s);return this.compare(r,u)!==0}minPost(){return re.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jr;class kp extends co{static get __EMPTY_NODE(){return jr}static set __EMPTY_NODE(n){jr=n}compare(n,s){return Jl(n.name,s.name)}isDefinedOn(n){throw Pl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,s){return!1}minPost(){return re.MIN}maxPost(){return new re(Ki,jr)}makePost(n,s){return B(typeof n=="string","KeyIndex indexValue must always be a string."),new re(n,jr)}toString(){return".key"}}const Ql=new kp;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(n,s,r,u,f=null){this.isReverse_=u,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=s?r(n.key,s):1,u&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),s;if(this.resultGenerator_?s=this.resultGenerator_(n.key,n.value):s={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class it{constructor(n,s,r,u,f){this.key=n,this.value=s,this.color=r??it.RED,this.left=u??At.EMPTY_NODE,this.right=f??At.EMPTY_NODE}copy(n,s,r,u,f){return new it(n??this.key,s??this.value,r??this.color,u??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,s,r){let u=this;const f=r(n,u.key);return f<0?u=u.copy(null,null,null,u.left.insert(n,s,r),null):f===0?u=u.copy(null,s,null,null,null):u=u.copy(null,null,null,null,u.right.insert(n,s,r)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return At.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,s){let r,u;if(r=this,s(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,s),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),s(n,r.key)===0){if(r.right.isEmpty())return At.EMPTY_NODE;u=r.right.min_(),r=r.copy(u.key,u.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,s))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,s)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}it.RED=!0;it.BLACK=!1;class aT{copy(n,s,r,u,f){return this}insert(n,s,r){return new it(n,s,null)}remove(n,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class At{constructor(n,s=At.EMPTY_NODE){this.comparator_=n,this.root_=s}insert(n,s){return new At(this.comparator_,this.root_.insert(n,s,this.comparator_).copy(null,null,it.BLACK,null,null))}remove(n){return new At(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,it.BLACK,null,null))}get(n){let s,r=this.root_;for(;!r.isEmpty();){if(s=this.comparator_(n,r.key),s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}getPredecessorKey(n){let s,r=this.root_,u=null;for(;!r.isEmpty();)if(s=this.comparator_(n,r.key),s===0){if(r.left.isEmpty())return u?u.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else s<0?r=r.left:s>0&&(u=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new qr(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,s){return new qr(this.root_,n,this.comparator_,!1,s)}getReverseIteratorFrom(n,s){return new qr(this.root_,n,this.comparator_,!0,s)}getReverseIterator(n){return new qr(this.root_,null,this.comparator_,!0,n)}}At.EMPTY_NODE=new aT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(l,n){return Jl(l.name,n.name)}function Cf(l,n){return Jl(l,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf;function oT(l){tf=l}const jp=function(l){return typeof l=="number"?"number:"+_p(l):"string:"+l},qp=function(l){if(l.isLeafNode()){const n=l.val();B(typeof n=="string"||typeof n=="number"||typeof n=="object"&&kn(n,".sv"),"Priority must be a string or number.")}else B(l===tf||l.isEmpty(),"priority of unexpected type.");B(l===tf||l.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v_;class nt{static set __childrenNodeConstructor(n){v_=n}static get __childrenNodeConstructor(){return v_}constructor(n,s=nt.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=s,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),qp(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new nt(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:nt.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ce(n)?this:ae(n)===".priority"?this.priorityNode_:nt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,s){return null}updateImmediateChild(n,s){return n===".priority"?this.updatePriority(s):s.isEmpty()&&n!==".priority"?this:nt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,s).updatePriority(this.priorityNode_)}updateChild(n,s){const r=ae(n);return r===null?s:s.isEmpty()&&r!==".priority"?this:(B(r!==".priority"||di(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,nt.__childrenNodeConstructor.EMPTY_NODE.updateChild(De(n),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,s){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+jp(this.priorityNode_.val())+":");const s=typeof this.value_;n+=s+":",s==="number"?n+=_p(this.value_):n+=this.value_,this.lazyHash_=dp(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===nt.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof nt.__childrenNodeConstructor?-1:(B(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const s=typeof n.value_,r=typeof this.value_,u=nt.VALUE_TYPE_ORDER.indexOf(s),f=nt.VALUE_TYPE_ORDER.indexOf(r);return B(u>=0,"Unknown leaf type: "+s),B(f>=0,"Unknown leaf type: "+r),u===f?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-u}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const s=n;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}else return!1}}nt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gp,Yp;function uT(l){Gp=l}function cT(l){Yp=l}class fT extends co{compare(n,s){const r=n.node.getPriority(),u=s.node.getPriority(),f=r.compareTo(u);return f===0?Jl(n.name,s.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,s){return!n.getPriority().equals(s.getPriority())}minPost(){return re.MIN}maxPost(){return new re(Ki,new nt("[PRIORITY-POST]",Yp))}makePost(n,s){const r=Gp(n);return new re(s,new nt("[PRIORITY-POST]",r))}toString(){return".priority"}}const qe=new fT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=Math.log(2);class dT{constructor(n){const s=f=>parseInt(Math.log(f)/hT,10),r=f=>parseInt(Array(f+1).join("1"),2);this.count=s(n+1),this.current_=this.count-1;const u=r(this.count);this.bits_=n+1&u}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Kr=function(l,n,s,r){l.sort(n);const u=function(_,g){const S=g-_;let E,A;if(S===0)return null;if(S===1)return E=l[_],A=s?s(E):E,new it(A,E.node,it.BLACK,null,null);{const L=parseInt(S/2,10)+_,H=u(_,L),W=u(L+1,g);return E=l[L],A=s?s(E):E,new it(A,E.node,it.BLACK,H,W)}},f=function(_){let g=null,S=null,E=l.length;const A=function(H,W){const K=E-H,Ue=E;E-=H;const Ie=u(K+1,Ue),j=l[K],pe=s?s(j):j;L(new it(pe,j.node,W,null,Ie))},L=function(H){g?(g.left=H,g=H):(S=H,g=H)};for(let H=0;H<_.count;++H){const W=_.nextBitIsOne(),K=Math.pow(2,_.count-(H+1));W?A(K,it.BLACK):(A(K,it.BLACK),A(K,it.RED))}return S},h=new dT(l.length),m=f(h);return new At(r||n,m)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc;const Gl={};class Ln{static get Default(){return B(Gl&&qe,"ChildrenNode.ts has not been loaded"),jc=jc||new Ln({".priority":Gl},{".priority":qe}),jc}constructor(n,s){this.indexes_=n,this.indexSet_=s}get(n){const s=Fl(this.indexes_,n);if(!s)throw new Error("No index defined for "+n);return s instanceof At?s:null}hasIndex(n){return kn(this.indexSet_,n.toString())}addIndex(n,s){B(n!==Ql,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let u=!1;const f=s.getIterator(re.Wrap);let h=f.getNext();for(;h;)u=u||n.isDefinedOn(h.node),r.push(h),h=f.getNext();let m;u?m=Kr(r,n.getCompare()):m=Gl;const _=n.toString(),g=Object.assign({},this.indexSet_);g[_]=n;const S=Object.assign({},this.indexes_);return S[_]=m,new Ln(S,g)}addToIndexes(n,s){const r=Vr(this.indexes_,(u,f)=>{const h=Fl(this.indexSet_,f);if(B(h,"Missing index implementation for "+f),u===Gl)if(h.isDefinedOn(n.node)){const m=[],_=s.getIterator(re.Wrap);let g=_.getNext();for(;g;)g.name!==n.name&&m.push(g),g=_.getNext();return m.push(n),Kr(m,h.getCompare())}else return Gl;else{const m=s.get(n.name);let _=u;return m&&(_=_.remove(new re(n.name,m))),_.insert(n,n.node)}});return new Ln(r,this.indexSet_)}removeFromIndexes(n,s){const r=Vr(this.indexes_,u=>{if(u===Gl)return u;{const f=s.get(n.name);return f?u.remove(new re(n.name,f)):u}});return new Ln(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ia;class P{static get EMPTY_NODE(){return ia||(ia=new P(new At(Cf),null,Ln.Default))}constructor(n,s,r){this.children_=n,this.priorityNode_=s,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&qp(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ia}updatePriority(n){return this.children_.isEmpty()?this:new P(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const s=this.children_.get(n);return s===null?ia:s}}getChild(n){const s=ae(n);return s===null?this:this.getImmediateChild(s).getChild(De(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,s){if(B(s,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(s);{const r=new re(n,s);let u,f;s.isEmpty()?(u=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(r,this.children_)):(u=this.children_.insert(n,s),f=this.indexMap_.addToIndexes(r,this.children_));const h=u.isEmpty()?ia:this.priorityNode_;return new P(u,h,f)}}updateChild(n,s){const r=ae(n);if(r===null)return s;{B(ae(n)!==".priority"||di(n)===1,".priority must be the last token in a path");const u=this.getImmediateChild(r).updateChild(De(n),s);return this.updateImmediateChild(r,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const s={};let r=0,u=0,f=!0;if(this.forEachChild(qe,(h,m)=>{s[h]=m.val(n),r++,f&&P.INTEGER_REGEXP_.test(h)?u=Math.max(u,Number(h)):f=!1}),!n&&f&&u<2*r){const h=[];for(const m in s)h[m]=s[m];return h}else return n&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+jp(this.getPriority().val())+":"),this.forEachChild(qe,(s,r)=>{const u=r.hash();u!==""&&(n+=":"+s+":"+u)}),this.lazyHash_=n===""?"":dp(n)}return this.lazyHash_}getPredecessorChildName(n,s,r){const u=this.resolveIndex_(r);if(u){const f=u.getPredecessorKey(new re(n,s));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const s=this.resolveIndex_(n);if(s){const r=s.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){const s=this.getFirstChildName(n);return s?new re(s,this.children_.get(s)):null}getLastChildName(n){const s=this.resolveIndex_(n);if(s){const r=s.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){const s=this.getLastChildName(n);return s?new re(s,this.children_.get(s)):null}forEachChild(n,s){const r=this.resolveIndex_(n);return r?r.inorderTraversal(u=>s(u.name,u.node)):this.children_.inorderTraversal(s)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,s){const r=this.resolveIndex_(s);if(r)return r.getIteratorFrom(n,u=>u);{const u=this.children_.getIteratorFrom(n.name,re.Wrap);let f=u.peek();for(;f!=null&&s.compare(f,n)<0;)u.getNext(),f=u.peek();return u}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,s){const r=this.resolveIndex_(s);if(r)return r.getReverseIteratorFrom(n,u=>u);{const u=this.children_.getReverseIteratorFrom(n.name,re.Wrap);let f=u.peek();for(;f!=null&&s.compare(f,n)>0;)u.getNext(),f=u.peek();return u}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ca?-1:0}withIndex(n){if(n===Ql||this.indexMap_.hasIndex(n))return this;{const s=this.indexMap_.addIndex(n,this.children_);return new P(this.children_,this.priorityNode_,s)}}isIndexed(n){return n===Ql||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const s=n;if(this.getPriority().equals(s.getPriority()))if(this.children_.count()===s.children_.count()){const r=this.getIterator(qe),u=s.getIterator(qe);let f=r.getNext(),h=u.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=r.getNext(),h=u.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===Ql?null:this.indexMap_.get(n.toString())}}P.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class mT extends P{constructor(){super(new At(Cf),P.EMPTY_NODE,Ln.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return P.EMPTY_NODE}isEmpty(){return!1}}const Ca=new mT;Object.defineProperties(re,{MIN:{value:new re(Kl,P.EMPTY_NODE)},MAX:{value:new re(Ki,Ca)}});kp.__EMPTY_NODE=P.EMPTY_NODE;nt.__childrenNodeConstructor=P;oT(Ca);cT(Ca);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=!0;function ct(l,n=null){if(l===null)return P.EMPTY_NODE;if(typeof l=="object"&&".priority"in l&&(n=l[".priority"]),B(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof l=="object"&&".value"in l&&l[".value"]!==null&&(l=l[".value"]),typeof l!="object"||".sv"in l){const s=l;return new nt(s,ct(n))}if(!(l instanceof Array)&&gT){const s=[];let r=!1;if(Nt(l,(h,m)=>{if(h.substring(0,1)!=="."){const _=ct(m);_.isEmpty()||(r=r||!_.getPriority().isEmpty(),s.push(new re(h,_)))}}),s.length===0)return P.EMPTY_NODE;const f=Kr(s,rT,h=>h.name,Cf);if(r){const h=Kr(s,qe.getCompare());return new P(f,ct(n),new Ln({".priority":h},{".priority":qe}))}else return new P(f,ct(n),Ln.Default)}else{let s=P.EMPTY_NODE;return Nt(l,(r,u)=>{if(kn(l,r)&&r.substring(0,1)!=="."){const f=ct(u);(f.isLeafNode()||!f.isEmpty())&&(s=s.updateImmediateChild(r,f))}}),s.updatePriority(ct(n))}}uT(ct);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T extends co{constructor(n){super(),this.indexPath_=n,B(!ce(n)&&ae(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,s){const r=this.extractChild(n.node),u=this.extractChild(s.node),f=r.compareTo(u);return f===0?Jl(n.name,s.name):f}makePost(n,s){const r=ct(n),u=P.EMPTY_NODE.updateChild(this.indexPath_,r);return new re(s,u)}maxPost(){const n=P.EMPTY_NODE.updateChild(this.indexPath_,Ca);return new re(Ki,n)}toString(){return Up(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT extends co{compare(n,s){const r=n.node.compareTo(s.node);return r===0?Jl(n.name,s.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,s){return!n.equals(s)}minPost(){return re.MIN}maxPost(){return re.MAX}makePost(n,s){const r=ct(n);return new re(s,r)}toString(){return".value"}}const yT=new pT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(l){return{type:"value",snapshotNode:l}}function Zl(l,n){return{type:"child_added",snapshotNode:n,childName:l}}function ga(l,n){return{type:"child_removed",snapshotNode:n,childName:l}}function _a(l,n,s){return{type:"child_changed",snapshotNode:n,childName:l,oldSnap:s}}function vT(l,n){return{type:"child_moved",snapshotNode:n,childName:l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(n){this.index_=n}updateChild(n,s,r,u,f,h){B(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=n.getImmediateChild(s);return m.getChild(u).equals(r.getChild(u))&&m.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?n.hasChild(s)?h.trackChildChange(ga(s,m)):B(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(Zl(s,r)):h.trackChildChange(_a(s,r,m))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(s,r).withIndex(this.index_)}updateFullNode(n,s,r){return r!=null&&(n.isLeafNode()||n.forEachChild(qe,(u,f)=>{s.hasChild(u)||r.trackChildChange(ga(u,f))}),s.isLeafNode()||s.forEachChild(qe,(u,f)=>{if(n.hasChild(u)){const h=n.getImmediateChild(u);h.equals(f)||r.trackChildChange(_a(u,f,h))}else r.trackChildChange(Zl(u,f))})),s.withIndex(this.index_)}updatePriority(n,s){return n.isEmpty()?P.EMPTY_NODE:n.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(n){this.indexedFilter_=new Af(n.getIndex()),this.index_=n.getIndex(),this.startPost_=pa.getStartPost_(n),this.endPost_=pa.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return s&&r}updateChild(n,s,r,u,f,h){return this.matches(new re(s,r))||(r=P.EMPTY_NODE),this.indexedFilter_.updateChild(n,s,r,u,f,h)}updateFullNode(n,s,r){s.isLeafNode()&&(s=P.EMPTY_NODE);let u=s.withIndex(this.index_);u=u.updatePriority(P.EMPTY_NODE);const f=this;return s.forEachChild(qe,(h,m)=>{f.matches(new re(h,m))||(u=u.updateImmediateChild(h,P.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,u,r)}updatePriority(n,s){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const s=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),s)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const s=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),s)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(n){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=s=>{const r=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new pa(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,s,r,u,f,h){return this.rangedFilter_.matches(new re(s,r))||(r=P.EMPTY_NODE),n.getImmediateChild(s).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,s,r,u,f,h):this.fullLimitUpdateChild_(n,s,r,f,h)}updateFullNode(n,s,r){let u;if(s.isLeafNode()||s.isEmpty())u=P.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<s.numChildren()&&s.isIndexed(this.index_)){u=P.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const m=f.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))u=u.updateImmediateChild(m.name,m.node),h++;else break;else continue}}else{u=s.withIndex(this.index_),u=u.updatePriority(P.EMPTY_NODE);let f;this.reverse_?f=u.getReverseIterator(this.index_):f=u.getIterator(this.index_);let h=0;for(;f.hasNext();){const m=f.getNext();h<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?h++:u=u.updateImmediateChild(m.name,P.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,u,r)}updatePriority(n,s){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,s,r,u,f){let h;if(this.reverse_){const E=this.index_.getCompare();h=(A,L)=>E(L,A)}else h=this.index_.getCompare();const m=n;B(m.numChildren()===this.limit_,"");const _=new re(s,r),g=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),S=this.rangedFilter_.matches(_);if(m.hasChild(s)){const E=m.getImmediateChild(s);let A=u.getChildAfterChild(this.index_,g,this.reverse_);for(;A!=null&&(A.name===s||m.hasChild(A.name));)A=u.getChildAfterChild(this.index_,A,this.reverse_);const L=A==null?1:h(A,_);if(S&&!r.isEmpty()&&L>=0)return f!=null&&f.trackChildChange(_a(s,r,E)),m.updateImmediateChild(s,r);{f!=null&&f.trackChildChange(ga(s,E));const W=m.updateImmediateChild(s,P.EMPTY_NODE);return A!=null&&this.rangedFilter_.matches(A)?(f!=null&&f.trackChildChange(Zl(A.name,A.node)),W.updateImmediateChild(A.name,A.node)):W}}else return r.isEmpty()?n:S&&h(g,_)>=0?(f!=null&&(f.trackChildChange(ga(g.name,g.node)),f.trackChildChange(Zl(s,r))),m.updateImmediateChild(s,r).updateImmediateChild(g.name,P.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Kl}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ki}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===qe}copy(){const n=new wf;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function bT(l){return l.loadsAllData()?new Af(l.getIndex()):l.hasLimit()?new ST(l):new pa(l)}function S_(l){const n={};if(l.isDefault())return n;let s;if(l.index_===qe?s="$priority":l.index_===yT?s="$value":l.index_===Ql?s="$key":(B(l.index_ instanceof _T,"Unrecognized index type!"),s=l.index_.toString()),n.orderBy=lt(s),l.startSet_){const r=l.startAfterSet_?"startAfter":"startAt";n[r]=lt(l.indexStartValue_),l.startNameSet_&&(n[r]+=","+lt(l.indexStartName_))}if(l.endSet_){const r=l.endBeforeSet_?"endBefore":"endAt";n[r]=lt(l.indexEndValue_),l.endNameSet_&&(n[r]+=","+lt(l.indexEndName_))}return l.limitSet_&&(l.isViewFromLeft()?n.limitToFirst=l.limit_:n.limitToLast=l.limit_),n}function b_(l){const n={};if(l.startSet_&&(n.sp=l.indexStartValue_,l.startNameSet_&&(n.sn=l.indexStartName_),n.sin=!l.startAfterSet_),l.endSet_&&(n.ep=l.indexEndValue_,l.endNameSet_&&(n.en=l.indexEndName_),n.ein=!l.endBeforeSet_),l.limitSet_){n.l=l.limit_;let s=l.viewFrom_;s===""&&(l.isViewFromLeft()?s="l":s="r"),n.vf=s}return l.index_!==qe&&(n.i=l.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Lp{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,s){return s!==void 0?"tag$"+s:(B(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,s,r,u){super(),this.repoInfo_=n,this.onDataUpdate_=s,this.authTokenProvider_=r,this.appCheckTokenProvider_=u,this.log_=Ta("p:rest:"),this.listens_={}}listen(n,s,r,u){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const h=Zr.getListenId_(n,r),m={};this.listens_[h]=m;const _=S_(n._queryParams);this.restRequest_(f+".json",_,(g,S)=>{let E=S;if(g===404&&(E=null,g=null),g===null&&this.onDataUpdate_(f,E,!1,r),Fl(this.listens_,h)===m){let A;g?g===401?A="permission_denied":A="rest_error:"+g:A="ok",u(A,null)}})}unlisten(n,s){const r=Zr.getListenId_(n,s);delete this.listens_[r]}get(n){const s=S_(n._queryParams),r=n._path.toString(),u=new ro;return this.restRequest_(r+".json",s,(f,h)=>{let m=h;f===404&&(m=null,f=null),f===null?(this.onDataUpdate_(r,m,!1,null),u.resolve(m)):u.reject(new Error(m))}),u.promise}refreshAuthToken(n){}restRequest_(n,s={},r){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,f])=>{u&&u.accessToken&&(s.auth=u.accessToken),f&&f.token&&(s.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+QS(s);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(r&&m.readyState===4){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let _=null;if(m.status>=200&&m.status<300){try{_=fa(m.responseText)}catch{wt("Failed to parse JSON response for "+h+": "+m.responseText)}r(null,_)}else m.status!==401&&m.status!==404&&wt("Got unsuccessful REST response for "+h+" Status: "+m.status),r(m.status);r=null}},m.open("GET",h,!0),m.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.rootNode_=P.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,s){this.rootNode_=this.rootNode_.updateChild(n,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return{value:null,children:new Map}}function Qp(l,n,s){if(ce(n))l.value=s,l.children.clear();else if(l.value!==null)l.value=l.value.updateChild(n,s);else{const r=ae(n);l.children.has(r)||l.children.set(r,Wr());const u=l.children.get(r);n=De(n),Qp(u,n,s)}}function nf(l,n,s){l.value!==null?s(n,l.value):TT(l,(r,u)=>{const f=new Ae(n.toString()+"/"+r);nf(u,f,s)})}function TT(l,n){l.children.forEach((s,r)=>{n(r,s)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),s=Object.assign({},n);return this.last_&&Nt(this.last_,(r,u)=>{s[r]=s[r]-u}),this.last_=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=10*1e3,AT=30*1e3,wT=5*60*1e3;class RT{constructor(n,s){this.server_=s,this.statsToReport_={},this.statsListener_=new CT(n);const r=E_+(AT-E_)*Math.random();aa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),s={};let r=!1;Nt(n,(u,f)=>{f>0&&kn(this.statsToReport_,u)&&(s[u]=f,r=!0)}),r&&this.server_.reportStats(s),aa(this.reportStats_.bind(this),Math.floor(Math.random()*2*wT))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an;(function(l){l[l.OVERWRITE=0]="OVERWRITE",l[l.MERGE=1]="MERGE",l[l.ACK_USER_WRITE=2]="ACK_USER_WRITE",l[l.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(an||(an={}));function Xp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Rf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Nf(l){return{fromUser:!1,fromServer:!0,queryId:l,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(n,s,r){this.path=n,this.affectedTree=s,this.revert=r,this.type=an.ACK_USER_WRITE,this.source=Xp()}operationForChild(n){if(ce(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new Ae(n));return new Pr(ye(),s,this.revert)}}else return B(ae(this.path)===n,"operationForChild called for unrelated child."),new Pr(De(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(n,s){this.source=n,this.path=s,this.type=an.LISTEN_COMPLETE}operationForChild(n){return ce(this.path)?new ya(this.source,ye()):new ya(this.source,De(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(n,s,r){this.source=n,this.path=s,this.snap=r,this.type=an.OVERWRITE}operationForChild(n){return ce(this.path)?new Zi(this.source,ye(),this.snap.getImmediateChild(n)):new Zi(this.source,De(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(n,s,r){this.source=n,this.path=s,this.children=r,this.type=an.MERGE}operationForChild(n){if(ce(this.path)){const s=this.children.subtree(new Ae(n));return s.isEmpty()?null:s.value?new Zi(this.source,ye(),s.value):new va(this.source,ye(),s)}else return B(ae(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new va(this.source,De(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(n,s,r){this.node_=n,this.fullyInitialized_=s,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(ce(n))return this.isFullyInitialized()&&!this.filtered_;const s=ae(n);return this.isCompleteForChild(s)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function DT(l,n,s,r){const u=[],f=[];return n.forEach(h=>{h.type==="child_changed"&&l.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(vT(h.childName,h.snapshotNode))}),la(l,u,"child_removed",n,r,s),la(l,u,"child_added",n,r,s),la(l,u,"child_moved",f,r,s),la(l,u,"child_changed",n,r,s),la(l,u,"value",n,r,s),u}function la(l,n,s,r,u,f){const h=r.filter(m=>m.type===s);h.sort((m,_)=>MT(l,m,_)),h.forEach(m=>{const _=OT(l,m,f);u.forEach(g=>{g.respondsTo(m.type)&&n.push(g.createEvent(_,l.query_))})})}function OT(l,n,s){return n.type==="value"||n.type==="child_removed"||(n.prevName=s.getPredecessorChildName(n.childName,n.snapshotNode,l.index_)),n}function MT(l,n,s){if(n.childName==null||s.childName==null)throw Pl("Should only compare child_ events.");const r=new re(n.childName,n.snapshotNode),u=new re(s.childName,s.snapshotNode);return l.index_.compare(r,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(l,n){return{eventCache:l,serverCache:n}}function ra(l,n,s,r){return fo(new Wi(n,s,r),l.serverCache)}function Fp(l,n,s,r){return fo(l.eventCache,new Wi(n,s,r))}function lf(l){return l.eventCache.isFullyInitialized()?l.eventCache.getNode():null}function Pi(l){return l.serverCache.isFullyInitialized()?l.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc;const xT=()=>(qc||(qc=new At(pE)),qc);class Oe{static fromObject(n){let s=new Oe(null);return Nt(n,(r,u)=>{s=s.set(new Ae(r),u)}),s}constructor(n,s=xT()){this.value=n,this.children=s}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,s){if(this.value!=null&&s(this.value))return{path:ye(),value:this.value};if(ce(n))return null;{const r=ae(n),u=this.children.get(r);if(u!==null){const f=u.findRootMostMatchingPathAndValue(De(n),s);return f!=null?{path:Ze(new Ae(r),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(ce(n))return this;{const s=ae(n),r=this.children.get(s);return r!==null?r.subtree(De(n)):new Oe(null)}}set(n,s){if(ce(n))return new Oe(s,this.children);{const r=ae(n),f=(this.children.get(r)||new Oe(null)).set(De(n),s),h=this.children.insert(r,f);return new Oe(this.value,h)}}remove(n){if(ce(n))return this.children.isEmpty()?new Oe(null):new Oe(null,this.children);{const s=ae(n),r=this.children.get(s);if(r){const u=r.remove(De(n));let f;return u.isEmpty()?f=this.children.remove(s):f=this.children.insert(s,u),this.value===null&&f.isEmpty()?new Oe(null):new Oe(this.value,f)}else return this}}get(n){if(ce(n))return this.value;{const s=ae(n),r=this.children.get(s);return r?r.get(De(n)):null}}setTree(n,s){if(ce(n))return s;{const r=ae(n),f=(this.children.get(r)||new Oe(null)).setTree(De(n),s);let h;return f.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,f),new Oe(this.value,h)}}fold(n){return this.fold_(ye(),n)}fold_(n,s){const r={};return this.children.inorderTraversal((u,f)=>{r[u]=f.fold_(Ze(n,u),s)}),s(n,this.value,r)}findOnPath(n,s){return this.findOnPath_(n,ye(),s)}findOnPath_(n,s,r){const u=this.value?r(s,this.value):!1;if(u)return u;if(ce(n))return null;{const f=ae(n),h=this.children.get(f);return h?h.findOnPath_(De(n),Ze(s,f),r):null}}foreachOnPath(n,s){return this.foreachOnPath_(n,ye(),s)}foreachOnPath_(n,s,r){if(ce(n))return this;{this.value&&r(s,this.value);const u=ae(n),f=this.children.get(u);return f?f.foreachOnPath_(De(n),Ze(s,u),r):new Oe(null)}}foreach(n){this.foreach_(ye(),n)}foreach_(n,s){this.children.inorderTraversal((r,u)=>{u.foreach_(Ze(n,r),s)}),this.value&&s(n,this.value)}foreachChild(n){this.children.inorderTraversal((s,r)=>{r.value&&n(s,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(n){this.writeTree_=n}static empty(){return new rn(new Oe(null))}}function oa(l,n,s){if(ce(n))return new rn(new Oe(s));{const r=l.writeTree_.findRootMostValueAndPath(n);if(r!=null){const u=r.path;let f=r.value;const h=Ct(u,n);return f=f.updateChild(h,s),new rn(l.writeTree_.set(u,f))}else{const u=new Oe(s),f=l.writeTree_.setTree(n,u);return new rn(f)}}}function T_(l,n,s){let r=l;return Nt(s,(u,f)=>{r=oa(r,Ze(n,u),f)}),r}function C_(l,n){if(ce(n))return rn.empty();{const s=l.writeTree_.setTree(n,new Oe(null));return new rn(s)}}function sf(l,n){return tl(l,n)!=null}function tl(l,n){const s=l.writeTree_.findRootMostValueAndPath(n);return s!=null?l.writeTree_.get(s.path).getChild(Ct(s.path,n)):null}function A_(l){const n=[],s=l.writeTree_.value;return s!=null?s.isLeafNode()||s.forEachChild(qe,(r,u)=>{n.push(new re(r,u))}):l.writeTree_.children.inorderTraversal((r,u)=>{u.value!=null&&n.push(new re(r,u.value))}),n}function fi(l,n){if(ce(n))return l;{const s=tl(l,n);return s!=null?new rn(new Oe(s)):new rn(l.writeTree_.subtree(n))}}function af(l){return l.writeTree_.isEmpty()}function Wl(l,n){return Kp(ye(),l.writeTree_,n)}function Kp(l,n,s){if(n.value!=null)return s.updateChild(l,n.value);{let r=null;return n.children.inorderTraversal((u,f)=>{u===".priority"?(B(f.value!==null,"Priority writes must always be leaf nodes"),r=f.value):s=Kp(Ze(l,u),f,s)}),!s.getChild(l).isEmpty()&&r!==null&&(s=s.updateChild(Ze(l,".priority"),r)),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(l,n){return Jp(n,l)}function LT(l,n,s,r,u){B(r>l.lastWriteId,"Stacking an older write on top of newer ones"),u===void 0&&(u=!0),l.allWrites.push({path:n,snap:s,writeId:r,visible:u}),u&&(l.visibleWrites=oa(l.visibleWrites,n,s)),l.lastWriteId=r}function zT(l,n){for(let s=0;s<l.allWrites.length;s++){const r=l.allWrites[s];if(r.writeId===n)return r}return null}function BT(l,n){const s=l.allWrites.findIndex(m=>m.writeId===n);B(s>=0,"removeWrite called with nonexistent writeId.");const r=l.allWrites[s];l.allWrites.splice(s,1);let u=r.visible,f=!1,h=l.allWrites.length-1;for(;u&&h>=0;){const m=l.allWrites[h];m.visible&&(h>=s&&UT(m,r.path)?u=!1:sn(r.path,m.path)&&(f=!0)),h--}if(u){if(f)return IT(l),!0;if(r.snap)l.visibleWrites=C_(l.visibleWrites,r.path);else{const m=r.children;Nt(m,_=>{l.visibleWrites=C_(l.visibleWrites,Ze(r.path,_))})}return!0}else return!1}function UT(l,n){if(l.snap)return sn(l.path,n);for(const s in l.children)if(l.children.hasOwnProperty(s)&&sn(Ze(l.path,s),n))return!0;return!1}function IT(l){l.visibleWrites=Zp(l.allWrites,HT,ye()),l.allWrites.length>0?l.lastWriteId=l.allWrites[l.allWrites.length-1].writeId:l.lastWriteId=-1}function HT(l){return l.visible}function Zp(l,n,s){let r=rn.empty();for(let u=0;u<l.length;++u){const f=l[u];if(n(f)){const h=f.path;let m;if(f.snap)sn(s,h)?(m=Ct(s,h),r=oa(r,m,f.snap)):sn(h,s)&&(m=Ct(h,s),r=oa(r,ye(),f.snap.getChild(m)));else if(f.children){if(sn(s,h))m=Ct(s,h),r=T_(r,m,f.children);else if(sn(h,s))if(m=Ct(h,s),ce(m))r=T_(r,ye(),f.children);else{const _=Fl(f.children,ae(m));if(_){const g=_.getChild(De(m));r=oa(r,ye(),g)}}}else throw Pl("WriteRecord should have .snap or .children")}}return r}function Wp(l,n,s,r,u){if(!r&&!u){const f=tl(l.visibleWrites,n);if(f!=null)return f;{const h=fi(l.visibleWrites,n);if(af(h))return s;if(s==null&&!sf(h,ye()))return null;{const m=s||P.EMPTY_NODE;return Wl(h,m)}}}else{const f=fi(l.visibleWrites,n);if(!u&&af(f))return s;if(!u&&s==null&&!sf(f,ye()))return null;{const h=function(g){return(g.visible||u)&&(!r||!~r.indexOf(g.writeId))&&(sn(g.path,n)||sn(n,g.path))},m=Zp(l.allWrites,h,n),_=s||P.EMPTY_NODE;return Wl(m,_)}}}function kT(l,n,s){let r=P.EMPTY_NODE;const u=tl(l.visibleWrites,n);if(u)return u.isLeafNode()||u.forEachChild(qe,(f,h)=>{r=r.updateImmediateChild(f,h)}),r;if(s){const f=fi(l.visibleWrites,n);return s.forEachChild(qe,(h,m)=>{const _=Wl(fi(f,new Ae(h)),m);r=r.updateImmediateChild(h,_)}),A_(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const f=fi(l.visibleWrites,n);return A_(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function jT(l,n,s,r,u){B(r||u,"Either existingEventSnap or existingServerSnap must exist");const f=Ze(n,s);if(sf(l.visibleWrites,f))return null;{const h=fi(l.visibleWrites,f);return af(h)?u.getChild(s):Wl(h,u.getChild(s))}}function qT(l,n,s,r){const u=Ze(n,s),f=tl(l.visibleWrites,u);if(f!=null)return f;if(r.isCompleteForChild(s)){const h=fi(l.visibleWrites,u);return Wl(h,r.getNode().getImmediateChild(s))}else return null}function GT(l,n){return tl(l.visibleWrites,n)}function YT(l,n,s,r,u,f,h){let m;const _=fi(l.visibleWrites,n),g=tl(_,ye());if(g!=null)m=g;else if(s!=null)m=Wl(_,s);else return[];if(m=m.withIndex(h),!m.isEmpty()&&!m.isLeafNode()){const S=[],E=h.getCompare(),A=f?m.getReverseIteratorFrom(r,h):m.getIteratorFrom(r,h);let L=A.getNext();for(;L&&S.length<u;)E(L,r)!==0&&S.push(L),L=A.getNext();return S}else return[]}function VT(){return{visibleWrites:rn.empty(),allWrites:[],lastWriteId:-1}}function Jr(l,n,s,r){return Wp(l.writeTree,l.treePath,n,s,r)}function Of(l,n){return kT(l.writeTree,l.treePath,n)}function w_(l,n,s,r){return jT(l.writeTree,l.treePath,n,s,r)}function $r(l,n){return GT(l.writeTree,Ze(l.treePath,n))}function QT(l,n,s,r,u,f){return YT(l.writeTree,l.treePath,n,s,r,u,f)}function Mf(l,n,s){return qT(l.writeTree,l.treePath,n,s)}function Pp(l,n){return Jp(Ze(l.treePath,n),l.writeTree)}function Jp(l,n){return{treePath:l,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(){this.changeMap=new Map}trackChildChange(n){const s=n.type,r=n.childName;B(s==="child_added"||s==="child_changed"||s==="child_removed","Only child changes supported for tracking"),B(r!==".priority","Only non-priority child changes can be tracked.");const u=this.changeMap.get(r);if(u){const f=u.type;if(s==="child_added"&&f==="child_removed")this.changeMap.set(r,_a(r,n.snapshotNode,u.snapshotNode));else if(s==="child_removed"&&f==="child_added")this.changeMap.delete(r);else if(s==="child_removed"&&f==="child_changed")this.changeMap.set(r,ga(r,u.oldSnap));else if(s==="child_changed"&&f==="child_added")this.changeMap.set(r,Zl(r,n.snapshotNode));else if(s==="child_changed"&&f==="child_changed")this.changeMap.set(r,_a(r,n.snapshotNode,u.oldSnap));else throw Pl("Illegal combination of changes: "+n+" occurred after "+u)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{getCompleteChild(n){return null}getChildAfterChild(n,s,r){return null}}const $p=new FT;class xf{constructor(n,s,r=null){this.writes_=n,this.viewCache_=s,this.optCompleteServerCache_=r}getCompleteChild(n){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(n))return s.getNode().getImmediateChild(n);{const r=this.optCompleteServerCache_!=null?new Wi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Mf(this.writes_,n,r)}}getChildAfterChild(n,s,r){const u=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Pi(this.viewCache_),f=QT(this.writes_,u,s,1,r,n);return f.length===0?null:f[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(l){return{filter:l}}function ZT(l,n){B(n.eventCache.getNode().isIndexed(l.filter.getIndex()),"Event snap not indexed"),B(n.serverCache.getNode().isIndexed(l.filter.getIndex()),"Server snap not indexed")}function WT(l,n,s,r,u){const f=new XT;let h,m;if(s.type===an.OVERWRITE){const g=s;g.source.fromUser?h=rf(l,n,g.path,g.snap,r,u,f):(B(g.source.fromServer,"Unknown source."),m=g.source.tagged||n.serverCache.isFiltered()&&!ce(g.path),h=eo(l,n,g.path,g.snap,r,u,m,f))}else if(s.type===an.MERGE){const g=s;g.source.fromUser?h=JT(l,n,g.path,g.children,r,u,f):(B(g.source.fromServer,"Unknown source."),m=g.source.tagged||n.serverCache.isFiltered(),h=of(l,n,g.path,g.children,r,u,m,f))}else if(s.type===an.ACK_USER_WRITE){const g=s;g.revert?h=t1(l,n,g.path,r,u,f):h=$T(l,n,g.path,g.affectedTree,r,u,f)}else if(s.type===an.LISTEN_COMPLETE)h=e1(l,n,s.path,r,f);else throw Pl("Unknown operation type: "+s.type);const _=f.getChanges();return PT(n,h,_),{viewCache:h,changes:_}}function PT(l,n,s){const r=n.eventCache;if(r.isFullyInitialized()){const u=r.getNode().isLeafNode()||r.getNode().isEmpty(),f=lf(l);(s.length>0||!l.eventCache.isFullyInitialized()||u&&!r.getNode().equals(f)||!r.getNode().getPriority().equals(f.getPriority()))&&s.push(Vp(lf(n)))}}function ey(l,n,s,r,u,f){const h=n.eventCache;if($r(r,s)!=null)return n;{let m,_;if(ce(s))if(B(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const g=Pi(n),S=g instanceof P?g:P.EMPTY_NODE,E=Of(r,S);m=l.filter.updateFullNode(n.eventCache.getNode(),E,f)}else{const g=Jr(r,Pi(n));m=l.filter.updateFullNode(n.eventCache.getNode(),g,f)}else{const g=ae(s);if(g===".priority"){B(di(s)===1,"Can't have a priority with additional path components");const S=h.getNode();_=n.serverCache.getNode();const E=w_(r,s,S,_);E!=null?m=l.filter.updatePriority(S,E):m=h.getNode()}else{const S=De(s);let E;if(h.isCompleteForChild(g)){_=n.serverCache.getNode();const A=w_(r,s,h.getNode(),_);A!=null?E=h.getNode().getImmediateChild(g).updateChild(S,A):E=h.getNode().getImmediateChild(g)}else E=Mf(r,g,n.serverCache);E!=null?m=l.filter.updateChild(h.getNode(),g,E,S,u,f):m=h.getNode()}}return ra(n,m,h.isFullyInitialized()||ce(s),l.filter.filtersNodes())}}function eo(l,n,s,r,u,f,h,m){const _=n.serverCache;let g;const S=h?l.filter:l.filter.getIndexedFilter();if(ce(s))g=S.updateFullNode(_.getNode(),r,null);else if(S.filtersNodes()&&!_.isFiltered()){const L=_.getNode().updateChild(s,r);g=S.updateFullNode(_.getNode(),L,null)}else{const L=ae(s);if(!_.isCompleteForPath(s)&&di(s)>1)return n;const H=De(s),K=_.getNode().getImmediateChild(L).updateChild(H,r);L===".priority"?g=S.updatePriority(_.getNode(),K):g=S.updateChild(_.getNode(),L,K,H,$p,null)}const E=Fp(n,g,_.isFullyInitialized()||ce(s),S.filtersNodes()),A=new xf(u,E,f);return ey(l,E,s,u,A,m)}function rf(l,n,s,r,u,f,h){const m=n.eventCache;let _,g;const S=new xf(u,n,f);if(ce(s))g=l.filter.updateFullNode(n.eventCache.getNode(),r,h),_=ra(n,g,!0,l.filter.filtersNodes());else{const E=ae(s);if(E===".priority")g=l.filter.updatePriority(n.eventCache.getNode(),r),_=ra(n,g,m.isFullyInitialized(),m.isFiltered());else{const A=De(s),L=m.getNode().getImmediateChild(E);let H;if(ce(A))H=r;else{const W=S.getCompleteChild(E);W!=null?Bp(A)===".priority"&&W.getChild(Ip(A)).isEmpty()?H=W:H=W.updateChild(A,r):H=P.EMPTY_NODE}if(L.equals(H))_=n;else{const W=l.filter.updateChild(m.getNode(),E,H,A,S,h);_=ra(n,W,m.isFullyInitialized(),l.filter.filtersNodes())}}}return _}function R_(l,n){return l.eventCache.isCompleteForChild(n)}function JT(l,n,s,r,u,f,h){let m=n;return r.foreach((_,g)=>{const S=Ze(s,_);R_(n,ae(S))&&(m=rf(l,m,S,g,u,f,h))}),r.foreach((_,g)=>{const S=Ze(s,_);R_(n,ae(S))||(m=rf(l,m,S,g,u,f,h))}),m}function N_(l,n,s){return s.foreach((r,u)=>{n=n.updateChild(r,u)}),n}function of(l,n,s,r,u,f,h,m){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let _=n,g;ce(s)?g=r:g=new Oe(null).setTree(s,r);const S=n.serverCache.getNode();return g.children.inorderTraversal((E,A)=>{if(S.hasChild(E)){const L=n.serverCache.getNode().getImmediateChild(E),H=N_(l,L,A);_=eo(l,_,new Ae(E),H,u,f,h,m)}}),g.children.inorderTraversal((E,A)=>{const L=!n.serverCache.isCompleteForChild(E)&&A.value===null;if(!S.hasChild(E)&&!L){const H=n.serverCache.getNode().getImmediateChild(E),W=N_(l,H,A);_=eo(l,_,new Ae(E),W,u,f,h,m)}}),_}function $T(l,n,s,r,u,f,h){if($r(u,s)!=null)return n;const m=n.serverCache.isFiltered(),_=n.serverCache;if(r.value!=null){if(ce(s)&&_.isFullyInitialized()||_.isCompleteForPath(s))return eo(l,n,s,_.getNode().getChild(s),u,f,m,h);if(ce(s)){let g=new Oe(null);return _.getNode().forEachChild(Ql,(S,E)=>{g=g.set(new Ae(S),E)}),of(l,n,s,g,u,f,m,h)}else return n}else{let g=new Oe(null);return r.foreach((S,E)=>{const A=Ze(s,S);_.isCompleteForPath(A)&&(g=g.set(S,_.getNode().getChild(A)))}),of(l,n,s,g,u,f,m,h)}}function e1(l,n,s,r,u){const f=n.serverCache,h=Fp(n,f.getNode(),f.isFullyInitialized()||ce(s),f.isFiltered());return ey(l,h,s,r,$p,u)}function t1(l,n,s,r,u,f){let h;if($r(r,s)!=null)return n;{const m=new xf(r,n,u),_=n.eventCache.getNode();let g;if(ce(s)||ae(s)===".priority"){let S;if(n.serverCache.isFullyInitialized())S=Jr(r,Pi(n));else{const E=n.serverCache.getNode();B(E instanceof P,"serverChildren would be complete if leaf node"),S=Of(r,E)}S=S,g=l.filter.updateFullNode(_,S,f)}else{const S=ae(s);let E=Mf(r,S,n.serverCache);E==null&&n.serverCache.isCompleteForChild(S)&&(E=_.getImmediateChild(S)),E!=null?g=l.filter.updateChild(_,S,E,De(s),m,f):n.eventCache.getNode().hasChild(S)?g=l.filter.updateChild(_,S,P.EMPTY_NODE,De(s),m,f):g=_,g.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=Jr(r,Pi(n)),h.isLeafNode()&&(g=l.filter.updateFullNode(g,h,f)))}return h=n.serverCache.isFullyInitialized()||$r(r,ye())!=null,ra(n,g,h,l.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(n,s){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,u=new Af(r.getIndex()),f=bT(r);this.processor_=KT(f);const h=s.serverCache,m=s.eventCache,_=u.updateFullNode(P.EMPTY_NODE,h.getNode(),null),g=f.updateFullNode(P.EMPTY_NODE,m.getNode(),null),S=new Wi(_,h.isFullyInitialized(),u.filtersNodes()),E=new Wi(g,m.isFullyInitialized(),f.filtersNodes());this.viewCache_=fo(E,S),this.eventGenerator_=new NT(this.query_)}get query(){return this.query_}}function i1(l){return l.viewCache_.serverCache.getNode()}function l1(l,n){const s=Pi(l.viewCache_);return s&&(l.query._queryParams.loadsAllData()||!ce(n)&&!s.getImmediateChild(ae(n)).isEmpty())?s.getChild(n):null}function D_(l){return l.eventRegistrations_.length===0}function s1(l,n){l.eventRegistrations_.push(n)}function O_(l,n,s){const r=[];if(s){B(n==null,"A cancel should cancel all event registrations.");const u=l.query._path;l.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(s,u);h&&r.push(h)})}if(n){let u=[];for(let f=0;f<l.eventRegistrations_.length;++f){const h=l.eventRegistrations_[f];if(!h.matches(n))u.push(h);else if(n.hasAnyCallback()){u=u.concat(l.eventRegistrations_.slice(f+1));break}}l.eventRegistrations_=u}else l.eventRegistrations_=[];return r}function M_(l,n,s,r){n.type===an.MERGE&&n.source.queryId!==null&&(B(Pi(l.viewCache_),"We should always have a full cache before handling merges"),B(lf(l.viewCache_),"Missing event cache, even though we have a server cache"));const u=l.viewCache_,f=WT(l.processor_,u,n,s,r);return ZT(l.processor_,f.viewCache),B(f.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),l.viewCache_=f.viewCache,ty(l,f.changes,f.viewCache.eventCache.getNode(),null)}function a1(l,n){const s=l.viewCache_.eventCache,r=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(qe,(f,h)=>{r.push(Zl(f,h))}),s.isFullyInitialized()&&r.push(Vp(s.getNode())),ty(l,r,s.getNode(),n)}function ty(l,n,s,r){const u=r?[r]:l.eventRegistrations_;return DT(l.eventGenerator_,n,s,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to;class r1{constructor(){this.views=new Map}}function o1(l){B(!to,"__referenceConstructor has already been defined"),to=l}function u1(){return B(to,"Reference.ts has not been loaded"),to}function c1(l){return l.views.size===0}function Lf(l,n,s,r){const u=n.source.queryId;if(u!==null){const f=l.views.get(u);return B(f!=null,"SyncTree gave us an op for an invalid query."),M_(f,n,s,r)}else{let f=[];for(const h of l.views.values())f=f.concat(M_(h,n,s,r));return f}}function f1(l,n,s,r,u){const f=n._queryIdentifier,h=l.views.get(f);if(!h){let m=Jr(s,u?r:null),_=!1;m?_=!0:r instanceof P?(m=Of(s,r),_=!1):(m=P.EMPTY_NODE,_=!1);const g=fo(new Wi(m,_,!1),new Wi(r,u,!1));return new n1(n,g)}return h}function h1(l,n,s,r,u,f){const h=f1(l,n,r,u,f);return l.views.has(n._queryIdentifier)||l.views.set(n._queryIdentifier,h),s1(h,s),a1(h,s)}function d1(l,n,s,r){const u=n._queryIdentifier,f=[];let h=[];const m=mi(l);if(u==="default")for(const[_,g]of l.views.entries())h=h.concat(O_(g,s,r)),D_(g)&&(l.views.delete(_),g.query._queryParams.loadsAllData()||f.push(g.query));else{const _=l.views.get(u);_&&(h=h.concat(O_(_,s,r)),D_(_)&&(l.views.delete(u),_.query._queryParams.loadsAllData()||f.push(_.query)))}return m&&!mi(l)&&f.push(new(u1())(n._repo,n._path)),{removed:f,events:h}}function ny(l){const n=[];for(const s of l.views.values())s.query._queryParams.loadsAllData()||n.push(s);return n}function Xl(l,n){let s=null;for(const r of l.views.values())s=s||l1(r,n);return s}function iy(l,n){if(n._queryParams.loadsAllData())return ho(l);{const r=n._queryIdentifier;return l.views.get(r)}}function ly(l,n){return iy(l,n)!=null}function mi(l){return ho(l)!=null}function ho(l){for(const n of l.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let no;function m1(l){B(!no,"__referenceConstructor has already been defined"),no=l}function g1(){return B(no,"Reference.ts has not been loaded"),no}let _1=1;class x_{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Oe(null),this.pendingWriteTree_=VT(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function sy(l,n,s,r,u){return LT(l.pendingWriteTree_,n,s,r,u),u?Aa(l,new Zi(Xp(),n,s)):[]}function Xi(l,n,s=!1){const r=zT(l.pendingWriteTree_,n);if(BT(l.pendingWriteTree_,n)){let f=new Oe(null);return r.snap!=null?f=f.set(ye(),!0):Nt(r.children,h=>{f=f.set(new Ae(h),!0)}),Aa(l,new Pr(r.path,f,s))}else return[]}function mo(l,n,s){return Aa(l,new Zi(Rf(),n,s))}function p1(l,n,s){const r=Oe.fromObject(s);return Aa(l,new va(Rf(),n,r))}function y1(l,n){return Aa(l,new ya(Rf(),n))}function v1(l,n,s){const r=Bf(l,s);if(r){const u=Uf(r),f=u.path,h=u.queryId,m=Ct(f,n),_=new ya(Nf(h),m);return If(l,f,_)}else return[]}function uf(l,n,s,r,u=!1){const f=n._path,h=l.syncPointTree_.get(f);let m=[];if(h&&(n._queryIdentifier==="default"||ly(h,n))){const _=d1(h,n,s,r);c1(h)&&(l.syncPointTree_=l.syncPointTree_.remove(f));const g=_.removed;if(m=_.events,!u){const S=g.findIndex(A=>A._queryParams.loadsAllData())!==-1,E=l.syncPointTree_.findOnPath(f,(A,L)=>mi(L));if(S&&!E){const A=l.syncPointTree_.subtree(f);if(!A.isEmpty()){const L=E1(A);for(let H=0;H<L.length;++H){const W=L[H],K=W.query,Ue=oy(l,W);l.listenProvider_.startListening(ua(K),io(l,K),Ue.hashFn,Ue.onComplete)}}}!E&&g.length>0&&!r&&(S?l.listenProvider_.stopListening(ua(n),null):g.forEach(A=>{const L=l.queryToTagMap.get(go(A));l.listenProvider_.stopListening(ua(A),L)}))}T1(l,g)}return m}function S1(l,n,s,r){const u=Bf(l,r);if(u!=null){const f=Uf(u),h=f.path,m=f.queryId,_=Ct(h,n),g=new Zi(Nf(m),_,s);return If(l,h,g)}else return[]}function b1(l,n,s,r){const u=Bf(l,r);if(u){const f=Uf(u),h=f.path,m=f.queryId,_=Ct(h,n),g=Oe.fromObject(s),S=new va(Nf(m),_,g);return If(l,h,S)}else return[]}function L_(l,n,s,r=!1){const u=n._path;let f=null,h=!1;l.syncPointTree_.foreachOnPath(u,(A,L)=>{const H=Ct(A,u);f=f||Xl(L,H),h=h||mi(L)});let m=l.syncPointTree_.get(u);m?(h=h||mi(m),f=f||Xl(m,ye())):(m=new r1,l.syncPointTree_=l.syncPointTree_.set(u,m));let _;f!=null?_=!0:(_=!1,f=P.EMPTY_NODE,l.syncPointTree_.subtree(u).foreachChild((L,H)=>{const W=Xl(H,ye());W&&(f=f.updateImmediateChild(L,W))}));const g=ly(m,n);if(!g&&!n._queryParams.loadsAllData()){const A=go(n);B(!l.queryToTagMap.has(A),"View does not exist, but we have a tag");const L=C1();l.queryToTagMap.set(A,L),l.tagToQueryMap.set(L,A)}const S=Df(l.pendingWriteTree_,u);let E=h1(m,n,s,S,f,_);if(!g&&!h&&!r){const A=iy(m,n);E=E.concat(A1(l,n,A))}return E}function zf(l,n,s){const u=l.pendingWriteTree_,f=l.syncPointTree_.findOnPath(n,(h,m)=>{const _=Ct(h,n),g=Xl(m,_);if(g)return g});return Wp(u,n,f,s,!0)}function Aa(l,n){return ay(n,l.syncPointTree_,null,Df(l.pendingWriteTree_,ye()))}function ay(l,n,s,r){if(ce(l.path))return ry(l,n,s,r);{const u=n.get(ye());s==null&&u!=null&&(s=Xl(u,ye()));let f=[];const h=ae(l.path),m=l.operationForChild(h),_=n.children.get(h);if(_&&m){const g=s?s.getImmediateChild(h):null,S=Pp(r,h);f=f.concat(ay(m,_,g,S))}return u&&(f=f.concat(Lf(u,l,r,s))),f}}function ry(l,n,s,r){const u=n.get(ye());s==null&&u!=null&&(s=Xl(u,ye()));let f=[];return n.children.inorderTraversal((h,m)=>{const _=s?s.getImmediateChild(h):null,g=Pp(r,h),S=l.operationForChild(h);S&&(f=f.concat(ry(S,m,_,g)))}),u&&(f=f.concat(Lf(u,l,r,s))),f}function oy(l,n){const s=n.query,r=io(l,s);return{hashFn:()=>(i1(n)||P.EMPTY_NODE).hash(),onComplete:u=>{if(u==="ok")return r?v1(l,s._path,r):y1(l,s._path);{const f=SE(u,s);return uf(l,s,null,f)}}}}function io(l,n){const s=go(n);return l.queryToTagMap.get(s)}function go(l){return l._path.toString()+"$"+l._queryIdentifier}function Bf(l,n){return l.tagToQueryMap.get(n)}function Uf(l){const n=l.indexOf("$");return B(n!==-1&&n<l.length-1,"Bad queryKey."),{queryId:l.substr(n+1),path:new Ae(l.substr(0,n))}}function If(l,n,s){const r=l.syncPointTree_.get(n);B(r,"Missing sync point for query tag that we're tracking");const u=Df(l.pendingWriteTree_,n);return Lf(r,s,u,null)}function E1(l){return l.fold((n,s,r)=>{if(s&&mi(s))return[ho(s)];{let u=[];return s&&(u=ny(s)),Nt(r,(f,h)=>{u=u.concat(h)}),u}})}function ua(l){return l._queryParams.loadsAllData()&&!l._queryParams.isDefault()?new(g1())(l._repo,l._path):l}function T1(l,n){for(let s=0;s<n.length;++s){const r=n[s];if(!r._queryParams.loadsAllData()){const u=go(r),f=l.queryToTagMap.get(u);l.queryToTagMap.delete(u),l.tagToQueryMap.delete(f)}}}function C1(){return _1++}function A1(l,n,s){const r=n._path,u=io(l,n),f=oy(l,s),h=l.listenProvider_.startListening(ua(n),u,f.hashFn,f.onComplete),m=l.syncPointTree_.subtree(r);if(u)B(!mi(m.value),"If we're adding a query, it shouldn't be shadowed");else{const _=m.fold((g,S,E)=>{if(!ce(g)&&S&&mi(S))return[ho(S).query];{let A=[];return S&&(A=A.concat(ny(S).map(L=>L.query))),Nt(E,(L,H)=>{A=A.concat(H)}),A}});for(let g=0;g<_.length;++g){const S=_[g];l.listenProvider_.stopListening(ua(S),io(l,S))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(n){this.node_=n}getImmediateChild(n){const s=this.node_.getImmediateChild(n);return new Hf(s)}node(){return this.node_}}class kf{constructor(n,s){this.syncTree_=n,this.path_=s}getImmediateChild(n){const s=Ze(this.path_,n);return new kf(this.syncTree_,s)}node(){return zf(this.syncTree_,this.path_)}}const w1=function(l){return l=l||{},l.timestamp=l.timestamp||new Date().getTime(),l},z_=function(l,n,s){if(!l||typeof l!="object")return l;if(B(".sv"in l,"Unexpected leaf node or priority contents"),typeof l[".sv"]=="string")return R1(l[".sv"],n,s);if(typeof l[".sv"]=="object")return N1(l[".sv"],n);B(!1,"Unexpected server value: "+JSON.stringify(l,null,2))},R1=function(l,n,s){switch(l){case"timestamp":return s.timestamp;default:B(!1,"Unexpected server value: "+l)}},N1=function(l,n,s){l.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(l,null,2));const r=l.increment;typeof r!="number"&&B(!1,"Unexpected increment value: "+r);const u=n.node();if(B(u!==null&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return r;const h=u.getValue();return typeof h!="number"?r:h+r},D1=function(l,n,s,r){return jf(n,new kf(s,l),r)},uy=function(l,n,s){return jf(l,new Hf(n),s)};function jf(l,n,s){const r=l.getPriority().val(),u=z_(r,n.getImmediateChild(".priority"),s);let f;if(l.isLeafNode()){const h=l,m=z_(h.getValue(),n,s);return m!==h.getValue()||u!==h.getPriority().val()?new nt(m,ct(u)):l}else{const h=l;return f=h,u!==h.getPriority().val()&&(f=f.updatePriority(new nt(u))),h.forEachChild(qe,(m,_)=>{const g=jf(_,n.getImmediateChild(m),s);g!==_&&(f=f.updateImmediateChild(m,g))}),f}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(n="",s=null,r={children:{},childCount:0}){this.name=n,this.parent=s,this.node=r}}function Gf(l,n){let s=n instanceof Ae?n:new Ae(n),r=l,u=ae(s);for(;u!==null;){const f=Fl(r.node.children,u)||{children:{},childCount:0};r=new qf(u,r,f),s=De(s),u=ae(s)}return r}function es(l){return l.node.value}function cy(l,n){l.node.value=n,cf(l)}function fy(l){return l.node.childCount>0}function O1(l){return es(l)===void 0&&!fy(l)}function _o(l,n){Nt(l.node.children,(s,r)=>{n(new qf(s,l,r))})}function hy(l,n,s,r){s&&n(l),_o(l,u=>{hy(u,n,!0)})}function M1(l,n,s){let r=l.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function wa(l){return new Ae(l.parent===null?l.name:wa(l.parent)+"/"+l.name)}function cf(l){l.parent!==null&&x1(l.parent,l.name,l)}function x1(l,n,s){const r=O1(s),u=kn(l.node.children,n);r&&u?(delete l.node.children[n],l.node.childCount--,cf(l)):!r&&!u&&(l.node.children[n]=s.node,l.node.childCount++,cf(l))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=/[\[\].#$\/\u0000-\u001F\u007F]/,z1=/[\[\].#$\u0000-\u001F\u007F]/,Gc=10*1024*1024,dy=function(l){return typeof l=="string"&&l.length!==0&&!L1.test(l)},my=function(l){return typeof l=="string"&&l.length!==0&&!z1.test(l)},B1=function(l){return l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),my(l)},gy=function(l,n,s,r){r&&n===void 0||Yf(gf(l,"value"),n,s)},Yf=function(l,n,s){const r=s instanceof Ae?new $E(s,l):s;if(n===void 0)throw new Error(l+"contains undefined "+Vi(r));if(typeof n=="function")throw new Error(l+"contains a function "+Vi(r)+" with contents = "+n.toString());if(mp(n))throw new Error(l+"contains "+n.toString()+" "+Vi(r));if(typeof n=="string"&&n.length>Gc/3&&uo(n)>Gc)throw new Error(l+"contains a string greater than "+Gc+" utf8 bytes "+Vi(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let u=!1,f=!1;if(Nt(n,(h,m)=>{if(h===".value")u=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!dy(h)))throw new Error(l+" contains an invalid key ("+h+") "+Vi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);eT(r,h),Yf(l,m,r),tT(r)}),u&&f)throw new Error(l+' contains ".value" child '+Vi(r)+" in addition to actual children.")}},_y=function(l,n,s,r){if(!my(s))throw new Error(gf(l,n)+'was an invalid path = "'+s+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},U1=function(l,n,s,r){s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),_y(l,n,s)},py=function(l,n){if(ae(n)===".info")throw new Error(l+" failed = Can't modify data under /.info/")},I1=function(l,n){const s=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!dy(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||s.length!==0&&!B1(s))throw new Error(gf(l,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Vf(l,n){let s=null;for(let r=0;r<n.length;r++){const u=n[r],f=u.getPath();s!==null&&!Ef(f,s.path)&&(l.eventLists_.push(s),s=null),s===null&&(s={events:[],path:f}),s.events.push(u)}s&&l.eventLists_.push(s)}function yy(l,n,s){Vf(l,s),vy(l,r=>Ef(r,n))}function Hn(l,n,s){Vf(l,s),vy(l,r=>sn(r,n)||sn(n,r))}function vy(l,n){l.recursionDepth_++;let s=!0;for(let r=0;r<l.eventLists_.length;r++){const u=l.eventLists_[r];if(u){const f=u.path;n(f)?(k1(l.eventLists_[r]),l.eventLists_[r]=null):s=!1}}s&&(l.eventLists_=[]),l.recursionDepth_--}function k1(l){for(let n=0;n<l.events.length;n++){const s=l.events[n];if(s!==null){l.events[n]=null;const r=s.getEventRunner();sa&&_t("event: "+s.toString()),$l(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="repo_interrupt",q1=25;class G1{constructor(n,s,r,u){this.repoInfo_=n,this.forceRestClient_=s,this.authTokenProvider_=r,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new H1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wr(),this.transactionQueueTree_=new qf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Y1(l,n,s){if(l.stats_=Sf(l.repoInfo_),l.forceRestClient_||CE())l.server_=new Zr(l.repoInfo_,(r,u,f,h)=>{B_(l,r,u,f,h)},l.authTokenProvider_,l.appCheckProvider_),setTimeout(()=>U_(l,!0),0);else{if(typeof s<"u"&&s!==null){if(typeof s!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{lt(s)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}l.persistentConnection_=new zn(l.repoInfo_,n,(r,u,f,h)=>{B_(l,r,u,f,h)},r=>{U_(l,r)},r=>{V1(l,r)},l.authTokenProvider_,l.appCheckProvider_,s),l.server_=l.persistentConnection_}l.authTokenProvider_.addTokenChangeListener(r=>{l.server_.refreshAuthToken(r)}),l.appCheckProvider_.addTokenChangeListener(r=>{l.server_.refreshAppCheckToken(r.token)}),l.statsReporter_=DE(l.repoInfo_,()=>new RT(l.stats_,l.server_)),l.infoData_=new ET,l.infoSyncTree_=new x_({startListening:(r,u,f,h)=>{let m=[];const _=l.infoData_.getNode(r._path);return _.isEmpty()||(m=mo(l.infoSyncTree_,r._path,_),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),Xf(l,"connected",!1),l.serverSyncTree_=new x_({startListening:(r,u,f,h)=>(l.server_.listen(r,f,u,(m,_)=>{const g=h(m,_);Hn(l.eventQueue_,r._path,g)}),[]),stopListening:(r,u)=>{l.server_.unlisten(r,u)}})}function Sy(l){const s=l.infoData_.getNode(new Ae(".info/serverTimeOffset")).val()||0;return new Date().getTime()+s}function Qf(l){return w1({timestamp:Sy(l)})}function B_(l,n,s,r,u){l.dataUpdateCount++;const f=new Ae(n);s=l.interceptServerDataCallback_?l.interceptServerDataCallback_(n,s):s;let h=[];if(u)if(r){const _=Vr(s,g=>ct(g));h=b1(l.serverSyncTree_,f,_,u)}else{const _=ct(s);h=S1(l.serverSyncTree_,f,_,u)}else if(r){const _=Vr(s,g=>ct(g));h=p1(l.serverSyncTree_,f,_)}else{const _=ct(s);h=mo(l.serverSyncTree_,f,_)}let m=f;h.length>0&&(m=po(l,f)),Hn(l.eventQueue_,m,h)}function U_(l,n){Xf(l,"connected",n),n===!1&&X1(l)}function V1(l,n){Nt(n,(s,r)=>{Xf(l,s,r)})}function Xf(l,n,s){const r=new Ae("/.info/"+n),u=ct(s);l.infoData_.updateSnapshot(r,u);const f=mo(l.infoSyncTree_,r,u);Hn(l.eventQueue_,r,f)}function by(l){return l.nextWriteId_++}function Q1(l,n,s,r,u){Ff(l,"set",{path:n.toString(),value:s,priority:r});const f=Qf(l),h=ct(s,r),m=zf(l.serverSyncTree_,n),_=uy(h,m,f),g=by(l),S=sy(l.serverSyncTree_,n,_,g,!0);Vf(l.eventQueue_,S),l.server_.put(n.toString(),h.val(!0),(A,L)=>{const H=A==="ok";H||wt("set at "+n+" failed: "+A);const W=Xi(l.serverSyncTree_,g,!H);Hn(l.eventQueue_,n,W),Z1(l,u,A,L)});const E=wy(l,n);po(l,E),Hn(l.eventQueue_,E,[])}function X1(l){Ff(l,"onDisconnectEvents");const n=Qf(l),s=Wr();nf(l.onDisconnect_,ye(),(u,f)=>{const h=D1(u,f,l.serverSyncTree_,n);Qp(s,u,h)});let r=[];nf(s,ye(),(u,f)=>{r=r.concat(mo(l.serverSyncTree_,u,f));const h=wy(l,u);po(l,h)}),l.onDisconnect_=Wr(),Hn(l.eventQueue_,ye(),r)}function F1(l,n,s){let r;ae(n._path)===".info"?r=L_(l.infoSyncTree_,n,s):r=L_(l.serverSyncTree_,n,s),yy(l.eventQueue_,n._path,r)}function I_(l,n,s){let r;ae(n._path)===".info"?r=uf(l.infoSyncTree_,n,s):r=uf(l.serverSyncTree_,n,s),yy(l.eventQueue_,n._path,r)}function K1(l){l.persistentConnection_&&l.persistentConnection_.interrupt(j1)}function Ff(l,...n){let s="";l.persistentConnection_&&(s=l.persistentConnection_.id+":"),_t(s,...n)}function Z1(l,n,s,r){n&&$l(()=>{if(s==="ok")n(null);else{const u=(s||"error").toUpperCase();let f=u;r&&(f+=": "+r);const h=new Error(f);h.code=u,n(h)}})}function Ey(l,n,s){return zf(l.serverSyncTree_,n,s)||P.EMPTY_NODE}function Kf(l,n=l.transactionQueueTree_){if(n||yo(l,n),es(n)){const s=Cy(l,n);B(s.length>0,"Sending zero length transaction queue"),s.every(u=>u.status===0)&&W1(l,wa(n),s)}else fy(n)&&_o(n,s=>{Kf(l,s)})}function W1(l,n,s){const r=s.map(g=>g.currentWriteId),u=Ey(l,n,r);let f=u;const h=u.hash();for(let g=0;g<s.length;g++){const S=s[g];B(S.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const E=Ct(n,S.path);f=f.updateChild(E,S.currentOutputSnapshotRaw)}const m=f.val(!0),_=n;l.server_.put(_.toString(),m,g=>{Ff(l,"transaction put response",{path:_.toString(),status:g});let S=[];if(g==="ok"){const E=[];for(let A=0;A<s.length;A++)s[A].status=2,S=S.concat(Xi(l.serverSyncTree_,s[A].currentWriteId)),s[A].onComplete&&E.push(()=>s[A].onComplete(null,!0,s[A].currentOutputSnapshotResolved)),s[A].unwatcher();yo(l,Gf(l.transactionQueueTree_,n)),Kf(l,l.transactionQueueTree_),Hn(l.eventQueue_,n,S);for(let A=0;A<E.length;A++)$l(E[A])}else{if(g==="datastale")for(let E=0;E<s.length;E++)s[E].status===3?s[E].status=4:s[E].status=0;else{wt("transaction at "+_.toString()+" failed: "+g);for(let E=0;E<s.length;E++)s[E].status=4,s[E].abortReason=g}po(l,n)}},h)}function po(l,n){const s=Ty(l,n),r=wa(s),u=Cy(l,s);return P1(l,u,r),r}function P1(l,n,s){if(n.length===0)return;const r=[];let u=[];const h=n.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<n.length;m++){const _=n[m],g=Ct(s,_.path);let S=!1,E;if(B(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),_.status===4)S=!0,E=_.abortReason,u=u.concat(Xi(l.serverSyncTree_,_.currentWriteId,!0));else if(_.status===0)if(_.retryCount>=q1)S=!0,E="maxretry",u=u.concat(Xi(l.serverSyncTree_,_.currentWriteId,!0));else{const A=Ey(l,_.path,h);_.currentInputSnapshot=A;const L=n[m].update(A.val());if(L!==void 0){Yf("transaction failed: Data returned ",L,_.path);let H=ct(L);typeof L=="object"&&L!=null&&kn(L,".priority")||(H=H.updatePriority(A.getPriority()));const K=_.currentWriteId,Ue=Qf(l),Ie=uy(H,A,Ue);_.currentOutputSnapshotRaw=H,_.currentOutputSnapshotResolved=Ie,_.currentWriteId=by(l),h.splice(h.indexOf(K),1),u=u.concat(sy(l.serverSyncTree_,_.path,Ie,_.currentWriteId,_.applyLocally)),u=u.concat(Xi(l.serverSyncTree_,K,!0))}else S=!0,E="nodata",u=u.concat(Xi(l.serverSyncTree_,_.currentWriteId,!0))}Hn(l.eventQueue_,s,u),u=[],S&&(n[m].status=2,function(A){setTimeout(A,Math.floor(0))}(n[m].unwatcher),n[m].onComplete&&(E==="nodata"?r.push(()=>n[m].onComplete(null,!1,n[m].currentInputSnapshot)):r.push(()=>n[m].onComplete(new Error(E),!1,null))))}yo(l,l.transactionQueueTree_);for(let m=0;m<r.length;m++)$l(r[m]);Kf(l,l.transactionQueueTree_)}function Ty(l,n){let s,r=l.transactionQueueTree_;for(s=ae(n);s!==null&&es(r)===void 0;)r=Gf(r,s),n=De(n),s=ae(n);return r}function Cy(l,n){const s=[];return Ay(l,n,s),s.sort((r,u)=>r.order-u.order),s}function Ay(l,n,s){const r=es(n);if(r)for(let u=0;u<r.length;u++)s.push(r[u]);_o(n,u=>{Ay(l,u,s)})}function yo(l,n){const s=es(n);if(s){let r=0;for(let u=0;u<s.length;u++)s[u].status!==2&&(s[r]=s[u],r++);s.length=r,cy(n,s.length>0?s:void 0)}_o(n,r=>{yo(l,r)})}function wy(l,n){const s=wa(Ty(l,n)),r=Gf(l.transactionQueueTree_,n);return M1(r,u=>{Yc(l,u)}),Yc(l,r),hy(r,u=>{Yc(l,u)}),s}function Yc(l,n){const s=es(n);if(s){const r=[];let u=[],f=-1;for(let h=0;h<s.length;h++)s[h].status===3||(s[h].status===1?(B(f===h-1,"All SENT items should be at beginning of queue."),f=h,s[h].status=3,s[h].abortReason="set"):(B(s[h].status===0,"Unexpected transaction status in abort"),s[h].unwatcher(),u=u.concat(Xi(l.serverSyncTree_,s[h].currentWriteId,!0)),s[h].onComplete&&r.push(s[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?cy(n,void 0):s.length=f+1,Hn(l.eventQueue_,wa(n),u);for(let h=0;h<r.length;h++)$l(r[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(l){let n="";const s=l.split("/");for(let r=0;r<s.length;r++)if(s[r].length>0){let u=s[r];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}n+="/"+u}return n}function $1(l){const n={};l.charAt(0)==="?"&&(l=l.substring(1));for(const s of l.split("&")){if(s.length===0)continue;const r=s.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):wt(`Invalid query segment '${s}' in query '${l}'`)}return n}const H_=function(l,n){const s=eC(l),r=s.namespace;s.domain==="firebase.com"&&In(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&s.domain!=="localhost"&&In("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||gE();const u=s.scheme==="ws"||s.scheme==="wss";return{repoInfo:new wp(s.host,s.secure,r,u,n,"",r!==s.subdomain),path:new Ae(s.pathString)}},eC=function(l){let n="",s="",r="",u="",f="",h=!0,m="https",_=443;if(typeof l=="string"){let g=l.indexOf("//");g>=0&&(m=l.substring(0,g-1),l=l.substring(g+2));let S=l.indexOf("/");S===-1&&(S=l.length);let E=l.indexOf("?");E===-1&&(E=l.length),n=l.substring(0,Math.min(S,E)),S<E&&(u=J1(l.substring(S,E)));const A=$1(l.substring(Math.min(l.length,E)));g=n.indexOf(":"),g>=0?(h=m==="https"||m==="wss",_=parseInt(n.substring(g+1),10)):g=n.length;const L=n.slice(0,g);if(L.toLowerCase()==="localhost")s="localhost";else if(L.split(".").length<=2)s=L;else{const H=n.indexOf(".");r=n.substring(0,H).toLowerCase(),s=n.substring(H+1),f=r}"ns"in A&&(f=A.ns)}return{host:n,port:_,domain:s,subdomain:r,secure:h,scheme:m,pathString:u,namespace:f}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",tC=function(){let l=0;const n=[];return function(s){const r=s===l;l=s;let u;const f=new Array(8);for(u=7;u>=0;u--)f[u]=k_.charAt(s%64),s=Math.floor(s/64);B(s===0,"Cannot push at time == 0");let h=f.join("");if(r){for(u=11;u>=0&&n[u]===63;u--)n[u]=0;n[u]++}else for(u=0;u<12;u++)n[u]=Math.floor(Math.random()*64);for(u=0;u<12;u++)h+=k_.charAt(n[u]);return B(h.length===20,"nextPushId: Length should be 20."),h}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(n,s,r,u){this.eventType=n,this.eventRegistration=s,this.snapshot=r,this.prevName=u}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+lt(this.snapshot.exportVal())}}class iC{constructor(n,s,r){this.eventRegistration=n,this.error=s,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(n,s){this.snapshotCallback=n,this.cancelCallback=s}onValue(n,s){this.snapshotCallback.call(null,n,s)}onCancel(n){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(n,s,r,u){this._repo=n,this._path=s,this._queryParams=r,this._orderByCalled=u}get key(){return ce(this._path)?null:Bp(this._path)}get ref(){return new _i(this._repo,this._path)}get _queryIdentifier(){const n=b_(this._queryParams),s=yf(n);return s==="{}"?"default":s}get _queryObject(){return b_(this._queryParams)}isEqual(n){if(n=gi(n),!(n instanceof Zf))return!1;const s=this._repo===n._repo,r=Ef(this._path,n._path),u=this._queryIdentifier===n._queryIdentifier;return s&&r&&u}toJSON(){return this.toString()}toString(){return this._repo.toString()+JE(this._path)}}class _i extends Zf{constructor(n,s){super(n,s,new wf,!1)}get parent(){const n=Ip(this._path);return n===null?null:new _i(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class lo{constructor(n,s,r){this._node=n,this.ref=s,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const s=new Ae(n),r=Sa(this.ref,n);return new lo(this._node.getChild(s),r,qe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,u)=>n(new lo(u,Sa(this.ref,r),qe)))}hasChild(n){const s=new Ae(n);return!this._node.getChild(s).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ry(l,n){return l=gi(l),l._checkNotDeleted("ref"),Sa(l._root,n)}function Sa(l,n){return l=gi(l),ae(l._path)===null?U1("child","path",n):_y("child","path",n),new _i(l._repo,Ze(l._path,n))}function sC(l,n){l=gi(l),py("push",l._path),gy("push",n,l._path,!0);const s=Sy(l._repo),r=tC(s),u=Sa(l,r),f=Sa(l,r);let h;return h=Promise.resolve(f),u.then=h.then.bind(h),u.catch=h.then.bind(h,void 0),u}function aC(l,n){l=gi(l),py("set",l._path),gy("set",n,l._path,!1);const s=new ro;return Q1(l._repo,l._path,n,null,s.wrapCallback(()=>{})),s.promise}class Wf{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,s){const r=s._queryParams.getIndex();return new nC("value",this,new lo(n.snapshotNode,new _i(s._repo,s._path),r))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,s){return this.callbackContext.hasCancelCallback?new iC(this,n,s):null}matches(n){return n instanceof Wf?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function rC(l,n,s,r,u){let f;if(typeof r=="object"&&(f=void 0,u=r),typeof r=="function"&&(f=r),u&&u.onlyOnce){const _=s,g=(S,E)=>{I_(l._repo,l,m),_(S,E)};g.userCallback=s.userCallback,g.context=s.context,s=g}const h=new lC(s,f||void 0),m=new Wf(h);return F1(l._repo,l,m),()=>I_(l._repo,l,m)}function oC(l,n,s,r){return rC(l,"value",n,s,r)}o1(_i);m1(_i);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="FIREBASE_DATABASE_EMULATOR_HOST",ff={};let cC=!1;function fC(l,n,s,r){l.repoInfo_=new wp(n,!1,l.repoInfo_.namespace,l.repoInfo_.webSocketOnly,l.repoInfo_.nodeAdmin,l.repoInfo_.persistenceKey,l.repoInfo_.includeNamespaceInQueryParams,!0,s),r&&(l.authTokenProvider_=r)}function hC(l,n,s,r,u){let f=r||l.options.databaseURL;f===void 0&&(l.options.projectId||In("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_t("Using default host for project ",l.options.projectId),f=`${l.options.projectId}-default-rtdb.firebaseio.com`);let h=H_(f,u),m=h.repoInfo,_;typeof process<"u"&&i_&&(_=i_[uC]),_?(f=`http://${_}?ns=${m.namespace}`,h=H_(f,u),m=h.repoInfo):h.repoInfo.secure;const g=new wE(l.name,l.options,n);I1("Invalid Firebase Database URL",h),ce(h.path)||In("Database URL must point to the root of a Firebase Database (not including a child path).");const S=mC(m,l,g,new AE(l,s));return new gC(S,l)}function dC(l,n){const s=ff[n];(!s||s[l.key]!==l)&&In(`Database ${n}(${l.repoInfo_}) has already been deleted.`),K1(l),delete s[l.key]}function mC(l,n,s,r){let u=ff[n.name];u||(u={},ff[n.name]=u);let f=u[l.toURLString()];return f&&In("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new G1(l,cC,s,r),u[l.toURLString()]=f,f}class gC{constructor(n,s){this._repoInternal=n,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Y1(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new _i(this._repo,ye())),this._rootInternal}_delete(){return this._rootInternal!==null&&(dC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&In("Cannot call "+n+" on a deleted database.")}}function _C(l=op(),n){const s=ba(l,"database").getImmediate({identifier:n});if(!s._instanceStarted){const r=LS("database");r&&pC(s,...r)}return s}function pC(l,n,s,r={}){l=gi(l),l._checkNotDeleted("useEmulator");const u=`${n}:${s}`,f=l._repoInternal;if(l._instanceStarted){if(u===l._repoInternal.repoInfo_.host&&ha(r,f.repoInfo_.emulatorOptions))return;In("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)r.mockUserToken&&In('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Gr(Gr.OWNER);else if(r.mockUserToken){const m=typeof r.mockUserToken=="string"?r.mockUserToken:zS(r.mockUserToken,l.app.options.projectId);h=new Gr(m)}fC(f,u,r,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(l){uE(Wb),hi(new Bn("database",(n,{instanceIdentifier:s})=>{const r=n.getProvider("app").getImmediate(),u=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return hC(r,u,f,s)},"PUBLIC").setMultipleInstances(!0)),mn(l_,s_,l),mn(l_,s_,"esm2017")}zn.prototype.simpleListen=function(l,n){this.sendRequest("q",{p:l},n)};zn.prototype.echo=function(l,n){this.sendRequest("echo",{d:l},n)};yC();const Ny="@firebase/installations",Pf="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=1e4,Oy=`w:${Pf}`,My="FIS_v2",vC="https://firebaseinstallations.googleapis.com/v1",SC=60*60*1e3,bC="installations",EC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ji=new oo(bC,EC,TC);function xy(l){return l instanceof el&&l.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly({projectId:l}){return`${vC}/projects/${l}/installations`}function zy(l){return{token:l.token,requestStatus:2,expiresIn:AC(l.expiresIn),creationTime:Date.now()}}async function By(l,n){const r=(await n.json()).error;return Ji.create("request-failed",{requestName:l,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Uy({apiKey:l}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":l})}function CC(l,{refreshToken:n}){const s=Uy(l);return s.append("Authorization",wC(n)),s}async function Iy(l){const n=await l();return n.status>=500&&n.status<600?l():n}function AC(l){return Number(l.replace("s","000"))}function wC(l){return`${My} ${l}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC({appConfig:l,heartbeatServiceProvider:n},{fid:s}){const r=Ly(l),u=Uy(l),f=n.getImmediate({optional:!0});if(f){const g=await f.getHeartbeatsHeader();g&&u.append("x-firebase-client",g)}const h={fid:s,authVersion:My,appId:l.appId,sdkVersion:Oy},m={method:"POST",headers:u,body:JSON.stringify(h)},_=await Iy(()=>fetch(r,m));if(_.ok){const g=await _.json();return{fid:g.fid||s,registrationStatus:2,refreshToken:g.refreshToken,authToken:zy(g.authToken)}}else throw await By("Create Installation",_)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(l){return new Promise(n=>{setTimeout(n,l)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(l){return btoa(String.fromCharCode(...l)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=/^[cdef][\w-]{21}$/,hf="";function OC(){try{const l=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(l),l[0]=112+l[0]%16;const s=MC(l);return DC.test(s)?s:hf}catch{return hf}}function MC(l){return NC(l).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(l){return`${l.appName}!${l.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=new Map;function jy(l,n){const s=vo(l);qy(s,n),xC(s,n)}function qy(l,n){const s=ky.get(l);if(s)for(const r of s)r(n)}function xC(l,n){const s=LC();s&&s.postMessage({key:l,fid:n}),zC()}let Fi=null;function LC(){return!Fi&&"BroadcastChannel"in self&&(Fi=new BroadcastChannel("[Firebase] FID Change"),Fi.onmessage=l=>{qy(l.data.key,l.data.fid)}),Fi}function zC(){ky.size===0&&Fi&&(Fi.close(),Fi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="firebase-installations-database",UC=1,$i="firebase-installations-store";let Vc=null;function Jf(){return Vc||(Vc=ap(BC,UC,{upgrade:(l,n)=>{switch(n){case 0:l.createObjectStore($i)}}})),Vc}async function so(l,n){const s=vo(l),u=(await Jf()).transaction($i,"readwrite"),f=u.objectStore($i),h=await f.get(s);return await f.put(n,s),await u.done,(!h||h.fid!==n.fid)&&jy(l,n.fid),n}async function Gy(l){const n=vo(l),r=(await Jf()).transaction($i,"readwrite");await r.objectStore($i).delete(n),await r.done}async function So(l,n){const s=vo(l),u=(await Jf()).transaction($i,"readwrite"),f=u.objectStore($i),h=await f.get(s),m=n(h);return m===void 0?await f.delete(s):await f.put(m,s),await u.done,m&&(!h||h.fid!==m.fid)&&jy(l,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $f(l){let n;const s=await So(l.appConfig,r=>{const u=IC(r),f=HC(l,u);return n=f.registrationPromise,f.installationEntry});return s.fid===hf?{installationEntry:await n}:{installationEntry:s,registrationPromise:n}}function IC(l){const n=l||{fid:OC(),registrationStatus:0};return Yy(n)}function HC(l,n){if(n.registrationStatus===0){if(!navigator.onLine){const u=Promise.reject(Ji.create("app-offline"));return{installationEntry:n,registrationPromise:u}}const s={fid:n.fid,registrationStatus:1,registrationTime:Date.now()},r=kC(l,s);return{installationEntry:s,registrationPromise:r}}else return n.registrationStatus===1?{installationEntry:n,registrationPromise:jC(l)}:{installationEntry:n}}async function kC(l,n){try{const s=await RC(l,n);return so(l.appConfig,s)}catch(s){throw xy(s)&&s.customData.serverCode===409?await Gy(l.appConfig):await so(l.appConfig,{fid:n.fid,registrationStatus:0}),s}}async function jC(l){let n=await j_(l.appConfig);for(;n.registrationStatus===1;)await Hy(100),n=await j_(l.appConfig);if(n.registrationStatus===0){const{installationEntry:s,registrationPromise:r}=await $f(l);return r||s}return n}function j_(l){return So(l,n=>{if(!n)throw Ji.create("installation-not-found");return Yy(n)})}function Yy(l){return qC(l)?{fid:l.fid,registrationStatus:0}:l}function qC(l){return l.registrationStatus===1&&l.registrationTime+Dy<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC({appConfig:l,heartbeatServiceProvider:n},s){const r=YC(l,s),u=CC(l,s),f=n.getImmediate({optional:!0});if(f){const g=await f.getHeartbeatsHeader();g&&u.append("x-firebase-client",g)}const h={installation:{sdkVersion:Oy,appId:l.appId}},m={method:"POST",headers:u,body:JSON.stringify(h)},_=await Iy(()=>fetch(r,m));if(_.ok){const g=await _.json();return zy(g)}else throw await By("Generate Auth Token",_)}function YC(l,{fid:n}){return`${Ly(l)}/${n}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(l,n=!1){let s;const r=await So(l.appConfig,f=>{if(!Vy(f))throw Ji.create("not-registered");const h=f.authToken;if(!n&&XC(h))return f;if(h.requestStatus===1)return s=VC(l,n),f;{if(!navigator.onLine)throw Ji.create("app-offline");const m=KC(f);return s=QC(l,m),m}});return s?await s:r.authToken}async function VC(l,n){let s=await q_(l.appConfig);for(;s.authToken.requestStatus===1;)await Hy(100),s=await q_(l.appConfig);const r=s.authToken;return r.requestStatus===0?eh(l,n):r}function q_(l){return So(l,n=>{if(!Vy(n))throw Ji.create("not-registered");const s=n.authToken;return ZC(s)?Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}):n})}async function QC(l,n){try{const s=await GC(l,n),r=Object.assign(Object.assign({},n),{authToken:s});return await so(l.appConfig,r),s}catch(s){if(xy(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await Gy(l.appConfig);else{const r=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}});await so(l.appConfig,r)}throw s}}function Vy(l){return l!==void 0&&l.registrationStatus===2}function XC(l){return l.requestStatus===2&&!FC(l)}function FC(l){const n=Date.now();return n<l.creationTime||l.creationTime+l.expiresIn<n+SC}function KC(l){const n={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},l),{authToken:n})}function ZC(l){return l.requestStatus===1&&l.requestTime+Dy<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(l){const n=l,{installationEntry:s,registrationPromise:r}=await $f(n);return r?r.catch(console.error):eh(n).catch(console.error),s.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(l,n=!1){const s=l;return await JC(s),(await eh(s,n)).token}async function JC(l){const{registrationPromise:n}=await $f(l);n&&await n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(l){if(!l||!l.options)throw Qc("App Configuration");if(!l.name)throw Qc("App Name");const n=["projectId","apiKey","appId"];for(const s of n)if(!l.options[s])throw Qc(s);return{appName:l.name,projectId:l.options.projectId,apiKey:l.options.apiKey,appId:l.options.appId}}function Qc(l){return Ji.create("missing-app-config-values",{valueName:l})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="installations",eA="installations-internal",tA=l=>{const n=l.getProvider("app").getImmediate(),s=$C(n),r=ba(n,"heartbeat");return{app:n,appConfig:s,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},nA=l=>{const n=l.getProvider("app").getImmediate(),s=ba(n,Qy).getImmediate();return{getId:()=>WC(s),getToken:u=>PC(s,u)}};function iA(){hi(new Bn(Qy,tA,"PUBLIC")),hi(new Bn(eA,nA,"PRIVATE"))}iA();mn(Ny,Pf);mn(Ny,Pf,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="analytics",lA="firebase_id",sA="origin",aA=60*1e3,rA="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",th="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt=new _f("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ht=new oo("analytics","Analytics",oA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(l){if(!l.startsWith(th)){const n=Ht.create("invalid-gtag-resource",{gtagURL:l});return Rt.warn(n.message),""}return l}function Xy(l){return Promise.all(l.map(n=>n.catch(s=>s)))}function cA(l,n){let s;return window.trustedTypes&&(s=window.trustedTypes.createPolicy(l,n)),s}function fA(l,n){const s=cA("firebase-js-sdk-policy",{createScriptURL:uA}),r=document.createElement("script"),u=`${th}?l=${l}&id=${n}`;r.src=s?s==null?void 0:s.createScriptURL(u):u,r.async=!0,document.head.appendChild(r)}function hA(l){let n=[];return Array.isArray(window[l])?n=window[l]:window[l]=n,n}async function dA(l,n,s,r,u,f){const h=r[u];try{if(h)await n[h];else{const _=(await Xy(s)).find(g=>g.measurementId===u);_&&await n[_.appId]}}catch(m){Rt.error(m)}l("config",u,f)}async function mA(l,n,s,r,u){try{let f=[];if(u&&u.send_to){let h=u.send_to;Array.isArray(h)||(h=[h]);const m=await Xy(s);for(const _ of h){const g=m.find(E=>E.measurementId===_),S=g&&n[g.appId];if(S)f.push(S);else{f=[];break}}}f.length===0&&(f=Object.values(n)),await Promise.all(f),l("event",r,u||{})}catch(f){Rt.error(f)}}function gA(l,n,s,r){async function u(f,...h){try{if(f==="event"){const[m,_]=h;await mA(l,n,s,m,_)}else if(f==="config"){const[m,_]=h;await dA(l,n,s,r,m,_)}else if(f==="consent"){const[m,_]=h;l("consent",m,_)}else if(f==="get"){const[m,_,g]=h;l("get",m,_,g)}else if(f==="set"){const[m]=h;l("set",m)}else l(f,...h)}catch(m){Rt.error(m)}}return u}function _A(l,n,s,r,u){let f=function(...h){window[r].push(arguments)};return window[u]&&typeof window[u]=="function"&&(f=window[u]),window[u]=gA(f,l,n,s),{gtagCore:f,wrappedGtag:window[u]}}function pA(l){const n=window.document.getElementsByTagName("script");for(const s of Object.values(n))if(s.src&&s.src.includes(th)&&s.src.includes(l))return s;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=30,vA=1e3;class SA{constructor(n={},s=vA){this.throttleMetadata=n,this.intervalMillis=s}getThrottleMetadata(n){return this.throttleMetadata[n]}setThrottleMetadata(n,s){this.throttleMetadata[n]=s}deleteThrottleMetadata(n){delete this.throttleMetadata[n]}}const Fy=new SA;function bA(l){return new Headers({Accept:"application/json","x-goog-api-key":l})}async function EA(l){var n;const{appId:s,apiKey:r}=l,u={method:"GET",headers:bA(r)},f=rA.replace("{app-id}",s),h=await fetch(f,u);if(h.status!==200&&h.status!==304){let m="";try{const _=await h.json();!((n=_.error)===null||n===void 0)&&n.message&&(m=_.error.message)}catch{}throw Ht.create("config-fetch-failed",{httpStatus:h.status,responseMessage:m})}return h.json()}async function TA(l,n=Fy,s){const{appId:r,apiKey:u,measurementId:f}=l.options;if(!r)throw Ht.create("no-app-id");if(!u){if(f)return{measurementId:f,appId:r};throw Ht.create("no-api-key")}const h=n.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new wA;return setTimeout(async()=>{m.abort()},aA),Ky({appId:r,apiKey:u,measurementId:f},h,m,n)}async function Ky(l,{throttleEndTimeMillis:n,backoffCount:s},r,u=Fy){var f;const{appId:h,measurementId:m}=l;try{await CA(r,n)}catch(_){if(m)return Rt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:h,measurementId:m};throw _}try{const _=await EA(l);return u.deleteThrottleMetadata(h),_}catch(_){const g=_;if(!AA(g)){if(u.deleteThrottleMetadata(h),m)return Rt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:m};throw _}const S=Number((f=g==null?void 0:g.customData)===null||f===void 0?void 0:f.httpStatus)===503?Kg(s,u.intervalMillis,yA):Kg(s,u.intervalMillis),E={throttleEndTimeMillis:Date.now()+S,backoffCount:s+1};return u.setThrottleMetadata(h,E),Rt.debug(`Calling attemptFetch again in ${S} millis`),Ky(l,E,r,u)}}function CA(l,n){return new Promise((s,r)=>{const u=Math.max(n-Date.now(),0),f=setTimeout(s,u);l.addEventListener(()=>{clearTimeout(f),r(Ht.create("fetch-throttle",{throttleEndTimeMillis:n}))})})}function AA(l){if(!(l instanceof el)||!l.customData)return!1;const n=Number(l.customData.httpStatus);return n===429||n===500||n===503||n===504}class wA{constructor(){this.listeners=[]}addEventListener(n){this.listeners.push(n)}abort(){this.listeners.forEach(n=>n())}}async function RA(l,n,s,r,u){if(u&&u.global){l("event",s,r);return}else{const f=await n,h=Object.assign(Object.assign({},r),{send_to:f});l("event",s,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NA(){if(tp())try{await np()}catch(l){return Rt.warn(Ht.create("indexeddb-unavailable",{errorInfo:l==null?void 0:l.toString()}).message),!1}else return Rt.warn(Ht.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function DA(l,n,s,r,u,f,h){var m;const _=TA(l);_.then(L=>{s[L.measurementId]=L.appId,l.options.measurementId&&L.measurementId!==l.options.measurementId&&Rt.warn(`The measurement ID in the local Firebase config (${l.options.measurementId}) does not match the measurement ID fetched from the server (${L.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(L=>Rt.error(L)),n.push(_);const g=NA().then(L=>{if(L)return r.getId()}),[S,E]=await Promise.all([_,g]);pA(f)||fA(f,S.measurementId),u("js",new Date);const A=(m=h==null?void 0:h.config)!==null&&m!==void 0?m:{};return A[sA]="firebase",A.update=!0,E!=null&&(A[lA]=E),u("config",S.measurementId,A),S.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(n){this.app=n}_delete(){return delete ca[this.app.options.appId],Promise.resolve()}}let ca={},G_=[];const Y_={};let Xc="dataLayer",MA="gtag",V_,Zy,Q_=!1;function xA(){const l=[];if(US()&&l.push("This is a browser extension environment."),kS()||l.push("Cookies are not available."),l.length>0){const n=l.map((r,u)=>`(${u+1}) ${r}`).join(" "),s=Ht.create("invalid-analytics-context",{errorInfo:n});Rt.warn(s.message)}}function LA(l,n,s){xA();const r=l.options.appId;if(!r)throw Ht.create("no-app-id");if(!l.options.apiKey)if(l.options.measurementId)Rt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${l.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ht.create("no-api-key");if(ca[r]!=null)throw Ht.create("already-exists",{id:r});if(!Q_){hA(Xc);const{wrappedGtag:f,gtagCore:h}=_A(ca,G_,Y_,Xc,MA);Zy=f,V_=h,Q_=!0}return ca[r]=DA(l,G_,Y_,n,V_,Xc,s),new OA(l)}function zA(l=op()){l=gi(l);const n=ba(l,ao);return n.isInitialized()?n.getImmediate():BA(l)}function BA(l,n={}){const s=ba(l,ao);if(s.isInitialized()){const u=s.getImmediate();if(ha(n,s.getOptions()))return u;throw Ht.create("already-initialized")}return s.initialize({options:n})}function UA(l,n,s,r){l=gi(l),RA(Zy,ca[l.app.options.appId],n,s,r).catch(u=>Rt.error(u))}const X_="@firebase/analytics",F_="0.10.12";function IA(){hi(new Bn(ao,(n,{options:s})=>{const r=n.getProvider("app").getImmediate(),u=n.getProvider("installations-internal").getImmediate();return LA(r,u,s)},"PUBLIC")),hi(new Bn("analytics-internal",l,"PRIVATE")),mn(X_,F_),mn(X_,F_,"esm2017");function l(n){try{const s=n.getProvider(ao).getImmediate();return{logEvent:(r,u,f)=>UA(s,r,u,f)}}catch(s){throw Ht.create("interop-component-reg-failed",{reason:s})}}}IA();const HA={apiKey:"AIzaSyAq6Kd0c9z_x3Z96AFnEL7iK-nizFKMY1o",authDomain:"crown-invitational.firebaseapp.com",databaseURL:"https://crown-invitational-default-rtdb.firebaseio.com",projectId:"crown-invitational",storageBucket:"crown-invitational.firebasestorage.app",messagingSenderId:"502730869948",appId:"1:502730869948:web:6d6dae6990b2419cd214b9",measurementId:"G-YBZT950GXH"},Wy=rp(HA);zA(Wy);const Py=_C(Wy),Gi=({match:l,round:n,onSelectWinner:s})=>x.jsxs("div",{className:"match",children:[x.jsxs("button",{onClick:()=>s(n,l.id,l.teamA),style:{backgroundColor:l.teamA&&l.winner===l.teamA?"green":l.teamA&&l.winner&&l.winner!==l.teamA?"red":"white",color:l.teamA&&l.winner===l.teamA||l.teamA&&l.winner&&l.winner!==l.teamA?"white":"black",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",padding:"8px"},children:[l.teamALogo&&x.jsx("img",{src:l.teamALogo,alt:`${l.teamA} logo`,style:{width:"20px",height:"20px",marginRight:"5px"}}),l.teamA||"-"]}),x.jsx("span",{children:" vs "}),x.jsxs("button",{onClick:()=>s(n,l.id,l.teamB),style:{backgroundColor:l.teamB&&l.winner===l.teamB?"green":l.teamB&&l.winner&&l.winner!==l.teamB?"red":"white",color:l.teamB&&l.winner===l.teamB||l.teamB&&l.winner&&l.winner!==l.teamB?"white":"black",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",padding:"8px"},children:[l.teamBLogo&&x.jsx("img",{src:l.teamBLogo,alt:`${l.teamB} logo`,style:{width:"20px",height:"20px",marginRight:"5px"}}),l.teamB||"-"]})]}),kA=({onClose:l})=>{const[n,s]=Pt.useState([]),[r,u]=Pt.useState(!0),[f,h]=Pt.useState(null),[m,_]=Pt.useState(!1);Pt.useEffect(()=>{const S=Ry(Py,"brackets"),E=oC(S,A=>{const L=A.val();if(L){const H=Object.entries(L).map(([W,K])=>({id:W,...K})).sort((W,K)=>new Date(K.submittedAt)-new Date(W.submittedAt));s(H)}u(!1)},A=>{console.error("Error fetching submissions:",A),u(!1)});return()=>E()},[]);const g=S=>{const E=[{key:"round1",title:"Round 1"},{key:"round2",title:"Round 2"},{key:"semifinals",title:"Semifinals"},{key:"finals",title:"Finals"}];return x.jsx("div",{className:"detailed-bracket",children:E.map(A=>{const L=S.left[A.key]||[],H=S.right[A.key]||[],W=A.key==="finals";return x.jsxs("div",{className:"detailed-round",children:[x.jsx("h3",{children:A.title}),W?x.jsxs("div",{className:"finals-match",children:[x.jsxs("div",{className:"team",children:[S.finals[0].teamA,S.finals[0].winner===S.finals[0].teamA&&" (Winner)"]}),x.jsxs("div",{className:"team",children:[S.finals[0].teamB,S.finals[0].winner===S.finals[0].teamB&&" (Winner)"]})]}):x.jsxs("div",{className:"matches-container",children:[x.jsx("div",{className:"left-side",children:L.map((K,Ue)=>x.jsxs("div",{className:"match",children:[x.jsxs("div",{className:"team",children:[K.teamA,K.winner===K.teamA&&" (Winner)"]}),x.jsxs("div",{className:"team",children:[K.teamB,K.winner===K.teamB&&" (Winner)"]})]},Ue))}),x.jsx("div",{className:"right-side",children:H.map((K,Ue)=>x.jsxs("div",{className:"match",children:[x.jsxs("div",{className:"team",children:[K.teamA,K.winner===K.teamA&&" (Winner)"]}),x.jsxs("div",{className:"team",children:[K.teamB,K.winner===K.teamB&&" (Winner)"]})]},Ue))})]})]},A.key)})})};return r?x.jsx("div",{children:"Loading submissions..."}):x.jsxs("div",{className:"leaderboard-container",children:[x.jsx("button",{className:"close-popup",onClick:l,children:"×"}),x.jsx("h1",{children:"Leaderboard"}),x.jsxs("div",{className:"scoring-info",children:[x.jsx("span",{children:"Scoring"}),x.jsx("span",{className:"info-icon",onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),children:"ℹ️"}),m&&x.jsxs("div",{className:"tooltip",children:[x.jsx("p",{children:"Round 1: 10 Points"}),x.jsx("p",{children:"Round 2: 20 Points"}),x.jsx("p",{children:"Semifinals: 40 Points"}),x.jsx("p",{children:"Final: 80 Points"})]})]}),f?x.jsxs("div",{className:"detailed-view",children:[x.jsx("button",{className:"back-to-leaderboard",onClick:()=>h(null),children:"← Back to Leaderboard"}),x.jsxs("h2",{children:[f.userName,"'s Bracket"]}),x.jsxs("div",{className:"submission-details",children:[x.jsxs("p",{children:["Champion Pick: ",f.champion]}),x.jsxs("p",{children:["Submitted At: ",new Date(f.submittedAt).toLocaleString()]})]}),g(f.bracketData)]}):n.length===0?x.jsx("p",{children:"No submissions yet"}):x.jsxs("table",{className:"leaderboard-table",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"Name"}),x.jsx("th",{children:"Champion"}),x.jsx("th",{children:"Points"})]})}),x.jsx("tbody",{children:n.map(S=>x.jsxs("tr",{onClick:()=>h(S),className:"clickable-row",children:[x.jsx("td",{style:{textDecoration:"underline"},children:S.userName}),x.jsx("td",{children:S.champion}),x.jsx("td",{children:"0"})]},S.id))})]})]})},jA=()=>{const[l,n]=Pt.useState(ES),[s,r]=Pt.useState(null),[u,f]=Pt.useState(!1),[h,m]=Pt.useState(""),[_,g]=Pt.useState(!1),[S,E]=Pt.useState(!1),A=(j,pe,le)=>{n(ft=>{var $,F,ve,v,z,X,V,k,oe,te,We,me,Me,Te,Mt,jn,Jt,pi,yi,gn,nl,vi,il,ll,sl,Ra,Na,xt,Da;const I={...ft},on=(Xe,St,Pe)=>{const xe=["round1","round2","semifinals","finals"],Le=xe.indexOf(Xe);for(let ts=Le+1;ts<xe.length;ts++){const ns=xe[ts],ht=St<=10?"left":"right";if(ns==="finals")(I.finals[0].teamA===Pe||I.finals[0].teamB===Pe)&&(I.finals[0]={...I.finals[0],teamA:I.finals[0].teamA===Pe?null:I.finals[0].teamA,teamALogo:I.finals[0].teamA===Pe?null:I.finals[0].teamALogo,teamB:I.finals[0].teamB===Pe?null:I.finals[0].teamB,teamBLogo:I.finals[0].teamB===Pe?null:I.finals[0].teamBLogo,winner:null},r(null));else{const bo=I[ht][ns].map(st=>{const at=st.teamA===Pe,is=st.teamB===Pe;return{...st,teamA:at?null:st.teamA,teamALogo:at?null:st.teamALogo,teamB:is?null:st.teamB,teamBLogo:is?null:st.teamBLogo,winner:at||is?null:st.winner}});I[ht][ns]=bo}}},Q=(Xe,St,Pe)=>Xe.map(xe=>xe.id===St?{...xe,winner:Pe}:xe),J=(Xe,St)=>{const xe=[...I.left[Xe]||[],...I.right[Xe]||[]].find(Le=>Le.teamA===St||Le.teamB===St);return{teamName:St,teamLogo:(xe==null?void 0:xe.teamA)===St?xe.teamALogo:(xe==null?void 0:xe.teamB)===St?xe.teamBLogo:null}},Ot=[...I.left[j]||[],...I.right[j]||[]].find(Xe=>Xe.id===pe);Ot&&Ot.winner!==null&&on(j,pe,Ot.winner),I.left[j]&&Array.isArray(I.left[j])&&(I.left[j]=Q(I.left[j],pe,le)),I.right[j]&&Array.isArray(I.right[j])&&(I.right[j]=Q(I.right[j],pe,le)),j==="finals"&&(I.finals=Q(I.finals,pe,le),I.finals[0].winner&&r(I.finals[0].winner));const pt=[...I.left[j]||[],...I.right[j]||[]].find(Xe=>Xe.id===pe);if(pt!=null&&pt.nextMatch){const Xe=pt.nextMatch,St=Xe<=10,Pe=Xe>10&&Xe<=14,xe=J(j,le);St&&I.left.round2?I.left.round2=I.left.round2.map(Le=>Le.id===Xe?{...Le,teamA:Le.teamA===null?xe.teamName:Le.teamA,teamALogo:Le.teamALogo===null?xe.teamLogo:Le.teamALogo}:Le):Pe&&I.right.round2&&(I.right.round2=I.right.round2.map(Le=>Le.id===Xe?{...Le,teamA:Le.teamA===null?xe.teamName:Le.teamA,teamALogo:Le.teamALogo===null?xe.teamLogo:Le.teamALogo}:Le))}const he=[...I.left.round1||[],...I.right.round1||[]];I.left.round2&&I.right.round2&&(I.left.round2[0]={...I.left.round2[0],teamA:(($=he[0])==null?void 0:$.winner)||null,teamALogo:(F=he[0])!=null&&F.winner?J("round1",he[0].winner).teamLogo:null,teamB:((ve=he[1])==null?void 0:ve.winner)||null,teamBLogo:(v=he[1])!=null&&v.winner?J("round1",he[1].winner).teamLogo:null},I.left.round2[1]={...I.left.round2[1],teamA:((z=he[2])==null?void 0:z.winner)||null,teamALogo:(X=he[2])!=null&&X.winner?J("round1",he[2].winner).teamLogo:null,teamB:((V=he[3])==null?void 0:V.winner)||null,teamBLogo:(k=he[3])!=null&&k.winner?J("round1",he[3].winner).teamLogo:null},I.right.round2[0]={...I.right.round2[0],teamA:((oe=he[4])==null?void 0:oe.winner)||null,teamALogo:(te=he[4])!=null&&te.winner?J("round1",he[4].winner).teamLogo:null,teamB:((We=he[5])==null?void 0:We.winner)||null,teamBLogo:(me=he[5])!=null&&me.winner?J("round1",he[5].winner).teamLogo:null},I.right.round2[1]={...I.right.round2[1],teamA:((Me=he[6])==null?void 0:Me.winner)||null,teamALogo:(Te=he[6])!=null&&Te.winner?J("round1",he[6].winner).teamLogo:null,teamB:((Mt=he[7])==null?void 0:Mt.winner)||null,teamBLogo:(jn=he[7])!=null&&jn.winner?J("round1",he[7].winner).teamLogo:null});const Ee=[...I.left.round2||[],...I.right.round2||[]];I.left.semifinals&&I.right.semifinals&&(I.left.semifinals[0]={...I.left.semifinals[0],teamA:((Jt=Ee[0])==null?void 0:Jt.winner)||null,teamALogo:(pi=Ee[0])!=null&&pi.winner?J("round2",Ee[0].winner).teamLogo:null,teamB:((yi=Ee[1])==null?void 0:yi.winner)||null,teamBLogo:(gn=Ee[1])!=null&&gn.winner?J("round2",Ee[1].winner).teamLogo:null},I.right.semifinals[0]={...I.right.semifinals[0],teamA:((nl=Ee[2])==null?void 0:nl.winner)||null,teamALogo:(vi=Ee[2])!=null&&vi.winner?J("round2",Ee[2].winner).teamLogo:null,teamB:((il=Ee[3])==null?void 0:il.winner)||null,teamBLogo:(ll=Ee[3])!=null&&ll.winner?J("round2",Ee[3].winner).teamLogo:null});const U=[((Ra=(sl=I.left.semifinals)==null?void 0:sl[0])==null?void 0:Ra.winner)||null,((xt=(Na=I.right.semifinals)==null?void 0:Na[0])==null?void 0:xt.winner)||null];return I.finals&&(I.finals[0]={...I.finals[0],teamA:U[0],teamALogo:U[0]?J("semifinals",U[0]).teamLogo:null,teamB:U[1],teamBLogo:U[1]?J("semifinals",U[1]).teamLogo:null}),j==="finals"&&pe===15&&((Da=I.finals[0])!=null&&Da.winner)&&r(I.finals[0].winner),I})},L=()=>{f(!0)},H=()=>{f(!1),m("")},W=async()=>{if(!h.trim()){alert("Please enter a name for your picks");return}if(!s){alert("Please complete your tournament bracket");return}try{g(!0);const j=Ry(Py,"brackets"),pe=sC(j),le={userName:h.trim(),champion:s,bracketData:{left:l.left,right:l.right,finals:l.finals},submittedAt:new Date().toISOString()};await aC(pe,le),alert("Bracket submitted successfully!"),g(!1),H()}catch(j){console.error("Submission error:",j),alert("Failed to submit bracket. Please try again."),g(!1)}},K=()=>{const j=[];return[...l.left.round1,...l.right.round1].forEach(pe=>{pe.winner&&j.push({round:"Round 1",winner:pe.winner})}),[...l.left.round2,...l.right.round2].forEach(pe=>{pe.winner&&j.push({round:"Round 2",winner:pe.winner})}),[...l.left.semifinals,...l.right.semifinals].forEach(pe=>{pe.winner&&j.push({round:"Semifinals",winner:pe.winner})}),l.finals[0].winner&&j.push({round:"Finals",winner:l.finals[0].winner}),j},Ue=()=>{E(!0)},Ie=()=>{E(!1)};return x.jsxs("div",{className:"app-container",children:[x.jsxs("div",{className:"tournament-header",children:[x.jsx("button",{onClick:Ue,className:"leaderboard-button",children:"Leaderboard"}),x.jsx("div",{className:"tournament-title",children:"Crown Invitational"}),x.jsx("button",{onClick:L,className:"submit-bracket-button",children:"Submit Bracket"})]}),S&&x.jsx("div",{className:"popup-overlay",children:x.jsx("div",{className:"popup-content leaderboard-popup",children:x.jsx(kA,{onClose:Ie})})}),u&&x.jsx("div",{className:"popup-overlay",children:x.jsxs("div",{className:"popup-content",children:[x.jsx("button",{className:"close-popup",onClick:H,children:"×"}),x.jsx("h2",{children:"Your Tournament Picks"}),x.jsxs("div",{className:"submission-section",children:[x.jsx("input",{type:"text",placeholder:"Enter your name",value:h,onChange:j=>m(j.target.value),className:"name-input"}),x.jsx("button",{onClick:W,disabled:_,className:"final-submit-button",children:_?"Submitting...":"Submit My Picks"})]}),x.jsxs("div",{className:"winners-list",children:[x.jsx("h3",{children:"Winners by Round"}),K().map((j,pe)=>x.jsxs("div",{className:"winner-row",children:[x.jsxs("span",{className:"winner-round",children:[j.round,":"]}),x.jsx("span",{className:"winner-team",children:j.winner})]},pe))]}),s&&x.jsxs("div",{className:"champion-confirmation",children:[x.jsx("h3",{children:"Tournament Champion"}),x.jsx("p",{children:s})]})]})}),x.jsxs("div",{className:"bracket-container",children:[x.jsxs("div",{className:"round-container",children:[x.jsx("h2",{children:"Round 1"}),l.left.round1.map(j=>x.jsx(Gi,{match:j,round:"round1",onSelectWinner:A},j.id))]}),x.jsxs("div",{className:"round-container",children:[x.jsx("h2",{children:"Round 2"}),l.left.round2.map(j=>x.jsx(Gi,{match:j,round:"round2",onSelectWinner:A},j.id))]}),x.jsxs("div",{className:"round-container",children:[x.jsx("h2",{children:"Semifinal"}),l.left.semifinals.map(j=>x.jsx(Gi,{match:j,round:"semifinals",onSelectWinner:A},j.id))]}),x.jsxs("div",{className:"round-container finals",children:[x.jsx("h2",{children:"Final"}),l.finals.map(j=>x.jsx(Gi,{match:j,round:"finals",onSelectWinner:A},j.id)),x.jsx("div",{className:"champion-box",children:x.jsxs("h2",{children:["Champion: ",s||"TBD"]})})]}),x.jsxs("div",{className:"round-container",children:[x.jsx("h2",{children:"Semifinal"}),l.right.semifinals.map(j=>x.jsx(Gi,{match:j,round:"semifinals",onSelectWinner:A},j.id))]}),x.jsxs("div",{className:"round-container",children:[x.jsx("h2",{children:"Round 2"}),l.right.round2.map(j=>x.jsx(Gi,{match:j,round:"round2",onSelectWinner:A},j.id))]}),x.jsxs("div",{className:"round-container",children:[x.jsx("h2",{children:"Round 1"}),l.right.round1.map(j=>x.jsx(Gi,{match:j,round:"round1",onSelectWinner:A},j.id))]})]})]})};function qA(){return x.jsx("div",{className:"App",children:x.jsx(jA,{})})}bS.createRoot(document.getElementById("root")).render(x.jsx(Pt.StrictMode,{children:x.jsx(qA,{})}));
